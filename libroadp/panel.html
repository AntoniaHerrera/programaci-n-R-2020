<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 7 Datos de panel | AnalizaR Datos Políticos</title>
  <meta name="description" content="Capítulo 7 Datos de panel | AnalizaR Datos Políticos" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 7 Datos de panel | AnalizaR Datos Políticos" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 7 Datos de panel | AnalizaR Datos Políticos" />
  
  
  

<meta name="author" content="Francisco Urdinez y Andrés Cruz Labrín (editores)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="case-sel.html"/>
<link rel="next" href="logit.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script>
% https://stackoverflow.com/a/4425214/8242291
var links = document.links;

for (var i = 0, linksLength = links.length; i < linksLength; i++) {

    if (links[i].hostname != window.location.hostname) {
        links[i].target = '_blank';
    }

}
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><b><a href="./index.html"><img style="float: left; margin-right: 5px;" src="favicon.ico"></img>AnalizaR datos políticos</a></b></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#inicio"><i class="fa fa-check"></i>Inicio</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cómo-contribuir"><i class="fa fa-check"></i>¿Cómo contribuir?</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-los-autores-y-autoras"><i class="fa fa-check"></i>Sobre los autores y autoras</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prefacio"><i class="fa fa-check"></i>Prefacio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimientos"><i class="fa fa-check"></i>Agradecimientos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#qué-esperar-del-libro"><i class="fa fa-check"></i>Qué esperar del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura-del-libro"><i class="fa fa-check"></i>Estructura del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cómo-utilizar-el-libro-en-un-curso-de-métodos"><i class="fa fa-check"></i>¿Cómo utilizar el libro en un curso de métodos?</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#primera-opción-curso-semestral-de-análisis-de-datos-políticos"><i class="fa fa-check"></i>Primera opción: Curso semestral de análisis de datos políticos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#segunda-opción-curso-semestral-de-introducción-a-métodos-cuantitativos"><i class="fa fa-check"></i>Segunda opción: Curso semestral de introducción a métodos cuantitativos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerrequisitos"><i class="fa fa-check"></i>Prerrequisitos</a></li>
</ul></li>
<li class="part"><span><b>I Introducción a R</b></span></li>
<li class="chapter" data-level="1" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>1</b> R Básico</a><ul>
<li class="chapter" data-level="1.1" data-path="basic-r.html"><a href="basic-r.html#instalación"><i class="fa fa-check"></i><b>1.1</b> Instalación</a><ul>
<li class="chapter" data-level="" data-path="basic-r.html"><a href="basic-r.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="basic-r.html"><a href="basic-r.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basic-r.html"><a href="basic-r.html#consola"><i class="fa fa-check"></i><b>1.2</b> Consola</a></li>
<li class="chapter" data-level="1.3" data-path="basic-r.html"><a href="basic-r.html#script"><i class="fa fa-check"></i><b>1.3</b> Script</a></li>
<li class="chapter" data-level="1.4" data-path="basic-r.html"><a href="basic-r.html#objetos-y-funciones"><i class="fa fa-check"></i><b>1.4</b> Objetos (y funciones)</a><ul>
<li class="chapter" data-level="1.4.1" data-path="basic-r.html"><a href="basic-r.html#vectores"><i class="fa fa-check"></i><b>1.4.1</b> Vectores</a></li>
<li class="chapter" data-level="1.4.2" data-path="basic-r.html"><a href="basic-r.html#basic-r-functions"><i class="fa fa-check"></i><b>1.4.2</b> Functions</a></li>
<li class="chapter" data-level="1.4.3" data-path="basic-r.html"><a href="basic-r.html#archivos-gráficos-paquetes-ayuda"><i class="fa fa-check"></i><b>1.4.3</b> Archivos / gráficos / paquetes / ayuda</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Manejo de datos</a><ul>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#los-paquetes-que-necesitas-instalar"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#introducción-al-manejo-de-datos"><i class="fa fa-check"></i><b>2.1</b> Introducción al manejo de datos</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data.html"><a href="data.html#nuestra-base-de-datos"><i class="fa fa-check"></i><b>2.1.1</b> Nuestra base de datos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#describiendo-una-base-de-datos"><i class="fa fa-check"></i><b>2.2</b> Describiendo una base de datos</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#operaciones-básicas"><i class="fa fa-check"></i><b>2.3</b> Operaciones básicas</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data.html"><a href="data.html#seleccionar-columnas"><i class="fa fa-check"></i><b>2.3.1</b> Seleccionar columnas</a></li>
<li class="chapter" data-level="2.3.2" data-path="data.html"><a href="data.html#renombra-las-columnas"><i class="fa fa-check"></i><b>2.3.2</b> Renombra las columnas</a></li>
<li class="chapter" data-level="2.3.3" data-path="data.html"><a href="data.html#filtrar-las-observaciones"><i class="fa fa-check"></i><b>2.3.3</b> Filtrar las observaciones</a></li>
<li class="chapter" data-level="2.3.4" data-path="data.html"><a href="data.html#cambiar-el-orden-de-una-base-de-datos"><i class="fa fa-check"></i><b>2.3.4</b> Cambiar el orden de una base de datos</a></li>
<li class="chapter" data-level="2.3.5" data-path="data.html"><a href="data.html#transformar-y-crear-variables"><i class="fa fa-check"></i><b>2.3.5</b> Transformar y crear variables</a></li>
<li class="chapter" data-level="2.3.6" data-path="data.html"><a href="data.html#resúmenes"><i class="fa fa-check"></i><b>2.3.6</b> Resúmenes</a></li>
<li class="chapter" data-level="2.3.7" data-path="data.html"><a href="data.html#resúmenes-por-grupo"><i class="fa fa-check"></i><b>2.3.7</b> Resúmenes por grupo</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data.html"><a href="data.html#comandos-en-cadena"><i class="fa fa-check"></i><b>2.4</b> Comandos en cadena</a></li>
<li class="chapter" data-level="2.5" data-path="data.html"><a href="data.html#data-recodificar"><i class="fa fa-check"></i><b>2.5</b> Recodificar valores</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data.html"><a href="data.html#pivoteo-de-datos-data-pivot"><i class="fa fa-check"></i><b>2.5.1</b> Pivoteo de datos {data-pivot}</a></li>
<li class="chapter" data-level="2.5.2" data-path="data.html"><a href="data.html#bases-de-datos-anchas-con-más-de-una-variable-de-interés"><i class="fa fa-check"></i><b>2.5.2</b> Bases de datos anchas con más de una variable de interés</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualización de datos</a><ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#lecturas-sugeridas"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#los-paquetes-que-necesitas-instalar-1"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#por-qué-visualizar-mis-datos"><i class="fa fa-check"></i><b>3.1</b> ¿Por qué visualizar mis datos?</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#primeros-pasos"><i class="fa fa-check"></i><b>3.2</b> Primeros pasos</a><ul>
<li class="chapter" data-level="3.2.1" data-path="dataviz.html"><a href="dataviz.html#las-capas-del-universo-ggplotiano"><i class="fa fa-check"></i><b>3.2.1</b> Las capas del “universo ggplotiano”</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#ejemplo-aplicado-elecciones-locales-y-visualización-de-datos"><i class="fa fa-check"></i><b>3.3</b> Ejemplo aplicado: Elecciones locales y visualización de datos</a><ul>
<li class="chapter" data-level="3.3.1" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-barras"><i class="fa fa-check"></i><b>3.3.1</b> Gráfico de barras</a></li>
<li class="chapter" data-level="3.3.2" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-caja"><i class="fa fa-check"></i><b>3.3.2</b> Gráfico de caja</a></li>
<li class="chapter" data-level="3.3.3" data-path="dataviz.html"><a href="dataviz.html#histograma"><i class="fa fa-check"></i><b>3.3.3</b> Histograma</a></li>
<li class="chapter" data-level="3.3.4" data-path="dataviz.html"><a href="dataviz.html#relación-entre-las-variables"><i class="fa fa-check"></i><b>3.3.4</b> Relación entre las variables</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#para-continuar-aprendiendo"><i class="fa fa-check"></i><b>3.4</b> Para continuar aprendiendo</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="load.html"><a href="load.html"><i class="fa fa-check"></i><b>4</b> Carga de datos</a><ul>
<li class="chapter" data-level="" data-path="load.html"><a href="load.html#los-paquetes-que-necesitas-instalar-2"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="4.1" data-path="load.html"><a href="load.html#load-intro"><i class="fa fa-check"></i><b>4.1</b> Introducción</a></li>
<li class="chapter" data-level="4.2" data-path="load.html"><a href="load.html#carga-formatos"><i class="fa fa-check"></i><b>4.2</b> Diferentes formatos de bases de datos</a></li>
<li class="chapter" data-level="4.3" data-path="load.html"><a href="load.html#los-archivos-separados-por-delimitadores-.csv-y-.tsv"><i class="fa fa-check"></i><b>4.3</b> Los archivos separados por delimitadores (.csv y .tsv)</a><ul>
<li class="chapter" data-level="4.3.1" data-path="load.html"><a href="load.html#r-básico-utils"><i class="fa fa-check"></i><b>4.3.1</b> R básico: <code>utils</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="load.html"><a href="load.html#load-r"><i class="fa fa-check"></i><b>4.3.2</b> Archivos creados con R (.Rdata y .rds)</a></li>
<li class="chapter" data-level="4.3.3" data-path="load.html"><a href="load.html#load-labels"><i class="fa fa-check"></i><b>4.3.3</b> Bases de datos con etiquetas (de Stata or SPSS)</a></li>
<li class="chapter" data-level="4.3.4" data-path="load.html"><a href="load.html#load-excel"><i class="fa fa-check"></i><b>4.3.4</b> Archivos de Excel</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="load.html"><a href="load.html#load-large"><i class="fa fa-check"></i><b>4.4</b> Grandes bases de datos tabulares</a></li>
</ul></li>
<li class="part"><span><b>II Modelos</b></span></li>
<li class="chapter" data-level="5" data-path="linear.html"><a href="linear.html"><i class="fa fa-check"></i><b>5</b> Modelos lineales</a><ul>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#lecturas-sugeridas-1"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#los-paquetes-que-necesitas-instalar-3"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#introducción-1"><i class="fa fa-check"></i>Introducción</a></li>
<li class="chapter" data-level="5.1" data-path="linear.html"><a href="linear.html#mínimos-cuadrados-ordinarios-en-r"><i class="fa fa-check"></i><b>5.1</b> Mínimos cuadrados ordinarios en R</a><ul>
<li class="chapter" data-level="5.1.1" data-path="linear.html"><a href="linear.html#cómo-obtener-estadísticas-descriptivas"><i class="fa fa-check"></i><b>5.1.1</b> Cómo obtener estadísticas descriptivas</a></li>
<li class="chapter" data-level="5.1.2" data-path="linear.html"><a href="linear.html#estadísticas-descriptivas-y-distribución-de-las-variables-en-el-modelo"><i class="fa fa-check"></i><b>5.1.2</b> Estadísticas descriptivas y distribución de las variables en el modelo</a></li>
<li class="chapter" data-level="5.1.3" data-path="linear.html"><a href="linear.html#matriz-de-correlación-de-variables-independientes"><i class="fa fa-check"></i><b>5.1.3</b> Matriz de correlación de variables independientes</a></li>
<li class="chapter" data-level="5.1.4" data-path="linear.html"><a href="linear.html#distribución-de-las-variables-de-interés"><i class="fa fa-check"></i><b>5.1.4</b> Distribución de las variables de interés</a></li>
<li class="chapter" data-level="5.1.5" data-path="linear.html"><a href="linear.html#relación-entre-la-variable-dependiente-e-independiente"><i class="fa fa-check"></i><b>5.1.5</b> Relación entre la variable dependiente e independiente</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="linear.html"><a href="linear.html#modelo-bivariado-regresión-lineal-simple"><i class="fa fa-check"></i><b>5.2</b> Modelo bivariado: regresión lineal simple</a><ul>
<li class="chapter" data-level="5.2.1" data-path="linear.html"><a href="linear.html#la-función-lm"><i class="fa fa-check"></i><b>5.2.1</b> La función <code>lm</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="linear.html"><a href="linear.html#representación-gráfica"><i class="fa fa-check"></i><b>5.2.2</b> Representación gráfica</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="linear.html"><a href="linear.html#modelo-multivariado-regresión-múltiple"><i class="fa fa-check"></i><b>5.3</b> Modelo multivariado: regresión múltiple</a></li>
<li class="chapter" data-level="5.4" data-path="linear.html"><a href="linear.html#ajuste-del-modelo"><i class="fa fa-check"></i><b>5.4</b> Ajuste del modelo</a></li>
<li class="chapter" data-level="5.5" data-path="linear.html"><a href="linear.html#inferencia-en-los-modelos-lineales-múltiples"><i class="fa fa-check"></i><b>5.5</b> Inferencia en los modelos lineales múltiples</a></li>
<li class="chapter" data-level="5.6" data-path="linear.html"><a href="linear.html#testeando-los-supuestos-de-mco"><i class="fa fa-check"></i><b>5.6</b> Testeando los supuestos de MCO</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="case-sel.html"><a href="case-sel.html"><i class="fa fa-check"></i><b>6</b> Selección de casos basada en regresiones</a><ul>
<li class="chapter" data-level="" data-path="case-sel.html"><a href="case-sel.html#lecturas-sugeridas-2"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="case-sel.html"><a href="case-sel.html#los-paquetes-que-necesitas-instalar-4"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="6.1" data-path="case-sel.html"><a href="case-sel.html#selección-de-estudios-de-casos"><i class="fa fa-check"></i><b>6.1</b> Selección de estudios de casos</a></li>
<li class="chapter" data-level="6.2" data-path="case-sel.html"><a href="case-sel.html#qué-estudio-de-caso-debería-seleccionar-para-la-investigación-cualitativa"><i class="fa fa-check"></i><b>6.2</b> ¿Qué estudio de caso debería seleccionar para la investigación cualitativa?</a><ul>
<li class="chapter" data-level="6.2.1" data-path="case-sel.html"><a href="case-sel.html#casos-típicos"><i class="fa fa-check"></i><b>6.2.1</b> Casos típicos</a></li>
<li class="chapter" data-level="6.2.2" data-path="case-sel.html"><a href="case-sel.html#los-valores-atípicos"><i class="fa fa-check"></i><b>6.2.2</b> Los valores atípicos</a></li>
<li class="chapter" data-level="6.2.3" data-path="case-sel.html"><a href="case-sel.html#casos-influyentes"><i class="fa fa-check"></i><b>6.2.3</b> Casos influyentes</a></li>
<li class="chapter" data-level="6.2.4" data-path="case-sel.html"><a href="case-sel.html#casos-extremos"><i class="fa fa-check"></i><b>6.2.4</b> Casos extremos</a></li>
<li class="chapter" data-level="6.2.5" data-path="case-sel.html"><a href="case-sel.html#casos-más-similares"><i class="fa fa-check"></i><b>6.2.5</b> Casos más similares</a></li>
<li class="chapter" data-level="6.2.6" data-path="case-sel.html"><a href="case-sel.html#casos-mas-diferentes"><i class="fa fa-check"></i><b>6.2.6</b> Casos mas diferentes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="case-sel.html"><a href="case-sel.html#la-importancia-de-la-combinación-de-métodos"><i class="fa fa-check"></i><b>6.3</b> La importancia de la combinación de métodos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="panel.html"><a href="panel.html"><i class="fa fa-check"></i><b>7</b> Datos de panel</a><ul>
<li class="chapter" data-level="" data-path="panel.html"><a href="panel.html#lecturas-sugeridas-3"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="panel.html"><a href="panel.html#los-paquetes-que-necesitas-instalar-5"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="7.1" data-path="panel.html"><a href="panel.html#introducción-2"><i class="fa fa-check"></i><b>7.1</b> Introducción</a></li>
<li class="chapter" data-level="7.2" data-path="panel.html"><a href="panel.html#describiendo-la-base-de-datos-en-panel"><i class="fa fa-check"></i><b>7.2</b> Describiendo la base de datos en panel</a><ul>
<li class="chapter" data-level="7.2.1" data-path="panel.html"><a href="panel.html#opción-a.-gráfico-de-líneas"><i class="fa fa-check"></i><b>7.2.1</b> Opción A. Gráfico de líneas</a></li>
<li class="chapter" data-level="7.2.2" data-path="panel.html"><a href="panel.html#option-b.-gráfico-de-cajas"><i class="fa fa-check"></i><b>7.2.2</b> Option B. Gráfico de cajas</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="panel.html"><a href="panel.html#modelización-de-la-variación-a-nivel-de-grupo"><i class="fa fa-check"></i><b>7.3</b> Modelización de la variación a nivel de grupo</a></li>
<li class="chapter" data-level="7.4" data-path="panel.html"><a href="panel.html#efectos-fijos-vs.-efectos-aleatorios"><i class="fa fa-check"></i><b>7.4</b> Efectos fijos vs. efectos aleatorios</a><ul>
<li class="chapter" data-level="7.4.1" data-path="panel.html"><a href="panel.html#test-de-hausman"><i class="fa fa-check"></i><b>7.4.1</b> Test de Hausman</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="panel.html"><a href="panel.html#testeando-raíces-unitarias"><i class="fa fa-check"></i><b>7.5</b> Testeando raíces unitarias</a><ul>
<li class="chapter" data-level="7.5.1" data-path="panel.html"><a href="panel.html#creación-de-variables-rezagadas-lags-y-variables-prospectivas-leads"><i class="fa fa-check"></i><b>7.5.1</b> Creación de variables rezagadas (<em>lags</em>) y variables prospectivas (<em>leads</em>)</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="panel.html"><a href="panel.html#errores-estándar-robustos-corregidos-para-panel"><i class="fa fa-check"></i><b>7.6</b> Errores estándar robustos corregidos para panel</a><ul>
<li class="chapter" data-level="7.6.1" data-path="panel.html"><a href="panel.html#errores-estándar-robustos-1"><i class="fa fa-check"></i><b>7.6.1</b> Errores estándar robustos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>8</b> Modelos logísticos</a><ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#lecturas-sugeridas-4"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#los-paquetes-que-necesitas-instalar-6"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="8.1" data-path="logit.html"><a href="logit.html#introducción-3"><i class="fa fa-check"></i><b>8.1</b> Introducción</a></li>
<li class="chapter" data-level="8.2" data-path="logit.html"><a href="logit.html#uso-de-los-modelos-logísticos"><i class="fa fa-check"></i><b>8.2</b> Uso de los modelos logísticos</a></li>
<li class="chapter" data-level="8.3" data-path="logit.html"><a href="logit.html#cómo-se-estiman-las-probabilidades"><i class="fa fa-check"></i><b>8.3</b> ¿Cómo se estiman las probabilidades?</a></li>
<li class="chapter" data-level="8.4" data-path="logit.html"><a href="logit.html#estimación-de-los-modelos"><i class="fa fa-check"></i><b>8.4</b> Estimación de los modelos</a></li>
<li class="chapter" data-level="8.5" data-path="logit.html"><a href="logit.html#creando-tablas"><i class="fa fa-check"></i><b>8.5</b> Creando tablas</a></li>
<li class="chapter" data-level="8.6" data-path="logit.html"><a href="logit.html#representación-visual-de-los-resultados"><i class="fa fa-check"></i><b>8.6</b> Representación visual de los resultados</a><ul>
<li class="chapter" data-level="8.6.1" data-path="logit.html"><a href="logit.html#visualización-de-las-interacciones-entre-las-variables"><i class="fa fa-check"></i><b>8.6.1</b> Visualización de las interacciones entre las variables</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="logit.html"><a href="logit.html#medidas-para-evaluar-el-ajuste-de-los-modelos"><i class="fa fa-check"></i><b>8.7</b> Medidas para evaluar el ajuste de los modelos</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="surv.html"><a href="surv.html"><i class="fa fa-check"></i><b>9</b> Modelos de supervivencia</a><ul>
<li class="chapter" data-level="" data-path="surv.html"><a href="surv.html#lecturas-sugeridas-5"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="surv.html"><a href="surv.html#los-paquetes-que-necesitas-instalar-7"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="9.1" data-path="surv.html"><a href="surv.html#introducción-4"><i class="fa fa-check"></i><b>9.1</b> Introducción</a></li>
<li class="chapter" data-level="9.2" data-path="surv.html"><a href="surv.html#cómo-interpretamos-las-tasas-de-riesgo"><i class="fa fa-check"></i><b>9.2</b> ¿Cómo interpretamos las tasas de riesgo?</a></li>
<li class="chapter" data-level="9.3" data-path="surv.html"><a href="surv.html#el-modelo-cox-de-riesgos-proporcionales"><i class="fa fa-check"></i><b>9.3</b> El modelo Cox de riesgos proporcionales</a></li>
<li class="chapter" data-level="9.4" data-path="surv.html"><a href="surv.html#estimación-de-los-modelos-de-cox-en-r"><i class="fa fa-check"></i><b>9.4</b> Estimación de los modelos de Cox en R</a></li>
<li class="chapter" data-level="9.5" data-path="surv.html"><a href="surv.html#modelos-de-supervivencia-e-interpretación-sus-coeficientes-como-hazard-ratios."><i class="fa fa-check"></i><b>9.5</b> Modelos de supervivencia e interpretación sus coeficientes como Hazard Ratios.</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="causal-inf.html"><a href="causal-inf.html"><i class="fa fa-check"></i><b>10</b> Inferencia causal</a><ul>
<li class="chapter" data-level="" data-path="causal-inf.html"><a href="causal-inf.html#lecturas-sugeridas-6"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="causal-inf.html"><a href="causal-inf.html#los-paquetes-que-necesitas-instalar-8"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="10.1" data-path="causal-inf.html"><a href="causal-inf.html#introducción-5"><i class="fa fa-check"></i><b>10.1</b> Introducción</a></li>
<li class="chapter" data-level="10.2" data-path="causal-inf.html"><a href="causal-inf.html#causalidad-y-gráficos-causales"><i class="fa fa-check"></i><b>10.2</b> Causalidad y gráficos causales</a></li>
<li class="chapter" data-level="10.3" data-path="causal-inf.html"><a href="causal-inf.html#midiendo-efectos-causales"><i class="fa fa-check"></i><b>10.3</b> Midiendo efectos causales</a></li>
<li class="chapter" data-level="10.4" data-path="causal-inf.html"><a href="causal-inf.html#dags-y-asociaciones-estadísticas"><i class="fa fa-check"></i><b>10.4</b> DAGs y asociaciones estadísticas</a></li>
<li class="chapter" data-level="10.5" data-path="causal-inf.html"><a href="causal-inf.html#puertas-traseras-y-cálculos-hacer"><i class="fa fa-check"></i><b>10.5</b> Puertas traseras y cálculos “<em>hacer</em>”</a></li>
<li class="chapter" data-level="10.6" data-path="causal-inf.html"><a href="causal-inf.html#dibujar-y-analizar-dags"><i class="fa fa-check"></i><b>10.6</b> Dibujar y analizar DAGs</a><ul>
<li class="chapter" data-level="10.6.1" data-path="causal-inf.html"><a href="causal-inf.html#dibujar-un-dag-con-dagitty"><i class="fa fa-check"></i><b>10.6.1</b> Dibujar un DAG con DAGitty</a></li>
<li class="chapter" data-level="10.6.2" data-path="causal-inf.html"><a href="causal-inf.html#encontrar-sets-de-ajuste-con-dagitty"><i class="fa fa-check"></i><b>10.6.2</b> Encontrar sets de ajuste con DAGitty</a></li>
<li class="chapter" data-level="10.6.3" data-path="causal-inf.html"><a href="causal-inf.html#diseñar-dags-en-r"><i class="fa fa-check"></i><b>10.6.3</b> Diseñar DAGs en R</a></li>
<li class="chapter" data-level="10.6.4" data-path="causal-inf.html"><a href="causal-inf.html#encontrar-caminos-y-sets-de-ajustes-con-r"><i class="fa fa-check"></i><b>10.6.4</b> Encontrar caminos y sets de ajustes con R</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="causal-inf.html"><a href="causal-inf.html#haciendo-ajustes-causales"><i class="fa fa-check"></i><b>10.7</b> Haciendo ajustes causales</a><ul>
<li class="chapter" data-level="10.7.1" data-path="causal-inf.html"><a href="causal-inf.html#datos-de-redes-para-mosquitos"><i class="fa fa-check"></i><b>10.7.1</b> Datos de redes para mosquitos</a></li>
<li class="chapter" data-level="10.7.2" data-path="causal-inf.html"><a href="causal-inf.html#verificar-las-independencias-condicionales"><i class="fa fa-check"></i><b>10.7.2</b> Verificar las independencias condicionales</a></li>
<li class="chapter" data-level="10.7.3" data-path="causal-inf.html"><a href="causal-inf.html#encuentra-el-set-de-ajuste"><i class="fa fa-check"></i><b>10.7.3</b> Encuentra el set de ajuste</a></li>
<li class="chapter" data-level="10.7.4" data-path="causal-inf.html"><a href="causal-inf.html#estimación-ingenua-no-ajustada"><i class="fa fa-check"></i><b>10.7.4</b> Estimación ingenua no ajustada</a></li>
<li class="chapter" data-level="10.7.5" data-path="causal-inf.html"><a href="causal-inf.html#regresiones"><i class="fa fa-check"></i><b>10.7.5</b> Regresiones</a></li>
<li class="chapter" data-level="10.7.6" data-path="causal-inf.html"><a href="causal-inf.html#matching"><i class="fa fa-check"></i><b>10.7.6</b> Matching</a></li>
<li class="chapter" data-level="10.7.7" data-path="causal-inf.html"><a href="causal-inf.html#ponderación-de-probabilidad-inversa"><i class="fa fa-check"></i><b>10.7.7</b> Ponderación de probabilidad inversa</a></li>
<li class="chapter" data-level="10.7.8" data-path="causal-inf.html"><a href="causal-inf.html#comparando-todos-los-métodos"><i class="fa fa-check"></i><b>10.7.8</b> Comparando todos los métodos</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="causal-inf.html"><a href="causal-inf.html#cconsejos-finales"><i class="fa fa-check"></i><b>10.8</b> CConsejos finales</a></li>
</ul></li>
<li class="part"><span><b>III Aplicaciones</b></span></li>
<li class="chapter" data-level="11" data-path="adv-data.html"><a href="adv-data.html"><i class="fa fa-check"></i><b>11</b> Manejo avanzado de datos políticos</a><ul>
<li class="chapter" data-level="" data-path="adv-data.html"><a href="adv-data.html#lecturas-sugeridas-7"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="adv-data.html"><a href="adv-data.html#los-paquetes-que-necesitas-instalar-9"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="11.1" data-path="adv-data.html"><a href="adv-data.html#introducción-6"><i class="fa fa-check"></i><b>11.1</b> Introducción</a></li>
<li class="chapter" data-level="11.2" data-path="adv-data.html"><a href="adv-data.html#uniendo-bases-de-datos"><i class="fa fa-check"></i><b>11.2</b> Uniendo bases de datos</a></li>
<li class="chapter" data-level="11.3" data-path="adv-data.html"><a href="adv-data.html#estandarizando-los-códigos-de-país"><i class="fa fa-check"></i><b>11.3</b> Estandarizando los códigos de país</a></li>
<li class="chapter" data-level="11.4" data-path="adv-data.html"><a href="adv-data.html#la-unión-borrosa-o-inexacta-de-los-datos"><i class="fa fa-check"></i><b>11.4</b> La unión borrosa o inexacta de los datos</a></li>
<li class="chapter" data-level="11.5" data-path="adv-data.html"><a href="adv-data.html#gestión-de-valores-perdidos"><i class="fa fa-check"></i><b>11.5</b> Gestión de valores perdidos</a><ul>
<li class="chapter" data-level="11.5.1" data-path="adv-data.html"><a href="adv-data.html#tipos-de-valores-perdidos"><i class="fa fa-check"></i><b>11.5.1</b> Tipos de valores perdidos</a></li>
<li class="chapter" data-level="11.5.2" data-path="adv-data.html"><a href="adv-data.html#descripción-de-los-valores-que-faltan-en-la-base-de-datos"><i class="fa fa-check"></i><b>11.5.2</b> Descripción de los valores que faltan en la base de datos</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="adv-data.html"><a href="adv-data.html#imputación-de-valores-perdidos"><i class="fa fa-check"></i><b>11.6</b> Imputación de valores perdidos</a><ul>
<li class="chapter" data-level="11.6.1" data-path="adv-data.html"><a href="adv-data.html#regresiones-luego-de-imputar-datos"><i class="fa fa-check"></i><b>11.6.1</b> Regresiones luego de imputar datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="web-mining.html"><a href="web-mining.html"><i class="fa fa-check"></i><b>12</b> Web Scraping</a><ul>
<li class="chapter" data-level="" data-path="web-mining.html"><a href="web-mining.html#lecturas-sugeridas-8"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="web-mining.html"><a href="web-mining.html#los-paquetes-que-necesitas-instalar-10"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="12.1" data-path="web-mining.html"><a href="web-mining.html#introducción-7"><i class="fa fa-check"></i><b>12.1</b> Introducción</a></li>
<li class="chapter" data-level="12.2" data-path="web-mining.html"><a href="web-mining.html#formas-de-hacer-web-scraping"><i class="fa fa-check"></i><b>12.2</b> Formas de hacer web scraping</a><ul>
<li class="chapter" data-level="12.2.1" data-path="web-mining.html"><a href="web-mining.html#estándar-de-exclusión-de-robot"><i class="fa fa-check"></i><b>12.2.1</b> Estándar de exclusión de robot</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="web-mining.html"><a href="web-mining.html#web-scraping-en-r"><i class="fa fa-check"></i><b>12.3</b> Web scraping en R</a><ul>
<li class="chapter" data-level="12.3.1" data-path="web-mining.html"><a href="web-mining.html#ejemplo-aplicado-los-comunicados-de-prensa-de-la-organización-de-estados-americanos-oea"><i class="fa fa-check"></i><b>12.3.1</b> Ejemplo aplicado: los comunicados de prensa de la Organización de Estados Americanos (OEA)</a></li>
<li class="chapter" data-level="12.3.2" data-path="web-mining.html"><a href="web-mining.html#caraga-el-html-para-trabajar-con-r"><i class="fa fa-check"></i><b>12.3.2</b> Caraga el html para trabajar con R</a></li>
<li class="chapter" data-level="12.3.3" data-path="web-mining.html"><a href="web-mining.html#extraer-la-información-con-html_nodes-html_text"><i class="fa fa-check"></i><b>12.3.3</b> Extraer la información con <code>html_nodes()</code> + <code>html_text()</code></a></li>
<li class="chapter" data-level="12.3.4" data-path="web-mining.html"><a href="web-mining.html#iteraciones"><i class="fa fa-check"></i><b>12.3.4</b> Iteraciones</a></li>
<li class="chapter" data-level="12.3.5" data-path="web-mining.html"><a href="web-mining.html#funciones-personalizadas-recetas"><i class="fa fa-check"></i><b>12.3.5</b> Funciones personalizadas (recetas)</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="web-mining.html"><a href="web-mining.html#usando-apis-y-extrayendo-datos-de-twitter"><i class="fa fa-check"></i><b>12.4</b> Usando APIs y extrayendo datos de Twitter</a><ul>
<li class="chapter" data-level="12.4.1" data-path="web-mining.html"><a href="web-mining.html#buscar-una-palabra-clave"><i class="fa fa-check"></i><b>12.4.1</b> Buscar una palabra clave</a></li>
<li class="chapter" data-level="12.4.2" data-path="web-mining.html"><a href="web-mining.html#buscar-una-frase"><i class="fa fa-check"></i><b>12.4.2</b> Buscar una frase</a></li>
<li class="chapter" data-level="12.4.3" data-path="web-mining.html"><a href="web-mining.html#descargando-características-relacionadas-con-los-usuarios-de-twitter"><i class="fa fa-check"></i><b>12.4.3</b> Descargando características relacionadas con los usuarios de Twitter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="qta.html"><a href="qta.html"><i class="fa fa-check"></i><b>13</b> Análisis cuantitativo de textos políticos</a><ul>
<li class="chapter" data-level="" data-path="qta.html"><a href="qta.html#lecturas-recomendadas"><i class="fa fa-check"></i>Lecturas recomendadas</a></li>
<li class="chapter" data-level="" data-path="qta.html"><a href="qta.html#paquetes-que-necesitas-instalar"><i class="fa fa-check"></i>Paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="13.1" data-path="qta.html"><a href="qta.html#sqta1"><i class="fa fa-check"></i><b>13.1</b> Análisis de hashtags políticos</a><ul>
<li class="chapter" data-level="13.1.1" data-path="qta.html"><a href="qta.html#exploración-de-datos-de-twitter"><i class="fa fa-check"></i><b>13.1.1</b> Exploración de datos de Twitter</a></li>
<li class="chapter" data-level="13.1.2" data-path="qta.html"><a href="qta.html#diagnóstico-visual"><i class="fa fa-check"></i><b>13.1.2</b> Diagnóstico visual</a></li>
<li class="chapter" data-level="13.1.3" data-path="qta.html"><a href="qta.html#hashtags-más-utilizados"><i class="fa fa-check"></i><b>13.1.3</b> Hashtags más utilizados</a></li>
<li class="chapter" data-level="13.1.4" data-path="qta.html"><a href="qta.html#wordclouds-nubes-de-palabras"><i class="fa fa-check"></i><b>13.1.4</b> Wordclouds (Nubes de palabras)</a></li>
<li class="chapter" data-level="13.1.5" data-path="qta.html"><a href="qta.html#nubes-de-palabras-por-grupos"><i class="fa fa-check"></i><b>13.1.5</b> Nubes de palabras por grupos</a></li>
<li class="chapter" data-level="13.1.6" data-path="qta.html"><a href="qta.html#gráficos-de-barras"><i class="fa fa-check"></i><b>13.1.6</b> Gráficos de barras</a></li>
<li class="chapter" data-level="13.1.7" data-path="qta.html"><a href="qta.html#variación-temporal-en-el-uso-de-hashtags"><i class="fa fa-check"></i><b>13.1.7</b> Variación temporal en el uso de hashtags</a></li>
<li class="chapter" data-level="13.1.8" data-path="qta.html"><a href="qta.html#para-resumir"><i class="fa fa-check"></i><b>13.1.8</b> Para resumir</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="qta.html"><a href="qta.html#wordfish"><i class="fa fa-check"></i><b>13.2</b> Wordfish</a><ul>
<li class="chapter" data-level="13.2.1" data-path="qta.html"><a href="qta.html#inspección-y-limpieza-de-datos"><i class="fa fa-check"></i><b>13.2.1</b> Inspección y limpieza de datos</a></li>
<li class="chapter" data-level="13.2.2" data-path="qta.html"><a href="qta.html#pre-procesamiento"><i class="fa fa-check"></i><b>13.2.2</b> Pre-procesamiento</a></li>
<li class="chapter" data-level="13.2.3" data-path="qta.html"><a href="qta.html#sqta2"><i class="fa fa-check"></i><b>13.2.3</b> Wordfish</a></li>
<li class="chapter" data-level="13.2.4" data-path="qta.html"><a href="qta.html#qué-aprendimos-de-wordfish"><i class="fa fa-check"></i><b>13.2.4</b> ¿Qué aprendimos de Wordfish?</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="qta.html"><a href="qta.html#sqta3"><i class="fa fa-check"></i><b>13.3</b> Structural Topic Modeling (STM)</a><ul>
<li class="chapter" data-level="13.3.1" data-path="qta.html"><a href="qta.html#pre-procesamiento-1"><i class="fa fa-check"></i><b>13.3.1</b> Pre-procesamiento</a></li>
<li class="chapter" data-level="13.3.2" data-path="qta.html"><a href="qta.html#diagnósticos"><i class="fa fa-check"></i><b>13.3.2</b> Diagnósticos</a></li>
<li class="chapter" data-level="13.3.3" data-path="qta.html"><a href="qta.html#análisis"><i class="fa fa-check"></i><b>13.3.3</b> Análisis</a></li>
<li class="chapter" data-level="13.3.4" data-path="qta.html"><a href="qta.html#observaciones-finales"><i class="fa fa-check"></i><b>13.3.4</b> Observaciones finales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="networks.html"><a href="networks.html"><i class="fa fa-check"></i><b>14</b> Análisis de redes</a><ul>
<li class="chapter" data-level="" data-path="networks.html"><a href="networks.html#lecturas-sugeridas-9"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="networks.html"><a href="networks.html#los-paquetes-que-necesitas-instalar-11"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="14.1" data-path="networks.html"><a href="networks.html#introducción-8"><i class="fa fa-check"></i><b>14.1</b> Introducción</a></li>
<li class="chapter" data-level="14.2" data-path="networks.html"><a href="networks.html#conceptos-básicos-en-una-red"><i class="fa fa-check"></i><b>14.2</b> Conceptos básicos en una red</a><ul>
<li class="chapter" data-level="14.2.1" data-path="networks.html"><a href="networks.html#nodos-y-enlaces"><i class="fa fa-check"></i><b>14.2.1</b> Nodos y enlaces</a></li>
<li class="chapter" data-level="14.2.2" data-path="networks.html"><a href="networks.html#matriz-de-adyacencia"><i class="fa fa-check"></i><b>14.2.2</b> Matriz de adyacencia</a></li>
<li class="chapter" data-level="14.2.3" data-path="networks.html"><a href="networks.html#pesos-y-direcciones"><i class="fa fa-check"></i><b>14.2.3</b> Pesos y direcciones</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="networks.html"><a href="networks.html#bases-de-datos-de-la-red"><i class="fa fa-check"></i><b>14.3</b> Bases de datos de la red</a></li>
<li class="chapter" data-level="14.4" data-path="networks.html"><a href="networks.html#presentación-gráfica-de-una-red"><i class="fa fa-check"></i><b>14.4</b> Presentación gráfica de una red</a></li>
<li class="chapter" data-level="14.5" data-path="networks.html"><a href="networks.html#medidas-de-centralidad"><i class="fa fa-check"></i><b>14.5</b> Medidas de centralidad</a><ul>
<li class="chapter" data-level="14.5.1" data-path="networks.html"><a href="networks.html#grado"><i class="fa fa-check"></i><b>14.5.1</b> Grado</a></li>
<li class="chapter" data-level="14.5.2" data-path="networks.html"><a href="networks.html#centralidad-del-eigenvector"><i class="fa fa-check"></i><b>14.5.2</b> Centralidad del eigenvector</a></li>
<li class="chapter" data-level="14.5.3" data-path="networks.html"><a href="networks.html#centralidad-de-intermediación-betweenness"><i class="fa fa-check"></i><b>14.5.3</b> Centralidad de intermediación (<em>betweenness</em>)</a></li>
<li class="chapter" data-level="14.5.4" data-path="networks.html"><a href="networks.html#cercanía"><i class="fa fa-check"></i><b>14.5.4</b> Cercanía</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="networks.html"><a href="networks.html#aplicación-en-r"><i class="fa fa-check"></i><b>14.6</b> Aplicación en R</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="indexes.html"><a href="indexes.html"><i class="fa fa-check"></i><b>15</b> Análisis de componentes principales</a><ul>
<li class="chapter" data-level="" data-path="indexes.html"><a href="indexes.html#lecturas-sugeridas-10"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="indexes.html"><a href="indexes.html#los-paquetes-que-necesitas-instalar-12"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="15.1" data-path="indexes.html"><a href="indexes.html#introducción-9"><i class="fa fa-check"></i><b>15.1</b> Introducción</a><ul>
<li class="chapter" data-level="15.1.1" data-path="indexes.html"><a href="indexes.html#conceptos-medidas-y-validez"><i class="fa fa-check"></i><b>15.1.1</b> Conceptos, medidas y validez</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="indexes.html"><a href="indexes.html#cómo-funciona-el-análisis-de-componentes-principales"><i class="fa fa-check"></i><b>15.2</b> Cómo funciona el Análisis de Componentes Principales</a></li>
<li class="chapter" data-level="15.3" data-path="indexes.html"><a href="indexes.html#nociones-básicas-en-r"><i class="fa fa-check"></i><b>15.3</b> Nociones básicas en R</a></li>
<li class="chapter" data-level="15.4" data-path="indexes.html"><a href="indexes.html#dimensionalidad-del-concepto"><i class="fa fa-check"></i><b>15.4</b> Dimensionalidad del concepto</a></li>
<li class="chapter" data-level="15.5" data-path="indexes.html"><a href="indexes.html#variación-del-concepto"><i class="fa fa-check"></i><b>15.5</b> Variación del concepto</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>16</b> Mapas y datos espaciales</a><ul>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#lecturas-sugeridas-11"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#los-paquetes-que-necesitas-instalar-13"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="16.1" data-path="maps.html"><a href="maps.html#introducción-10"><i class="fa fa-check"></i><b>16.1</b> Introducción</a><ul>
<li class="chapter" data-level="16.1.1" data-path="maps.html"><a href="maps.html#datos-espaciales-qué-son"><i class="fa fa-check"></i><b>16.1.1</b> Datos espaciales: ¿qué son?</a></li>
<li class="chapter" data-level="16.1.2" data-path="maps.html"><a href="maps.html#estructura-de-datos-espaciales"><i class="fa fa-check"></i><b>16.1.2</b> Estructura de datos espaciales</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="maps.html"><a href="maps.html#datos-espaciales-en-r"><i class="fa fa-check"></i><b>16.2</b> Datos espaciales en R</a><ul>
<li class="chapter" data-level="16.2.1" data-path="maps.html"><a href="maps.html#características-simples-en-r"><i class="fa fa-check"></i><b>16.2.1</b> Características simples en R</a></li>
<li class="chapter" data-level="16.2.2" data-path="maps.html"><a href="maps.html#estructura"><i class="fa fa-check"></i><b>16.2.2</b> Estructura</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="maps.html"><a href="maps.html#gestión-de-datos-espaciales"><i class="fa fa-check"></i><b>16.3</b> Gestión de Datos Espaciales</a><ul>
<li class="chapter" data-level="16.3.1" data-path="maps.html"><a href="maps.html#modificaciones"><i class="fa fa-check"></i><b>16.3.1</b> Modificaciones</a></li>
<li class="chapter" data-level="16.3.2" data-path="maps.html"><a href="maps.html#añade-datos-de-otras-bases-de-datos-con-left_join"><i class="fa fa-check"></i><b>16.3.2</b> Añade datos de otras bases de datos con <code>left_join()</code></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="maps.html"><a href="maps.html#mapeo"><i class="fa fa-check"></i><b>16.4</b> Mapeo</a><ul>
<li class="chapter" data-level="16.4.1" data-path="maps.html"><a href="maps.html#generando-centroides"><i class="fa fa-check"></i><b>16.4.1</b> Generando centroides</a></li>
<li class="chapter" data-level="16.4.2" data-path="maps.html"><a href="maps.html#mapeando-variables"><i class="fa fa-check"></i><b>16.4.2</b> Mapeando variables</a></li>
<li class="chapter" data-level="16.4.3" data-path="maps.html"><a href="maps.html#mapeando-puntos"><i class="fa fa-check"></i><b>16.4.3</b> Mapeando puntos</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="maps.html"><a href="maps.html#inferencia-a-partir-de-datos-espaciales"><i class="fa fa-check"></i><b>16.5</b> Inferencia a partir de datos espaciales</a><ul>
<li class="chapter" data-level="16.5.1" data-path="maps.html"><a href="maps.html#indicador-local-de-asociación-espacial-lisa-por-sus-siglas-en-inglés"><i class="fa fa-check"></i><b>16.5.1</b> Indicador local de asociación espacial (LISA, por sus siglas en inglés)</a></li>
<li class="chapter" data-level="16.5.2" data-path="maps.html"><a href="maps.html#matriz-de-pesos-espaciales"><i class="fa fa-check"></i><b>16.5.2</b> Matriz de pesos espaciales</a></li>
<li class="chapter" data-level="16.5.3" data-path="maps.html"><a href="maps.html#i-de-moran"><i class="fa fa-check"></i><b>16.5.3</b> I de Moran</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#comentarios-finales-referencias-para-un-mejor-análisis-de-datos-espaciales"><i class="fa fa-check"></i>Comentarios finales: Referencias para un mejor análisis de datos espaciales</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Referencias</b></span></li>
<li class="chapter" data-level="17" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>17</b> Referencias</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AnalizaR Datos Políticos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="panel" class="section level1">
<h1><span class="header-section-number">Capítulo 7</span> Datos de panel</h1>
<p>Francisco Urdinez<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a></p>
<div id="lecturas-sugeridas-3" class="section level3 unnumbered">
<h3>Lecturas sugeridas</h3>
<ul>
<li><p>Beck, N. (2008). Time‐Series Cross‐Section Methods. In J. M. Box-Steffensmeier, H. E. Brady, &amp; D. Collier (Eds.), <em>The Oxford Handbook of Political Methodology</em> (pp. 475–493). Oxford: Oxford University Press.</p></li>
<li><p>Beck, N., &amp; Katz, J. N. (2011). Modeling dynamics in time-series–cross-section political economy data. <em>Annual Review of Political Science, 14</em>, 331-352.</p></li>
<li><p>Croissant, Y., &amp; Millo, G. (2018). <em>Panel Data Econometrics with R</em>. John Wiley and Sons.</p></li>
<li><p>Henningsen, A., &amp; Henningsen, G. (2019). Analysis of Panel Data Using R. In M. Tsionas (Ed.), <em>Panel Data Econometrics: Theory</em> (pp. 345–396). London: Academic Press.</p></li>
</ul>
</div>
<div id="los-paquetes-que-necesitas-instalar-5" class="section level3 unnumbered">
<h3>Los paquetes que necesitas instalar</h3>
<ul>
<li><code>tidyverse</code> <span class="citation">(Wickham <a href="referencias.html#ref-R-tidyverse" role="doc-biblioref">2019</a><a href="referencias.html#ref-R-tidyverse" role="doc-biblioref">b</a>)</span>, <code>paqueteadp</code> <span class="citation">(Urdinez and Cruz <a href="referencias.html#ref-R-paqueteadp" role="doc-biblioref">2020</a>)</span>, <code>unvotes</code> <span class="citation">(Robinson <a href="referencias.html#ref-R-unvotes" role="doc-biblioref">2017</a>)</span>, <code>lubridate</code> <span class="citation">(Spinu, Grolemund, and Wickham <a href="referencias.html#ref-R-lubridate" role="doc-biblioref">2020</a>)</span>, <code>ggcorrplot</code> <span class="citation">(Kassambara <a href="referencias.html#ref-R-ggcorrplot" role="doc-biblioref">2019</a>)</span>, <code>plm</code> <span class="citation">(Croissant, Millo, and Tappe <a href="referencias.html#ref-R-plm" role="doc-biblioref">2020</a>)</span>.</li>
</ul>
</div>
<div id="introducción-2" class="section level2">
<h2><span class="header-section-number">7.1</span> Introducción</h2>
<p>En este capítulo, aprenderemos más sobre lo que hemos tocado en el capítulo de modelos lineales. Aprenderemos cómo trabajar con datos de panel, es decir, cómo añadir una dimensión temporal a nuestras regresiones lineales. Le mostraremos cómo diagnosticar si el tiempo tiene un efecto en nuestros resultados de MCO y de qué manera, y (a) estimar modelos con efectos fijos y efectos aleatorios, (b) ver cómo diagnosticar raíces unitarias, (c) cómo crear variables con desfases (llamados <em>lags</em> en inglés) o prospectivas (llamados <em>leads</em> en inglés), y (d) cómo calcular los errores estándar corregidos para panel. Recuerde que este es un capítulo introductorio, por lo que le recomendamos que consulte la bibliografía sugerida para responder a preguntas específicas.</p>
<p>Trabajaremos con un ejemplo práctico de relaciones internacionales: Históricamente, la política exterior de América Latina ha estado fuertemente influenciada por los Estados Unidos, probablemente más que cualquier otra región del mundo. Sin embargo, en los últimos treinta años, esta tendencia se ha debilitado, y la influencia es menos evidente ahora que durante la Guerra Fría. ¿Cuál es la razón de esta tendencia?</p>
<p>Esta pregunta fue abordada por Octavio Amorim Neto, un reconocido politólogo brasileño, en<em>de Dutra a Lula</em>: La formación y los determinantes de la política exterior brasileña* (De Dutra a Lula: a condução e os determinantes da política externa brasileira) <span class="citation">(<a href="referencias.html#ref-amorimnetoDutraLulaConducao2012" role="doc-biblioref">2012</a>)</span>. Este libro tiene la ventaja de responder a esta pregunta con una metodología cuantitativa, algo inusual en un campo dominado por los trabajos historiográficos. Otros artículos pasaron luego a refinar más los argumentos del libro, como <span class="citation">Neto and Malamud (<a href="referencias.html#ref-netoWhatDeterminesForeign2015" role="doc-biblioref">2015</a>)</span> y <span class="citation">Rodrigues, Urdinez, and de Oliveira (<a href="referencias.html#ref-rodriguesMeasuringInternationalEngagement2019" role="doc-biblioref">2019</a>)</span>. Abramos la base de datos:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="panel.html#cb213-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="panel.html#cb214-1"></a><span class="kw">library</span>(paqueteadp)</span>
<span id="cb214-2"><a href="panel.html#cb214-2"></a><span class="kw">data</span>(<span class="st">&quot;eeuu_brasil&quot;</span>)</span></code></pre></div>
<p>Según Amorim Neto, a medida que Brasil se transformaba en una potencia regional, y su poder crecía, tenía un mayor margen para alejarse de los preceptos de los Estados Unidos. Una forma de abordar el concepto abstracto de “proximidad política” en las relaciones internacionales es a través de la convergencia de votos en la Asamblea General de las Naciones Unidas. Los países votan, digamos, 20 veces al año sobre diferentes temas. Así, sobre esos 20 votos, podemos calcular cuántas veces un país votó igual que otro (a favor, en contra o abstención) y expresar esta similitud como un porcentaje. La siguiente figura muestra el porcentaje de votos en común entre el Brasil y los Estados Unidos en la Asamblea de 1945:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="panel.html#cb215-1"></a><span class="kw">ggplot</span>(eeuu_brasil) <span class="op">+</span><span class="st"> </span></span>
<span id="cb215-2"><a href="panel.html#cb215-2"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> anio, <span class="dt">y =</span> voto)) <span class="op">+</span></span>
<span id="cb215-3"><a href="panel.html#cb215-3"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Convergencia de votos&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-3"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-3-1.png" alt=" Convergencia de votos entre Brasil y los EE.UU." width="672" />
<p class="caption">
Figura 7.1:  Convergencia de votos entre Brasil y los EE.UU.
</p>
</div>
<p>Hay una herramienta sobresaliente llamada <a href="https://cran.r-project.org/web/packages/unvotes/index.html"><code>unvotes</code></a> en R para todos aquellos que estudian la historia del voto de los países en la Asamblea de las Naciones Unidas, que nos será útil en este capítulo.<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a>. Usando <code>unvotes</code> podemos trazar la convergencia de los votos, y dividirlos por temas.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="panel.html#cb216-1"></a><span class="kw">library</span>(unvotes)</span>
<span id="cb216-2"><a href="panel.html#cb216-2"></a><span class="kw">library</span>(lubridate)</span></code></pre></div>
<p>Además, haremos uso del paquete <code>lubridate</code> para el análisis con fechas.</p>
<p>El paquete <code>unvotes</code> proporciona tres bases de datos con los que podemos trabajar: <code>un_roll_calls</code>, <code>un_roll_call_issues</code> y <code>eeuu_latam</code>. Cada uno de estas bases de datos contiene una variable llamada <code>rcid</code>, el código de la votación, que puede ser usado como un identificador para unirlos con otras variables. Si recuerdas, en el capítulo de manejo avanzado te enseñamos cómo fusionar las bases de datos utilizando los códigos de país.</p>
<ul>
<li><p>La base de datos de <code>eeuu_latam</code> proporciona información sobre el historial de votación de la Asamblea General de las Naciones Unidas. Contiene una fila para cada par de países votantes.</p></li>
<li><p>La base de datos <code>un_roll_calls</code> contiene información sobre cada votación nominal de la Asamblea General de las Naciones Unidas.</p></li>
<li><p>La base <code>un_roll_call_issues</code> contiene clasificaciones de temas de las votaciones nominales de la Asamblea General de las Naciones Unidas. Muchos votos no tienen ningún tema, y algunos tienen más de uno.</p></li>
</ul>
<p>¿Cómo ha cambiado el registro de votación de los Estados Unidos a lo largo del tiempo en una variedad de temas en comparación con Brasil?</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="panel.html#cb217-1"></a>p_votos_eeuu_br &lt;-<span class="st"> </span>un_votes <span class="op">%&gt;%</span></span>
<span id="cb217-2"><a href="panel.html#cb217-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;United States of America&quot;</span>, <span class="st">&quot;Brazil&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb217-3"><a href="panel.html#cb217-3"></a><span class="st">  </span><span class="kw">inner_join</span>(un_roll_calls, <span class="dt">by =</span> <span class="st">&quot;rcid&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb217-4"><a href="panel.html#cb217-4"></a><span class="st">  </span><span class="kw">inner_join</span>(un_roll_call_issues, <span class="dt">by =</span> <span class="st">&quot;rcid&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb217-5"><a href="panel.html#cb217-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">issue =</span> <span class="kw">if_else</span>(issue <span class="op">==</span><span class="st"> &quot;Nuclear weapons&quot;</span>,</span>
<span id="cb217-6"><a href="panel.html#cb217-6"></a>                         <span class="st">&quot;Nuclear weapons&quot;</span>, issue)) <span class="op">%&gt;%</span></span>
<span id="cb217-7"><a href="panel.html#cb217-7"></a><span class="st">  </span><span class="kw">group_by</span>(country, <span class="dt">year =</span> <span class="kw">year</span>(date), issue) <span class="op">%&gt;%</span></span>
<span id="cb217-8"><a href="panel.html#cb217-8"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">votes =</span> <span class="kw">n</span>(),</span>
<span id="cb217-9"><a href="panel.html#cb217-9"></a>            <span class="dt">percent_yes =</span> <span class="kw">mean</span>(vote <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb217-10"><a href="panel.html#cb217-10"></a><span class="st">  </span><span class="kw">filter</span>(votes <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>) </span>
<span id="cb217-11"><a href="panel.html#cb217-11"></a></span>
<span id="cb217-12"><a href="panel.html#cb217-12"></a><span class="kw">ggplot</span>(p_votos_eeuu_br,</span>
<span id="cb217-13"><a href="panel.html#cb217-13"></a>       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> percent_yes, <span class="dt">color =</span> country)) <span class="op">+</span></span>
<span id="cb217-14"><a href="panel.html#cb217-14"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb217-15"><a href="panel.html#cb217-15"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>, <span class="dt">se =</span> F) <span class="op">+</span></span>
<span id="cb217-16"><a href="panel.html#cb217-16"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue, <span class="dt">ncol =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb217-17"><a href="panel.html#cb217-17"></a><span class="st">  </span><span class="kw">scale_color_grey</span>() <span class="op">+</span></span>
<span id="cb217-18"><a href="panel.html#cb217-18"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;% Yes&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;Country&quot;</span>) </span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-5"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-5-1.png" alt=" Porcentaje de votos positivos en la Asamblea General de la ONU (1946 a 2015)" width="1152" />
<p class="caption">
Figura 3.4:  Porcentaje de votos positivos en la Asamblea General de la ONU (1946 a 2015)
</p>
</div>
<p>Consideremos la hipótesis de <span class="citation">Amorim Neto (<a href="referencias.html#ref-amorimnetoDutraLulaConducao2012" role="doc-biblioref">2012</a>)</span>. Su argumento es que este distanciamiento fue causado por un aumento del poder de Brasil, que le dio mayor autonomía. La discusión sobre cómo medir el poder en las relaciones internacionales es todo un tema en sí mismo. Una de las variables más populares para medirlo fue creada por <span class="citation">Singer, Bremer, and Stuckey (<a href="referencias.html#ref-singerCapabilityDistributionUncertainty1972" role="doc-biblioref">1972</a>)</span>), conocida como el Índice CINC. Se trata de un índice relativo: para cada año, el índice mide la proporción de poder que cada país tiene del total del poder mundial. ¿Cómo ha cambiado Brasil desde 1945?</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="panel.html#cb218-1"></a><span class="kw">ggplot</span>(eeuu_brasil) <span class="op">+</span><span class="st"> </span></span>
<span id="cb218-2"><a href="panel.html#cb218-2"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> anio, <span class="dt">y =</span> poder_pais)) <span class="op">+</span></span>
<span id="cb218-3"><a href="panel.html#cb218-3"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Año&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Indice CINC&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-6-1.png" alt="El poder internacional de Brasil" width="672" />
<p class="caption">
Figura 3.5: El poder internacional de Brasil
</p>
</div>
<p>¡Muy bien! A priori, la hipótesis de Amorim Neto parece tener apoyo empírico: A medida que Brasil se volvió más poderoso, tuvo más margen para desarrollar una política exterior autónoma de los Estados Unidos. Si observamos la correlación entre ambas variables, observamos que ésta es alta y negativa (-0,89): los valores más altos de convergencia de votos están correlacionados con los valores más bajos de poder. Usaremos el paquete <code>ggpubr</code> para “Gráficas listas para publicar”:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="panel.html#cb219-1"></a><span class="kw">library</span>(ggpubr)</span>
<span id="cb219-2"><a href="panel.html#cb219-2"></a></span>
<span id="cb219-3"><a href="panel.html#cb219-3"></a><span class="kw">ggscatter</span>(eeuu_brasil, <span class="dt">x =</span> <span class="st">&quot;poder_pais&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;voto&quot;</span>,</span>
<span id="cb219-4"><a href="panel.html#cb219-4"></a>          <span class="dt">add =</span> <span class="st">&quot;reg.line&quot;</span>,  <span class="dt">add.params =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb219-5"><a href="panel.html#cb219-5"></a>                                               <span class="dt">fill =</span> <span class="st">&quot;lightgray&quot;</span>), </span>
<span id="cb219-6"><a href="panel.html#cb219-6"></a>          <span class="dt">conf.int =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb219-7"><a href="panel.html#cb219-7"></a><span class="st">  </span><span class="kw">stat_cor</span>(<span class="dt">method =</span> <span class="st">&quot;pearson&quot;</span>, <span class="dt">label.x =</span> <span class="fl">0.015</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-7"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-7-1.png" alt=" Correlación entre la convergencia de los votos de la ONU y la participación en el poder internacional" width="672" />
<p class="caption">
Figura 3.6:  Correlación entre la convergencia de los votos de la ONU y la participación en el poder internacional
</p>
</div>
<p>En conclusión, este es el argumento central del libro de Amorim Neto. A pesar de la gran influencia que este análisis tuvo sobre los estudios posteriores, hay algunas cuestiones que invalidan parcialmente la conclusión, que será útil ejemplificar en este capítulo.</p>
</div>
<div id="describiendo-la-base-de-datos-en-panel" class="section level2">
<h2><span class="header-section-number">7.2</span> Describiendo la base de datos en panel</h2>
<p>En ciencias políticas, es común encontrar la distinción entre datos de panel y series temporales transversales (TSCS, en inglés). <span class="citation">Beck (<a href="referencias.html#ref-beckTimeseriesCrosssectionMethods2008" role="doc-biblioref">2008</a>)</span> explica que un panel se refiere a un conjunto de datos con una N mucho más grande que su T, por ejemplo, una encuesta de 10.000 personas durante tres años consecutivos. Por otro lado, una base de datos en formato TSCS a menudo contiene una T más grande que N, y sus unidades son fijas, es decir, se repiten en el tiempo. La distinción está muy bien desarrollada en un texto de Beck en <em>Annual Review of Political Science</em>:</p>
<blockquote>
<p>“Los datos de panel son datos de secciones transversales repetidas, pero las unidades se muestrean (normalmente son encuestados obtenidos en algún esquema de muestreo aleatorio), y normalmente se observan sólo unas pocas veces. Las unidades de TSCS son fijas; no hay ningún esquema de muestreo para las unidades, y cualquier experimento de”remuestreo" debe mantener las unidades fijas y sólo remuestrear las unidades completas (Freedman &amp; Peters 1984). En los datos en panel, las personas observadas no son de interés; todas las inferencias de interés se refieren a la población subyacente que fue objeto del muestreo, en lugar de estar condicionadas por la muestra observada. Los datos de la TSCS son exactamente lo contrario; todas las inferencias de interés son condicionales a las unidades observadas". <span class="citation">(<a href="referencias.html#ref-beckTimeSeriesCrossSectionDataWhat2001" role="doc-biblioref">2001</a>, 273)</span>.</p>
</blockquote>
<p>A efectos prácticos, la notación de ambos es la misma y los conceptos tienden a utilizarse indistintamente:
<span class="math display">\[ y_i,_t = x_i,_t\beta + \epsilon_i,_t  \]</span>
Donde <span class="math display">\[ x_i,_t \]</span> es un vector de variables exógenas y las observaciones son indexadas por ambas unidades (<em>i</em>) y tiempo (<em>t</em>).</p>
<p>Para revisar las rutinas más comunes de los modelos de panel, usaremos una base de datos similar a la de Amorim Neto, pero con once países sudamericanos. Ahora tenemos una base en formato TSCS: una muestra de once países entre 1970 y 2007, 38 años. Si domina el contenido introductorio de este capítulo, el siguiente paso será trabajar a través del libro de <span class="citation">Croissant and Millo (<a href="referencias.html#ref-croissantPanelDataEconometrics2018" role="doc-biblioref">2018</a>)</span>, que también son los creadores del paquete más utilizado para el panel en R, <code>plm</code>.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="panel.html#cb220-1"></a><span class="kw">data</span>(<span class="st">&quot;eeuu_latam&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="panel.html#cb221-1"></a>eeuu_latam <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb221-2"><a href="panel.html#cb221-2"></a><span class="st">  </span><span class="kw">count</span>(pais)</span>
<span id="cb221-3"><a href="panel.html#cb221-3"></a><span class="co">## # A tibble: 10 x 2</span></span>
<span id="cb221-4"><a href="panel.html#cb221-4"></a><span class="co">##   pais          n</span></span>
<span id="cb221-5"><a href="panel.html#cb221-5"></a><span class="co">##   &lt;chr&gt;     &lt;int&gt;</span></span>
<span id="cb221-6"><a href="panel.html#cb221-6"></a><span class="co">## 1 Argentina    38</span></span>
<span id="cb221-7"><a href="panel.html#cb221-7"></a><span class="co">## 2 Bolivia      38</span></span>
<span id="cb221-8"><a href="panel.html#cb221-8"></a><span class="co">## 3 Brazil       38</span></span>
<span id="cb221-9"><a href="panel.html#cb221-9"></a><span class="co">## # … with 7 more rows</span></span></code></pre></div>
<p>Observemos la generalizabilidad de la hipótesis. El libro sólo analiza un caso, pero queremos saber si un panel de once países puede ayudarnos a fortalecer esos hallazgos y ganar validez externa. Si observamos el comportamiento de voto de estos once países latinoamericanos en las Naciones Unidas, notaremos un patrón similar entre ellos. Parece que la convergencia de votos con EE.UU. cayó entre 1945 y 1990, luego subió durante los 90, y luego volvió a caer a principios de los 2000. Siempre se recomienda hacer este paso antes de pasar a las regresiones. Hay dos formas de trazar las variables independientes y dependientes a lo largo del tiempo usando “ggplot2”, como ya has aprendido.</p>
<div id="opción-a.-gráfico-de-líneas" class="section level3">
<h3><span class="header-section-number">7.2.1</span> Opción A. Gráfico de líneas</h3>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="panel.html#cb222-1"></a><span class="kw">ggplot</span>(eeuu_latam, <span class="kw">aes</span>(<span class="dt">x =</span> anio, <span class="dt">y =</span> voto, </span>
<span id="cb222-2"><a href="panel.html#cb222-2"></a>                     <span class="dt">color =</span> pais, <span class="dt">linetype =</span> pais, <span class="dt">group =</span> pais)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb222-3"><a href="panel.html#cb222-3"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb222-4"><a href="panel.html#cb222-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;% Yes&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;&quot;</span>, <span class="dt">linetype =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-10"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-10-1.png" alt=" Tendencias de línea para la evolución de la convergencia de los votos de la AGNU con los de EE.UU. por país " width="768" />
<p class="caption">
Figura 3.9:  Tendencias de línea para la evolución de la convergencia de los votos de la AGNU con los de EE.UU. por país
</p>
</div>
</div>
<div id="option-b.-gráfico-de-cajas" class="section level3">
<h3><span class="header-section-number">7.2.2</span> Option B. Gráfico de cajas</h3>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="panel.html#cb223-1"></a><span class="kw">ggplot</span>(eeuu_latam, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(anio), <span class="dt">y =</span> voto)) <span class="op">+</span></span>
<span id="cb223-2"><a href="panel.html#cb223-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb223-3"><a href="panel.html#cb223-3"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">1970</span>, <span class="dv">2007</span>, <span class="dt">by =</span> <span class="dv">5</span>)) <span class="op">+</span></span>
<span id="cb223-4"><a href="panel.html#cb223-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;% Convergencia con EEUU&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-11"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-11-1.png" alt=" Gráficos de recuadro para la evolución de la convergencia de los votos de la AGNU con los de EE.UU. por país " width="768" />
<p class="caption">
Figura 3.10:  Gráficos de recuadro para la evolución de la convergencia de los votos de la AGNU con los de EE.UU. por país
</p>
</div>
<p>Además, como observamos en el caso de Brasil, podemos ver la proximidad de los votos entre los 11 países y los Estados Unidos separando los votos por tema usando <code>unvotes</code>.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="panel.html#cb224-1"></a>p_votos_paises &lt;-<span class="st"> </span>un_votes <span class="op">%&gt;%</span></span>
<span id="cb224-2"><a href="panel.html#cb224-2"></a><span class="st">  </span><span class="kw">filter</span>(country <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;United States of America&quot;</span>, <span class="st">&quot;Brazil&quot;</span>, <span class="st">&quot;Bolivia&quot;</span>,</span>
<span id="cb224-3"><a href="panel.html#cb224-3"></a>                     <span class="st">&quot;Argentina&quot;</span>, <span class="st">&quot;Chile&quot;</span>, <span class="st">&quot;Peru&quot;</span>, <span class="st">&quot;Ecuador&quot;</span>, <span class="st">&quot;Colombia&quot;</span>,</span>
<span id="cb224-4"><a href="panel.html#cb224-4"></a>                     <span class="st">&quot;Venezuela&quot;</span>, <span class="st">&quot;Paraguay&quot;</span>, <span class="st">&quot;Uruguay&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb224-5"><a href="panel.html#cb224-5"></a><span class="st">  </span><span class="kw">inner_join</span>(un_roll_calls, <span class="dt">by =</span> <span class="st">&quot;rcid&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb224-6"><a href="panel.html#cb224-6"></a><span class="st">  </span><span class="kw">inner_join</span>(un_roll_call_issues, <span class="dt">by =</span> <span class="st">&quot;rcid&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb224-7"><a href="panel.html#cb224-7"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">issue =</span> <span class="kw">if_else</span>(issue <span class="op">==</span><span class="st"> &quot;Nuclear weapons&quot;</span>, </span>
<span id="cb224-8"><a href="panel.html#cb224-8"></a>                         <span class="st">&quot;Nuclear weapons&quot;</span>, issue)) <span class="op">%&gt;%</span></span>
<span id="cb224-9"><a href="panel.html#cb224-9"></a><span class="st">  </span><span class="kw">group_by</span>(country, <span class="dt">year =</span> <span class="kw">year</span>(date), issue) <span class="op">%&gt;%</span></span>
<span id="cb224-10"><a href="panel.html#cb224-10"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">votes =</span> <span class="kw">n</span>(),</span>
<span id="cb224-11"><a href="panel.html#cb224-11"></a>            <span class="dt">percent_yes =</span> <span class="kw">mean</span>(vote <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb224-12"><a href="panel.html#cb224-12"></a><span class="st">  </span><span class="kw">filter</span>(votes <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb224-13"><a href="panel.html#cb224-13"></a></span>
<span id="cb224-14"><a href="panel.html#cb224-14"></a><span class="kw">ggplot</span>(p_votos_paises,</span>
<span id="cb224-15"><a href="panel.html#cb224-15"></a>       <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> percent_yes, </span>
<span id="cb224-16"><a href="panel.html#cb224-16"></a>                     <span class="dt">linetype =</span> country, <span class="dt">color =</span> country)) <span class="op">+</span></span>
<span id="cb224-17"><a href="panel.html#cb224-17"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;loess&quot;</span>, <span class="dt">se =</span> F) <span class="op">+</span></span>
<span id="cb224-18"><a href="panel.html#cb224-18"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>issue, <span class="dt">ncol =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb224-19"><a href="panel.html#cb224-19"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;% Convergencia con EEUU&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;&quot;</span>, <span class="dt">linetype =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-12"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-12-1.png" alt=" Porcentaje de votos positivos en la Asamblea General de la ONU (1946 a 2015)" width="1056" />
<p class="caption">
Figura 3.11:  Porcentaje de votos positivos en la Asamblea General de la ONU (1946 a 2015)
</p>
</div>
<p>Una vez que haya observado el comportamiento de su variable dependiente, probablemente querrá replicar el mismo ejercicio para su variable independiente. En nuestro caso, el poder del país. Al observar el comportamiento de la variable independiente de nuestro ejemplo (la potencia del país) notaremos que, mientras que Colombia está en línea con lo que observamos para Brasil (crecimiento de poder a lo largo de los años), otros países se han debilitado desde 1970 (por ejemplo, Argentina), y la mayoría de ellos se han mantenido prácticamente estables (por ejemplo, Chile, Uruguay y Perú). Esta heterogeneidad de comportamientos desafía los hallazgos de Amorim Neto para Brasil.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="panel.html#cb225-1"></a>eeuu_latam <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb225-2"><a href="panel.html#cb225-2"></a><span class="st">  </span><span class="kw">filter</span>(pais <span class="op">!=</span><span class="st"> &quot;Brazil&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb225-3"><a href="panel.html#cb225-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> anio, <span class="dt">y =</span> poder_pais)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb225-4"><a href="panel.html#cb225-4"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb225-5"><a href="panel.html#cb225-5"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>pais, <span class="dt">nrow =</span> <span class="dv">3</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-13"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-13-1.png" alt=" Evolución del índice CINC en el tiempo para los países de América del Sur" width="1056" />
<p class="caption">
Figura 3.12:  Evolución del índice CINC en el tiempo para los países de América del Sur
</p>
</div>
<blockquote>
<p><strong>Ejercicio 7A.</strong> Usando la base de datos del capítulo de MCO <span class="citation">(Latin America Welfare Dataset, 1960-2014, Huber et al. <a href="referencias.html#ref-huberPoliticsInequalityLatin2006" role="doc-biblioref">2006</a>)</span>, grafica el comportamiento del Índice de Gini (<code>gini_slc</code>) en América Latina a lo largo del tiempo.</p>
</blockquote>
</div>
</div>
<div id="modelización-de-la-variación-a-nivel-de-grupo" class="section level2">
<h2><span class="header-section-number">7.3</span> Modelización de la variación a nivel de grupo</h2>
<p>Un panel de datos (o TSCS) contendrá datos para N unidades en T momentos. En este capítulo, N son países, pero en tu base de datos podrían ser partidos políticos, países, legisladores o cualquier otra unidad de observación de interés. En este capítulo, T son años, pero en tu base de datos podrían ser meses, semestres o décadas. Obviamente necesitamos regularidad en la periodización. Si tenemos años, es importante que el panel no mezcle dos unidades temporales diferentes (por ejemplo, datos por año y década).</p>
<p>Si nuestra base de datos no contiene valores perdidos, diremos que nuestro panel está balanceado, ya que tenemos la misma cantidad de Ts para cada N. Si, por el contrario, hay valores perdidos, nuestro panel no estará balanceado.<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a>. Al tener datos que varían a lo largo del tiempo y/o entre los individuos, nuestro modelo tendrá más información que en los modelos de corte transversal, obteniendo así estimadores más eficientes. Los datos de panel le permitirán controlar por medio de las heterogeneidades existentes entre las unidades que no varían en el tiempo, y reducir el sesgo de las variables omitidas, así como testear la hipótesis del comportamiento de las observaciones en el tiempo.</p>
<p>Algunas de sus variables serán constantes a lo largo del tiempo, es decir, no variarán en T, sino en N. Por ejemplo, la superficie geográfica de un país o la distancia a otro país no cambiará en condiciones normales (podría variar si hubiera una guerra y las fronteras nacionales cambiaran, por ejemplo). En el caso de las personas, algunos atributos como la nacionalidad o el género tienden a permanecer iguales a lo largo del tiempo. En la ciencia política, normalmente tendremos más Ns que Ts en nuestro panel, aunque puede haber excepciones.
Nos interesarán dos tipos de efectos sobre la variable dependiente: efectos sobre <span class="math inline">\(Y\)</span> que varían en <span class="math inline">\(t\)</span> pero no en <span class="math inline">\(i\)</span>, y efectos que varían en <span class="math inline">\(i\)</span> pero no en <span class="math inline">\(t\)</span>. Los efectos que varían en <span class="math inline">\(i\)</span> <em>y</em> en <span class="math inline">\(t\)</span> se consideran en el término de error <span class="math inline">\(\epsilon_i,_t\)</span>. Si ignoramos estos efectos, obtendremos coeficientes sesgados. ¡Observémoslo gráficamente!</p>
<ul>
<li>Este es un modelo en el que ignoramos la existencia de once países en la muestra, y tratamos cada observación como independiente. Por eso lo llamamos de <em>pooled</em> (agregado).</li>
</ul>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="panel.html#cb226-1"></a>pooled &lt;-<span class="st"> </span><span class="kw">lm</span>(voto <span class="op">~</span><span class="st"> </span>poder_pais, <span class="dt">data =</span> eeuu_latam)</span>
<span id="cb226-2"><a href="panel.html#cb226-2"></a></span>
<span id="cb226-3"><a href="panel.html#cb226-3"></a><span class="kw">summary</span>(pooled)</span>
<span id="cb226-4"><a href="panel.html#cb226-4"></a><span class="co">## </span></span>
<span id="cb226-5"><a href="panel.html#cb226-5"></a><span class="co">## Call:</span></span>
<span id="cb226-6"><a href="panel.html#cb226-6"></a><span class="co">## lm(formula = voto ~ poder_pais, data = eeuu_latam)</span></span>
<span id="cb226-7"><a href="panel.html#cb226-7"></a><span class="co">## </span></span>
<span id="cb226-8"><a href="panel.html#cb226-8"></a><span class="co">## Residuals:</span></span>
<span id="cb226-9"><a href="panel.html#cb226-9"></a><span class="co">##     Min      1Q  Median      3Q     Max </span></span>
<span id="cb226-10"><a href="panel.html#cb226-10"></a><span class="co">## -0.3194 -0.1465 -0.0538  0.0957  0.5657 </span></span>
<span id="cb226-11"><a href="panel.html#cb226-11"></a><span class="co">## </span></span>
<span id="cb226-12"><a href="panel.html#cb226-12"></a><span class="co">## Coefficients:</span></span>
<span id="cb226-13"><a href="panel.html#cb226-13"></a><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb226-14"><a href="panel.html#cb226-14"></a><span class="co">## (Intercept)    0.381      0.012   31.67   &lt;2e-16 ***</span></span>
<span id="cb226-15"><a href="panel.html#cb226-15"></a><span class="co">## poder_pais    -3.564      1.473   -2.42    0.016 *  </span></span>
<span id="cb226-16"><a href="panel.html#cb226-16"></a><span class="co">## ---</span></span>
<span id="cb226-17"><a href="panel.html#cb226-17"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb226-18"><a href="panel.html#cb226-18"></a><span class="co">## </span></span>
<span id="cb226-19"><a href="panel.html#cb226-19"></a><span class="co">## Residual standard error: 0.19 on 378 degrees of freedom</span></span>
<span id="cb226-20"><a href="panel.html#cb226-20"></a><span class="co">## Multiple R-squared:  0.0152, Adjusted R-squared:  0.0126 </span></span>
<span id="cb226-21"><a href="panel.html#cb226-21"></a><span class="co">## F-statistic: 5.85 on 1 and 378 DF,  p-value: 0.016</span></span></code></pre></div>
<ul>
<li>Este es un modelo en el que incorporamos un intercepto a cada país, asumiendo que nuestras variables varían entre las observaciones</li>
</ul>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="panel.html#cb227-1"></a>manual_fe &lt;-<span class="st"> </span><span class="kw">lm</span>(voto <span class="op">~</span><span class="st"> </span>poder_pais <span class="op">+</span><span class="st"> </span><span class="kw">factor</span>(pais), <span class="dt">data =</span> eeuu_latam)</span>
<span id="cb227-2"><a href="panel.html#cb227-2"></a></span>
<span id="cb227-3"><a href="panel.html#cb227-3"></a><span class="kw">summary</span>(manual_fe)</span>
<span id="cb227-4"><a href="panel.html#cb227-4"></a><span class="co">## </span></span>
<span id="cb227-5"><a href="panel.html#cb227-5"></a><span class="co">## Call:</span></span>
<span id="cb227-6"><a href="panel.html#cb227-6"></a><span class="co">## lm(formula = voto ~ poder_pais + factor(pais), data = eeuu_latam)</span></span>
<span id="cb227-7"><a href="panel.html#cb227-7"></a><span class="co">## </span></span>
<span id="cb227-8"><a href="panel.html#cb227-8"></a><span class="co">## Residuals:</span></span>
<span id="cb227-9"><a href="panel.html#cb227-9"></a><span class="co">##     Min      1Q  Median      3Q     Max </span></span>
<span id="cb227-10"><a href="panel.html#cb227-10"></a><span class="co">## -0.3129 -0.1332 -0.0384  0.1002  0.5908 </span></span>
<span id="cb227-11"><a href="panel.html#cb227-11"></a><span class="co">## </span></span>
<span id="cb227-12"><a href="panel.html#cb227-12"></a><span class="co">## Coefficients:</span></span>
<span id="cb227-13"><a href="panel.html#cb227-13"></a><span class="co">##                       Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb227-14"><a href="panel.html#cb227-14"></a><span class="co">## (Intercept)             0.8145     0.0768   10.60  &lt; 2e-16 ***</span></span>
<span id="cb227-15"><a href="panel.html#cb227-15"></a><span class="co">## poder_pais            -78.8200    12.5378   -6.29  9.2e-10 ***</span></span>
<span id="cb227-16"><a href="panel.html#cb227-16"></a><span class="co">## factor(pais)Bolivia    -0.3637     0.0738   -4.93  1.2e-06 ***</span></span>
<span id="cb227-17"><a href="panel.html#cb227-17"></a><span class="co">## factor(pais)Brazil      1.3909     0.2313    6.01  4.4e-09 ***</span></span>
<span id="cb227-18"><a href="panel.html#cb227-18"></a><span class="co">##  [ reached getOption(&quot;max.print&quot;) -- omitted 7 rows ]</span></span>
<span id="cb227-19"><a href="panel.html#cb227-19"></a><span class="co">## ---</span></span>
<span id="cb227-20"><a href="panel.html#cb227-20"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb227-21"><a href="panel.html#cb227-21"></a><span class="co">## </span></span>
<span id="cb227-22"><a href="panel.html#cb227-22"></a><span class="co">## Residual standard error: 0.18 on 369 degrees of freedom</span></span>
<span id="cb227-23"><a href="panel.html#cb227-23"></a><span class="co">## Multiple R-squared:  0.125,  Adjusted R-squared:  0.101 </span></span>
<span id="cb227-24"><a href="panel.html#cb227-24"></a><span class="co">## F-statistic: 5.25 on 10 and 369 DF,  p-value: 3.18e-07</span></span></code></pre></div>
<p>Si extraemos los valores predichos de este modelo podemos comparar la diferencia que genera en el coeficiente <code>poder_pais</code> proporcionando esta información al modelo:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="panel.html#cb228-1"></a>eeuu_latam &lt;-<span class="st"> </span>eeuu_latam <span class="op">%&gt;%</span></span>
<span id="cb228-2"><a href="panel.html#cb228-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">hat_fe =</span> <span class="kw">fitted</span>(manual_fe))</span></code></pre></div>
<p>Como se puede observar en la siguiente figura, el coeficiente del modelo combinado para <code>poder_pais</code> es de -3.56, mientras que para el modelo que tiene en cuenta la heterogeneidad de las unidades es de -78.8. Esta corrección se logra incorporando un intercepto para cada observación. En la figura se muestra la pendiente de cada país una vez añadidos los dummies, y la pendiente es menor cuando hacemos una regresión agregada (línea negra). La especificidad que incluyen los interceptos para cada observación se conoce como modelo de efectos fijos, y es el modelo más común para modelar datos en panel.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="panel.html#cb229-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> eeuu_latam, <span class="kw">aes</span>(<span class="dt">x =</span> poder_pais, <span class="dt">y =</span> hat_fe, </span>
<span id="cb229-2"><a href="panel.html#cb229-2"></a>                              <span class="dt">label =</span> pais, <span class="dt">group =</span> pais)) <span class="op">+</span></span>
<span id="cb229-3"><a href="panel.html#cb229-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb229-4"><a href="panel.html#cb229-4"></a><span class="st">  </span><span class="co"># add pais-specific lines</span></span>
<span id="cb229-5"><a href="panel.html#cb229-5"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> F, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></span>
<span id="cb229-6"><a href="panel.html#cb229-6"></a><span class="st">  </span><span class="co"># add pooled line</span></span>
<span id="cb229-7"><a href="panel.html#cb229-7"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> poder_pais, <span class="dt">y =</span> hat_fe), <span class="dt">inherit.aes =</span> F,</span>
<span id="cb229-8"><a href="panel.html#cb229-8"></a>              <span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> T, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="op">+</span></span>
<span id="cb229-9"><a href="panel.html#cb229-9"></a><span class="st">  </span><span class="co"># label lines</span></span>
<span id="cb229-10"><a href="panel.html#cb229-10"></a><span class="st">  </span><span class="kw">geom_text</span>(</span>
<span id="cb229-11"><a href="panel.html#cb229-11"></a>    <span class="dt">data =</span> eeuu_latam <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb229-12"><a href="panel.html#cb229-12"></a><span class="st">      </span><span class="kw">group_by</span>(pais) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb229-13"><a href="panel.html#cb229-13"></a><span class="st">      </span><span class="kw">top_n</span>(<span class="dv">1</span>, poder_pais) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb229-14"><a href="panel.html#cb229-14"></a><span class="st">      </span><span class="kw">slice</span>(<span class="dv">1</span>),</span>
<span id="cb229-15"><a href="panel.html#cb229-15"></a>    <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">label =</span> pais), <span class="dt">vjust =</span> <span class="dv">1</span></span>
<span id="cb229-16"><a href="panel.html#cb229-16"></a>  )</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-17"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-17-1.png" alt=" Al añadir los dummies de países, la pendiente de la relación lineal cambia sustancialmente " width="768" />
<p class="caption">
Figura 3.16:  Al añadir los dummies de países, la pendiente de la relación lineal cambia sustancialmente
</p>
</div>
</div>
<div id="efectos-fijos-vs.-efectos-aleatorios" class="section level2">
<h2><span class="header-section-number">7.4</span> Efectos fijos vs. efectos aleatorios</h2>
<p>En las ciencias políticas, las dos especificaciones para la modelización de la variación entre grupos en los datos de panel son modelos de efectos fijos o aleatorios. Todavía no está claro para los investigadores aplicados cuándo debe utilizarse uno u otro. Una buena discusión sobre este tema es presentada por <span class="citation">Clark and Linzer (<a href="referencias.html#ref-clarkShouldUseFixed2015" role="doc-biblioref">2015</a>)</span>. Los modelos de efectos fijos añaden una variable dicotómica (dummy) para cada unidad. Los modelos de efectos aleatorios suponen que la variación entre unidades sigue una distribución de probabilidad, típicamente normal, con parámetros estimados a partir de los datos.</p>
<p>El argumento <code>index =</code> es necesario para informar cuál es nuestro N y cuál es nuestro T, en este caso <code>c("codigo", "anio")</code>. <code>plm</code>, por defecto, genera modelos de efectos fijos, por lo que no necesitamos usar la opción <code>model</code>. Si comparas el modelo <code>fe</code> que generaremos con el modelo <code>manual_fe</code>, notará que el coeficiente de <code>poder_pais</code> es el mismo.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="panel.html#cb230-1"></a><span class="kw">library</span>(plm)</span></code></pre></div>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="panel.html#cb231-1"></a>fe &lt;-<span class="st"> </span><span class="kw">plm</span>(voto <span class="op">~</span><span class="st"> </span>poder_pais, <span class="dt">data =</span> eeuu_latam, <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;codigo&quot;</span>, <span class="st">&quot;anio&quot;</span>))</span>
<span id="cb231-2"><a href="panel.html#cb231-2"></a></span>
<span id="cb231-3"><a href="panel.html#cb231-3"></a><span class="kw">summary</span>(fe)</span>
<span id="cb231-4"><a href="panel.html#cb231-4"></a><span class="co">## Oneway (individual) effect Within Model</span></span>
<span id="cb231-5"><a href="panel.html#cb231-5"></a><span class="co">## </span></span>
<span id="cb231-6"><a href="panel.html#cb231-6"></a><span class="co">## Call:</span></span>
<span id="cb231-7"><a href="panel.html#cb231-7"></a><span class="co">## plm(formula = voto ~ poder_pais, data = eeuu_latam, index = c(&quot;codigo&quot;, </span></span>
<span id="cb231-8"><a href="panel.html#cb231-8"></a><span class="co">##     &quot;anio&quot;))</span></span>
<span id="cb231-9"><a href="panel.html#cb231-9"></a><span class="co">## </span></span>
<span id="cb231-10"><a href="panel.html#cb231-10"></a><span class="co">## Balanced Panel: n = 10, T = 38, N = 380</span></span>
<span id="cb231-11"><a href="panel.html#cb231-11"></a><span class="co">## </span></span>
<span id="cb231-12"><a href="panel.html#cb231-12"></a><span class="co">## Residuals:</span></span>
<span id="cb231-13"><a href="panel.html#cb231-13"></a><span class="co">##    Min. 1st Qu.  Median 3rd Qu.    Max. </span></span>
<span id="cb231-14"><a href="panel.html#cb231-14"></a><span class="co">## -0.3129 -0.1332 -0.0384  0.1002  0.5908 </span></span>
<span id="cb231-15"><a href="panel.html#cb231-15"></a><span class="co">## </span></span>
<span id="cb231-16"><a href="panel.html#cb231-16"></a><span class="co">## Coefficients:</span></span>
<span id="cb231-17"><a href="panel.html#cb231-17"></a><span class="co">##            Estimate Std. Error t-value Pr(&gt;|t|)    </span></span>
<span id="cb231-18"><a href="panel.html#cb231-18"></a><span class="co">## poder_pais    -78.8       12.5   -6.29  9.2e-10 ***</span></span>
<span id="cb231-19"><a href="panel.html#cb231-19"></a><span class="co">## ---</span></span>
<span id="cb231-20"><a href="panel.html#cb231-20"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb231-21"><a href="panel.html#cb231-21"></a><span class="co">## </span></span>
<span id="cb231-22"><a href="panel.html#cb231-22"></a><span class="co">## Total Sum of Squares:    13.5</span></span>
<span id="cb231-23"><a href="panel.html#cb231-23"></a><span class="co">## Residual Sum of Squares: 12.2</span></span>
<span id="cb231-24"><a href="panel.html#cb231-24"></a><span class="co">## R-Squared:      0.0967</span></span>
<span id="cb231-25"><a href="panel.html#cb231-25"></a><span class="co">## Adj. R-Squared: 0.0723</span></span>
<span id="cb231-26"><a href="panel.html#cb231-26"></a><span class="co">## F-statistic: 39.5215 on 1 and 369 DF, p-value: 9.17e-10</span></span></code></pre></div>
<p>Si quieres obtener los efectos fijos de los interceptos para compararlos con el modelo manual, necesitas usar la función <code>fixef()</code>.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="panel.html#cb232-1"></a><span class="kw">fixef</span>(fe, <span class="dt">type =</span> <span class="st">&quot;dfirst&quot;</span>)</span>
<span id="cb232-2"><a href="panel.html#cb232-2"></a><span class="co">##      2      3      4      5      6      8      9     10     11 </span></span>
<span id="cb232-3"><a href="panel.html#cb232-3"></a><span class="co">## -0.364  1.391 -0.232 -0.136 -0.352 -0.350 -0.204 -0.143 -0.385</span></span></code></pre></div>
<p>Por el contrario, para los efectos aleatorios necesitamos especificar specify <code>model = "random"</code>.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="panel.html#cb233-1"></a>re &lt;-<span class="st"> </span><span class="kw">plm</span>(voto <span class="op">~</span><span class="st"> </span>poder_pais, <span class="dt">data =</span> eeuu_latam, </span>
<span id="cb233-2"><a href="panel.html#cb233-2"></a>          <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;codigo&quot;</span>, <span class="st">&quot;anio&quot;</span>), <span class="dt">model =</span> <span class="st">&quot;random&quot;</span>)</span>
<span id="cb233-3"><a href="panel.html#cb233-3"></a></span>
<span id="cb233-4"><a href="panel.html#cb233-4"></a><span class="kw">summary</span>(re)</span>
<span id="cb233-5"><a href="panel.html#cb233-5"></a><span class="co">## Oneway (individual) effect Random Effect Model </span></span>
<span id="cb233-6"><a href="panel.html#cb233-6"></a><span class="co">##    (Swamy-Arora&#39;s transformation)</span></span>
<span id="cb233-7"><a href="panel.html#cb233-7"></a><span class="co">## </span></span>
<span id="cb233-8"><a href="panel.html#cb233-8"></a><span class="co">## Call:</span></span>
<span id="cb233-9"><a href="panel.html#cb233-9"></a><span class="co">## plm(formula = voto ~ poder_pais, data = eeuu_latam, model = &quot;random&quot;, </span></span>
<span id="cb233-10"><a href="panel.html#cb233-10"></a><span class="co">##     index = c(&quot;codigo&quot;, &quot;anio&quot;))</span></span>
<span id="cb233-11"><a href="panel.html#cb233-11"></a><span class="co">## </span></span>
<span id="cb233-12"><a href="panel.html#cb233-12"></a><span class="co">## Balanced Panel: n = 10, T = 38, N = 380</span></span>
<span id="cb233-13"><a href="panel.html#cb233-13"></a><span class="co">## </span></span>
<span id="cb233-14"><a href="panel.html#cb233-14"></a><span class="co">## Effects:</span></span>
<span id="cb233-15"><a href="panel.html#cb233-15"></a><span class="co">##                   var std.dev share</span></span>
<span id="cb233-16"><a href="panel.html#cb233-16"></a><span class="co">## idiosyncratic 0.03311 0.18195  0.99</span></span>
<span id="cb233-17"><a href="panel.html#cb233-17"></a><span class="co">## individual    0.00017 0.01304  0.01</span></span>
<span id="cb233-18"><a href="panel.html#cb233-18"></a><span class="co">## theta: 0.0853</span></span>
<span id="cb233-19"><a href="panel.html#cb233-19"></a><span class="co">## </span></span>
<span id="cb233-20"><a href="panel.html#cb233-20"></a><span class="co">## Residuals:</span></span>
<span id="cb233-21"><a href="panel.html#cb233-21"></a><span class="co">##    Min. 1st Qu.  Median 3rd Qu.    Max. </span></span>
<span id="cb233-22"><a href="panel.html#cb233-22"></a><span class="co">## -0.3149 -0.1449 -0.0551  0.0974  0.5653 </span></span>
<span id="cb233-23"><a href="panel.html#cb233-23"></a><span class="co">## </span></span>
<span id="cb233-24"><a href="panel.html#cb233-24"></a><span class="co">## Coefficients:</span></span>
<span id="cb233-25"><a href="panel.html#cb233-25"></a><span class="co">##             Estimate Std. Error z-value Pr(&gt;|z|)    </span></span>
<span id="cb233-26"><a href="panel.html#cb233-26"></a><span class="co">## (Intercept)   0.3814     0.0131   29.10   &lt;2e-16 ***</span></span>
<span id="cb233-27"><a href="panel.html#cb233-27"></a><span class="co">## poder_pais   -3.7487     1.6057   -2.33     0.02 *  </span></span>
<span id="cb233-28"><a href="panel.html#cb233-28"></a><span class="co">## ---</span></span>
<span id="cb233-29"><a href="panel.html#cb233-29"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb233-30"><a href="panel.html#cb233-30"></a><span class="co">## </span></span>
<span id="cb233-31"><a href="panel.html#cb233-31"></a><span class="co">## Total Sum of Squares:    13.9</span></span>
<span id="cb233-32"><a href="panel.html#cb233-32"></a><span class="co">## Residual Sum of Squares: 13.7</span></span>
<span id="cb233-33"><a href="panel.html#cb233-33"></a><span class="co">## R-Squared:      0.0142</span></span>
<span id="cb233-34"><a href="panel.html#cb233-34"></a><span class="co">## Adj. R-Squared: 0.0116</span></span>
<span id="cb233-35"><a href="panel.html#cb233-35"></a><span class="co">## Chisq: 5.45058 on 1 DF, p-value: 0.0196</span></span></code></pre></div>
<div id="test-de-hausman" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Test de Hausman</h3>
<p>El Test de Hausman suele utilizarse para decidir si es preferible estimar el modelo con efectos fijos o con modelos aleatorios. En este test se asume que el modelo de efectos fijos es consistente para los parámetros verdaderos, y el modelo de efectos aleatorios es una especificación eficiente de los efectos individuales bajo el supuesto de que son aleatorios y siguen una distribución normal. Se supone que el modelo de efectos fijos calcula siempre el estimador consistente, mientras que el modelo de efectos aleatorios calculará el estimador que es consistente <em>y eficiente</em> bajo <span class="math inline">\(H_0\)</span>. El comando para realizar esta prueba es <code>phtest</code>, que es parte del paquete <code>plm</code>.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="panel.html#cb234-1"></a><span class="kw">phtest</span>(fe, re)</span>
<span id="cb234-2"><a href="panel.html#cb234-2"></a><span class="co">## </span></span>
<span id="cb234-3"><a href="panel.html#cb234-3"></a><span class="co">##  Hausman Test</span></span>
<span id="cb234-4"><a href="panel.html#cb234-4"></a><span class="co">## </span></span>
<span id="cb234-5"><a href="panel.html#cb234-5"></a><span class="co">## data:  voto ~ poder_pais</span></span>
<span id="cb234-6"><a href="panel.html#cb234-6"></a><span class="co">## chisq = 36, df = 1, p-value = 2e-09</span></span>
<span id="cb234-7"><a href="panel.html#cb234-7"></a><span class="co">## alternative hypothesis: one model is inconsistent</span></span></code></pre></div>
<p>Bajo la especificación actual, nuestra hipótesis inicial de que los efectos a nivel individual son modelados adecuadamente con un modelo de efectos aleatorios es claramente rechazada, con un valor p inferior al umbral de 0,05. En este caso, debemos quedarnos con el modelo de efectos fijos.</p>
<blockquote>
<p><strong>Ejercicio 7B.</strong> Utilice la base de datos del capítulo de la MCO (Latin America Welfare Dataset, 1960-2014, de Evelyne Huber y John D. Stephens) para estimar un modelo de efectos fijos y otro de efectos aleatorios en el que su variable dependiente sea el índice de Gini (<code>gini_slc</code>) A continuación, realice un test de especificación de Hausman.</p>
</blockquote>
</div>
</div>
<div id="testeando-raíces-unitarias" class="section level2">
<h2><span class="header-section-number">7.5</span> Testeando raíces unitarias</h2>
<p>Muchas series temporales de datos políticos exhiben un comportamiento con tendencias temporales, es decir, un comportamiento <em>no estacionario en la media</em>. Sin embargo, la existencia no estacionalidad no siempre se testea. Esto no es un detalle menor, ya que la no estacionalidad puede conducir fácilmente a regresiones espurias, y hay serias posibilidades de obtener resultados falsamente significativos. Dos procedimientos comunes de eliminación de tendencias temporales, también llamado de “desestacionalización” son las transformaciones de las variables a primeras diferencias y la inclusión como control de tendencias temporales. Un modelo de datos de panel dinámico es aquel que contiene (al menos) una variable dependiente con un <em>lag</em> (una variable desfazada en el tiempo, por ejemplo en t-1) y un modelo de primeras diferencias es aquel en el que tanto las variables dependientes como las independientes se expresan como <span class="math inline">\(\Delta\)</span>, es decir, como <span class="math inline">\(X_t-(X_{t-1})\)</span>. En cierto sentido, una variable dependiente desfazada introduce el efecto del pasado en el modelo. Después de incluirlo, la variable dependiente es influenciada no sólo por el valor actual de la variable independiente (<span class="math inline">\(X_t\)</span>), sino también por los valores de la variable independiente en el pasado, (<span class="math inline">\(X_{t-1}\)</span>, <span class="math inline">\(X_{t-2}\)</span>, etc.).</p>
<p>Exploremos nuestros datos y testeemos las raíces unitarias en nuestra especificación de efectos fijos.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="panel.html#cb235-1"></a>fe &lt;-<span class="st"> </span><span class="kw">plm</span>(voto <span class="op">~</span><span class="st"> </span>poder_pais, <span class="dt">data =</span> eeuu_latam, <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;codigo&quot;</span>, <span class="st">&quot;anio&quot;</span>))</span>
<span id="cb235-2"><a href="panel.html#cb235-2"></a></span>
<span id="cb235-3"><a href="panel.html#cb235-3"></a><span class="kw">summary</span>(fe)</span>
<span id="cb235-4"><a href="panel.html#cb235-4"></a><span class="co">## Oneway (individual) effect Within Model</span></span>
<span id="cb235-5"><a href="panel.html#cb235-5"></a><span class="co">## </span></span>
<span id="cb235-6"><a href="panel.html#cb235-6"></a><span class="co">## Call:</span></span>
<span id="cb235-7"><a href="panel.html#cb235-7"></a><span class="co">## plm(formula = voto ~ poder_pais, data = eeuu_latam, index = c(&quot;codigo&quot;, </span></span>
<span id="cb235-8"><a href="panel.html#cb235-8"></a><span class="co">##     &quot;anio&quot;))</span></span>
<span id="cb235-9"><a href="panel.html#cb235-9"></a><span class="co">## </span></span>
<span id="cb235-10"><a href="panel.html#cb235-10"></a><span class="co">## Balanced Panel: n = 10, T = 38, N = 380</span></span>
<span id="cb235-11"><a href="panel.html#cb235-11"></a><span class="co">## </span></span>
<span id="cb235-12"><a href="panel.html#cb235-12"></a><span class="co">## Residuals:</span></span>
<span id="cb235-13"><a href="panel.html#cb235-13"></a><span class="co">##    Min. 1st Qu.  Median 3rd Qu.    Max. </span></span>
<span id="cb235-14"><a href="panel.html#cb235-14"></a><span class="co">## -0.3129 -0.1332 -0.0384  0.1002  0.5908 </span></span>
<span id="cb235-15"><a href="panel.html#cb235-15"></a><span class="co">## </span></span>
<span id="cb235-16"><a href="panel.html#cb235-16"></a><span class="co">## Coefficients:</span></span>
<span id="cb235-17"><a href="panel.html#cb235-17"></a><span class="co">##            Estimate Std. Error t-value Pr(&gt;|t|)    </span></span>
<span id="cb235-18"><a href="panel.html#cb235-18"></a><span class="co">## poder_pais    -78.8       12.5   -6.29  9.2e-10 ***</span></span>
<span id="cb235-19"><a href="panel.html#cb235-19"></a><span class="co">## ---</span></span>
<span id="cb235-20"><a href="panel.html#cb235-20"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb235-21"><a href="panel.html#cb235-21"></a><span class="co">## </span></span>
<span id="cb235-22"><a href="panel.html#cb235-22"></a><span class="co">## Total Sum of Squares:    13.5</span></span>
<span id="cb235-23"><a href="panel.html#cb235-23"></a><span class="co">## Residual Sum of Squares: 12.2</span></span>
<span id="cb235-24"><a href="panel.html#cb235-24"></a><span class="co">## R-Squared:      0.0967</span></span>
<span id="cb235-25"><a href="panel.html#cb235-25"></a><span class="co">## Adj. R-Squared: 0.0723</span></span>
<span id="cb235-26"><a href="panel.html#cb235-26"></a><span class="co">## F-statistic: 39.5215 on 1 and 369 DF, p-value: 9.17e-10</span></span></code></pre></div>
<p>Si exploramos cuán altamente correlacionadas están nuestras variables dependientes e independientes con nuestra variable de tiempo, podríamos tener una idea de cómo tendencias en el tiempo pueden sesgar nuestros hallazgos. La figura que creamos con <code>ggcorrplot</code> muestra que <code>poder_pais</code> tiene una correlación positiva muy fuerte con <code>anio</code>, mientras que la variable <code>anio</code> tiene una correlación muy negativa con la variable <code>anio</code>.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="panel.html#cb236-1"></a><span class="kw">library</span>(ggcorrplot)</span>
<span id="cb236-2"><a href="panel.html#cb236-2"></a></span>
<span id="cb236-3"><a href="panel.html#cb236-3"></a>corr_selected &lt;-<span class="st"> </span>eeuu_brasil <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-4"><a href="panel.html#cb236-4"></a><span class="st">  </span><span class="kw">select</span>(anio, poder_pais, voto) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-5"><a href="panel.html#cb236-5"></a><span class="st">  </span><span class="co"># calcular la matriz de correlación y redondear a un decimal</span></span>
<span id="cb236-6"><a href="panel.html#cb236-6"></a><span class="st">  </span><span class="kw">cor</span>(<span class="dt">use =</span> <span class="st">&quot;pairwise&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-7"><a href="panel.html#cb236-7"></a><span class="st">  </span><span class="kw">round</span>(<span class="dv">1</span>)</span>
<span id="cb236-8"><a href="panel.html#cb236-8"></a>  </span>
<span id="cb236-9"><a href="panel.html#cb236-9"></a><span class="kw">ggcorrplot</span>(corr_selected, <span class="dt">type =</span> <span class="st">&quot;lower&quot;</span>, <span class="dt">lab =</span> T, <span class="dt">show.legend =</span> F)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-24"></span>
<img src="07-panel_es_files/figure-html/unnamed-chunk-24-1.png" alt="Correlación con la variable de tiempo" width="672" />
<p class="caption">
Figura 3.22: Correlación con la variable de tiempo
</p>
</div>
<p>Esta es una advertencia, ya que podría ser que el <code>poder_pais</code> no explique el <code>anio</code> después de todo, lo que haría que nuestros hallazgos iniciales fueran espurios.
Para diagnosticar raíces unitarias usaremos la función <code>purtest</code>. Hay múltiples tests disponibles, cada uno con diferentes especificaciones, por lo tanto, revisar todas sus diferencias excede el propósito de este capítulo. Utilizaremos dos, que son adecuadas para nuestro objetivo de detectar raíces unitarias en nuestras variables dependientes e independientes. Estos son los de <span class="citation">Levin, Lin, and James Chu (<a href="referencias.html#ref-levinUnitRootTests2002" role="doc-biblioref">2002</a>)</span> y <span class="citation">Im, Pesaran, and Shin (<a href="referencias.html#ref-imTestingUnitRoots2003" role="doc-biblioref">2003</a>)</span>.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="panel.html#cb237-1"></a><span class="co"># opción del test de Levin et al. (2002)</span></span>
<span id="cb237-2"><a href="panel.html#cb237-2"></a><span class="kw">purtest</span>(voto <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> eeuu_latam, </span>
<span id="cb237-3"><a href="panel.html#cb237-3"></a>        <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;pais&quot;</span>, <span class="st">&quot;anio&quot;</span>), <span class="dt">pmax =</span> <span class="dv">10</span>, <span class="dt">test =</span> <span class="st">&quot;levinlin&quot;</span>, </span>
<span id="cb237-4"><a href="panel.html#cb237-4"></a>        <span class="dt">lags =</span> <span class="st">&quot;AIC&quot;</span>, <span class="dt">exo =</span> <span class="st">&quot;intercept&quot;</span>)</span>
<span id="cb237-5"><a href="panel.html#cb237-5"></a><span class="co">## </span></span>
<span id="cb237-6"><a href="panel.html#cb237-6"></a><span class="co">##  Levin-Lin-Chu Unit-Root Test (ex. var.: Individual Intercepts)</span></span>
<span id="cb237-7"><a href="panel.html#cb237-7"></a><span class="co">## </span></span>
<span id="cb237-8"><a href="panel.html#cb237-8"></a><span class="co">## data:  voto ~ 1</span></span>
<span id="cb237-9"><a href="panel.html#cb237-9"></a><span class="co">## z = -2, p-value = 0.03</span></span>
<span id="cb237-10"><a href="panel.html#cb237-10"></a><span class="co">## alternative hypothesis: stationarity</span></span>
<span id="cb237-11"><a href="panel.html#cb237-11"></a></span>
<span id="cb237-12"><a href="panel.html#cb237-12"></a><span class="co"># opción del test de Im et al. (2003)</span></span>
<span id="cb237-13"><a href="panel.html#cb237-13"></a><span class="kw">purtest</span>(voto <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> eeuu_latam, </span>
<span id="cb237-14"><a href="panel.html#cb237-14"></a>        <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;pais&quot;</span>, <span class="st">&quot;anio&quot;</span>), <span class="dt">pmax =</span> <span class="dv">10</span>, <span class="dt">test =</span> <span class="st">&quot;ips&quot;</span>, </span>
<span id="cb237-15"><a href="panel.html#cb237-15"></a>        <span class="dt">lags =</span> <span class="st">&quot;AIC&quot;</span>, <span class="dt">exo =</span> <span class="st">&quot;intercept&quot;</span>)</span>
<span id="cb237-16"><a href="panel.html#cb237-16"></a><span class="co">## </span></span>
<span id="cb237-17"><a href="panel.html#cb237-17"></a><span class="co">##  Im-Pesaran-Shin Unit-Root Test (ex. var.: Individual</span></span>
<span id="cb237-18"><a href="panel.html#cb237-18"></a><span class="co">##  Intercepts)</span></span>
<span id="cb237-19"><a href="panel.html#cb237-19"></a><span class="co">## </span></span>
<span id="cb237-20"><a href="panel.html#cb237-20"></a><span class="co">## data:  voto ~ 1</span></span>
<span id="cb237-21"><a href="panel.html#cb237-21"></a><span class="co">## Wtbar = -1, p-value = 0.1</span></span>
<span id="cb237-22"><a href="panel.html#cb237-22"></a><span class="co">## alternative hypothesis: stationarity</span></span></code></pre></div>
<p>En este caso, sólo uno de los modelos, el de <code>ips</code>, indica la existencia de raíces unitarias. Aunque la evidencia no es absoluta, vale la pena corregir las posibles raíces unitarias en <code>anio</code>. Ahora, observemos nuestra variable dependiente.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="panel.html#cb238-1"></a><span class="co"># test de Levin et al. (2002)</span></span>
<span id="cb238-2"><a href="panel.html#cb238-2"></a><span class="kw">purtest</span>(poder_pais <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> eeuu_latam, </span>
<span id="cb238-3"><a href="panel.html#cb238-3"></a>        <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;pais&quot;</span>, <span class="st">&quot;anio&quot;</span>), <span class="dt">pmax =</span> <span class="dv">10</span>, <span class="dt">test =</span> <span class="st">&quot;levinlin&quot;</span>, </span>
<span id="cb238-4"><a href="panel.html#cb238-4"></a>        <span class="dt">lags =</span> <span class="kw">c</span>(<span class="st">&quot;AIC&quot;</span>), <span class="dt">exo =</span> <span class="kw">c</span>(<span class="st">&quot;intercept&quot;</span>))</span>
<span id="cb238-5"><a href="panel.html#cb238-5"></a><span class="co">## </span></span>
<span id="cb238-6"><a href="panel.html#cb238-6"></a><span class="co">##  Levin-Lin-Chu Unit-Root Test (ex. var.: Individual Intercepts)</span></span>
<span id="cb238-7"><a href="panel.html#cb238-7"></a><span class="co">## </span></span>
<span id="cb238-8"><a href="panel.html#cb238-8"></a><span class="co">## data:  poder_pais ~ 1</span></span>
<span id="cb238-9"><a href="panel.html#cb238-9"></a><span class="co">## z = -0.6, p-value = 0.3</span></span>
<span id="cb238-10"><a href="panel.html#cb238-10"></a><span class="co">## alternative hypothesis: stationarity</span></span>
<span id="cb238-11"><a href="panel.html#cb238-11"></a></span>
<span id="cb238-12"><a href="panel.html#cb238-12"></a><span class="co"># test de Im et al. (2003)</span></span>
<span id="cb238-13"><a href="panel.html#cb238-13"></a><span class="kw">purtest</span>(poder_pais <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> eeuu_latam, </span>
<span id="cb238-14"><a href="panel.html#cb238-14"></a>        <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;pais&quot;</span>, <span class="st">&quot;anio&quot;</span>), <span class="dt">pmax =</span> <span class="dv">10</span>, <span class="dt">test =</span> <span class="st">&quot;ips&quot;</span>, </span>
<span id="cb238-15"><a href="panel.html#cb238-15"></a>        <span class="dt">lags =</span> <span class="st">&quot;AIC&quot;</span>, <span class="dt">exo =</span> <span class="st">&quot;intercept&quot;</span>)</span>
<span id="cb238-16"><a href="panel.html#cb238-16"></a><span class="co">## </span></span>
<span id="cb238-17"><a href="panel.html#cb238-17"></a><span class="co">##  Im-Pesaran-Shin Unit-Root Test (ex. var.: Individual</span></span>
<span id="cb238-18"><a href="panel.html#cb238-18"></a><span class="co">##  Intercepts)</span></span>
<span id="cb238-19"><a href="panel.html#cb238-19"></a><span class="co">## </span></span>
<span id="cb238-20"><a href="panel.html#cb238-20"></a><span class="co">## data:  poder_pais ~ 1</span></span>
<span id="cb238-21"><a href="panel.html#cb238-21"></a><span class="co">## Wtbar = -0.4, p-value = 0.4</span></span>
<span id="cb238-22"><a href="panel.html#cb238-22"></a><span class="co">## alternative hypothesis: stationarity</span></span></code></pre></div>
<p>En este caso, ambos modelos son claros al indicar las raíces unitarias en la variable de poder de los países. Intentaremos resolver el problema especificando dos modelos, uno dinámico y otro con primeras diferencias. En este capítulo no tenemos la extensión para cubrir cuál es el preferible en cada situación, por lo que asumiremos que ambos son igualmente válidos. Para especificar estos modelos, primero tenemos que aprender a crear variables rezagadas (t-1, t-2, etc.), variables prospectivas (t+1, t+2, etc.) y primeras diferencias (<span class="math inline">\(\Delta\)</span>).</p>
<div id="creación-de-variables-rezagadas-lags-y-variables-prospectivas-leads" class="section level3">
<h3><span class="header-section-number">7.5.1</span> Creación de variables rezagadas (<em>lags</em>) y variables prospectivas (<em>leads</em>)</h3>
<p>La siguiente porción de código crea variables que probablemente necesitemos. Primero, clasificamos (<code>arrange</code>) nuestro panel de acuerdo a nuestros Ns y Ts. Este es un paso importante para que la base de datos no confunda nuestras observaciones. Luego, las agrupamos según nuestro N, en este caso <code>pais</code>. Finalmente, creamos las variables. Después de la función (por ejemplo, <code>lag</code>) especificamos que es un rezago en relación a t-1. Para un rezago mayor, cambiaríamos el 1 por otro valor en el código. Hemos creado una de cada tipo para que sepas cómo hacerlo, pero no usaremos aquí la variable <code>voto_lead1</code>.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="panel.html#cb239-1"></a>eeuu_latam &lt;-<span class="st"> </span>eeuu_latam <span class="op">%&gt;%</span></span>
<span id="cb239-2"><a href="panel.html#cb239-2"></a><span class="st">  </span><span class="kw">arrange</span>(pais, anio) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb239-3"><a href="panel.html#cb239-3"></a><span class="st">  </span><span class="kw">group_by</span>(pais) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb239-4"><a href="panel.html#cb239-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">voto_lag1 =</span> dplyr<span class="op">::</span><span class="kw">lag</span>(voto, <span class="dv">1</span>),</span>
<span id="cb239-5"><a href="panel.html#cb239-5"></a>         <span class="dt">voto_lead1 =</span> dplyr<span class="op">::</span><span class="kw">lead</span>(voto, <span class="dv">1</span>),</span>
<span id="cb239-6"><a href="panel.html#cb239-6"></a>         <span class="dt">voto_diff1 =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">diff</span>(voto))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb239-7"><a href="panel.html#cb239-7"></a><span class="st">  </span><span class="kw">ungroup</span>()</span></code></pre></div>
<p>Ahora hacemos lo mismo con la variable <code>poder_pais</code>. Crearemos un rezago (t-1) y la diferencia (<span class="math inline">\(Delta\)</span>)</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="panel.html#cb240-1"></a>eeuu_latam &lt;-<span class="st"> </span>eeuu_latam <span class="op">%&gt;%</span></span>
<span id="cb240-2"><a href="panel.html#cb240-2"></a><span class="st">  </span><span class="kw">arrange</span>(pais, anio) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb240-3"><a href="panel.html#cb240-3"></a><span class="st">  </span><span class="kw">group_by</span>(pais) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb240-4"><a href="panel.html#cb240-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">poder_pais_lag1 =</span> dplyr<span class="op">::</span><span class="kw">lag</span>(poder_pais, <span class="dv">1</span>),</span>
<span id="cb240-5"><a href="panel.html#cb240-5"></a>         <span class="dt">poder_pais_diff1 =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">diff</span>(poder_pais))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb240-6"><a href="panel.html#cb240-6"></a><span class="st">  </span><span class="kw">ungroup</span>()</span></code></pre></div>
<ul>
<li>Modelo dinámico</li>
</ul>
<p>Nuestro modelo dinámico incluirá la variable rezagada de la variable dependiente. Así, <code>voto_lag1</code> es un predictor del voto en el presente. Notarán que, al incluir esta variable, la hipótesis de Amorim Neto de que cuanto mayor sea el poder del país, menor será la convergencia de los votos en la AGNU, queda sin sustento empírico. Ojalá esto sea una advertencia de que es esencial que cuando utilices datos en panel que siempre hagas este tipo de tests.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="panel.html#cb241-1"></a>fe_lag &lt;-<span class="st"> </span><span class="kw">plm</span>(voto <span class="op">~</span><span class="st"> </span>voto_lag1 <span class="op">+</span><span class="st"> </span>poder_pais, <span class="dt">data =</span> eeuu_latam,</span>
<span id="cb241-2"><a href="panel.html#cb241-2"></a>              <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;codigo&quot;</span>, <span class="st">&quot;anio&quot;</span>))</span>
<span id="cb241-3"><a href="panel.html#cb241-3"></a><span class="kw">summary</span>(fe_lag)</span>
<span id="cb241-4"><a href="panel.html#cb241-4"></a><span class="co">## Oneway (individual) effect Within Model</span></span>
<span id="cb241-5"><a href="panel.html#cb241-5"></a><span class="co">## </span></span>
<span id="cb241-6"><a href="panel.html#cb241-6"></a><span class="co">## Call:</span></span>
<span id="cb241-7"><a href="panel.html#cb241-7"></a><span class="co">## plm(formula = voto ~ voto_lag1 + poder_pais, data = eeuu_latam, </span></span>
<span id="cb241-8"><a href="panel.html#cb241-8"></a><span class="co">##     index = c(&quot;codigo&quot;, &quot;anio&quot;))</span></span>
<span id="cb241-9"><a href="panel.html#cb241-9"></a><span class="co">## </span></span>
<span id="cb241-10"><a href="panel.html#cb241-10"></a><span class="co">## Balanced Panel: n = 10, T = 37, N = 370</span></span>
<span id="cb241-11"><a href="panel.html#cb241-11"></a><span class="co">## </span></span>
<span id="cb241-12"><a href="panel.html#cb241-12"></a><span class="co">## Residuals:</span></span>
<span id="cb241-13"><a href="panel.html#cb241-13"></a><span class="co">##     Min.  1st Qu.   Median  3rd Qu.     Max. </span></span>
<span id="cb241-14"><a href="panel.html#cb241-14"></a><span class="co">## -0.20668 -0.04013 -0.00833  0.02616  0.28549 </span></span>
<span id="cb241-15"><a href="panel.html#cb241-15"></a><span class="co">## </span></span>
<span id="cb241-16"><a href="panel.html#cb241-16"></a><span class="co">## Coefficients:</span></span>
<span id="cb241-17"><a href="panel.html#cb241-17"></a><span class="co">##            Estimate Std. Error t-value Pr(&gt;|t|)    </span></span>
<span id="cb241-18"><a href="panel.html#cb241-18"></a><span class="co">## voto_lag1    0.8912     0.0218   40.90   &lt;2e-16 ***</span></span>
<span id="cb241-19"><a href="panel.html#cb241-19"></a><span class="co">## poder_pais  -3.0418     5.7186   -0.53      0.6    </span></span>
<span id="cb241-20"><a href="panel.html#cb241-20"></a><span class="co">## ---</span></span>
<span id="cb241-21"><a href="panel.html#cb241-21"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb241-22"><a href="panel.html#cb241-22"></a><span class="co">## </span></span>
<span id="cb241-23"><a href="panel.html#cb241-23"></a><span class="co">## Total Sum of Squares:    12.3</span></span>
<span id="cb241-24"><a href="panel.html#cb241-24"></a><span class="co">## Residual Sum of Squares: 1.98</span></span>
<span id="cb241-25"><a href="panel.html#cb241-25"></a><span class="co">## R-Squared:      0.839</span></span>
<span id="cb241-26"><a href="panel.html#cb241-26"></a><span class="co">## Adj. R-Squared: 0.834</span></span>
<span id="cb241-27"><a href="panel.html#cb241-27"></a><span class="co">## F-statistic: 934.399 on 2 and 358 DF, p-value: &lt;2e-16</span></span></code></pre></div>
<ul>
<li>Modelo de primeras diferencias
Lo mismo ocurre cuando se prueban los modelos con las primeras diferencias, por lo que la hipótesis del capítulo se queda sin sustento.</li>
</ul>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="panel.html#cb242-1"></a>fe_diff &lt;-<span class="st"> </span><span class="kw">plm</span>(voto_diff1 <span class="op">~</span><span class="st"> </span>poder_pais_diff1, <span class="dt">data =</span> eeuu_latam,</span>
<span id="cb242-2"><a href="panel.html#cb242-2"></a>               <span class="dt">index =</span> <span class="kw">c</span>(<span class="st">&quot;codigo&quot;</span>, <span class="st">&quot;anio&quot;</span>))</span>
<span id="cb242-3"><a href="panel.html#cb242-3"></a></span>
<span id="cb242-4"><a href="panel.html#cb242-4"></a><span class="kw">summary</span>(fe_diff)</span>
<span id="cb242-5"><a href="panel.html#cb242-5"></a><span class="co">## Oneway (individual) effect Within Model</span></span>
<span id="cb242-6"><a href="panel.html#cb242-6"></a><span class="co">## </span></span>
<span id="cb242-7"><a href="panel.html#cb242-7"></a><span class="co">## Call:</span></span>
<span id="cb242-8"><a href="panel.html#cb242-8"></a><span class="co">## plm(formula = voto_diff1 ~ poder_pais_diff1, data = eeuu_latam, </span></span>
<span id="cb242-9"><a href="panel.html#cb242-9"></a><span class="co">##     index = c(&quot;codigo&quot;, &quot;anio&quot;))</span></span>
<span id="cb242-10"><a href="panel.html#cb242-10"></a><span class="co">## </span></span>
<span id="cb242-11"><a href="panel.html#cb242-11"></a><span class="co">## Balanced Panel: n = 10, T = 37, N = 370</span></span>
<span id="cb242-12"><a href="panel.html#cb242-12"></a><span class="co">## </span></span>
<span id="cb242-13"><a href="panel.html#cb242-13"></a><span class="co">## Residuals:</span></span>
<span id="cb242-14"><a href="panel.html#cb242-14"></a><span class="co">##     Min.  1st Qu.   Median  3rd Qu.     Max. </span></span>
<span id="cb242-15"><a href="panel.html#cb242-15"></a><span class="co">## -0.24860 -0.04107 -0.00426  0.03102  0.27316 </span></span>
<span id="cb242-16"><a href="panel.html#cb242-16"></a><span class="co">## </span></span>
<span id="cb242-17"><a href="panel.html#cb242-17"></a><span class="co">## Coefficients:</span></span>
<span id="cb242-18"><a href="panel.html#cb242-18"></a><span class="co">##                  Estimate Std. Error t-value Pr(&gt;|t|)</span></span>
<span id="cb242-19"><a href="panel.html#cb242-19"></a><span class="co">## poder_pais_diff1     12.6       15.3    0.83     0.41</span></span>
<span id="cb242-20"><a href="panel.html#cb242-20"></a><span class="co">## </span></span>
<span id="cb242-21"><a href="panel.html#cb242-21"></a><span class="co">## Total Sum of Squares:    2.13</span></span>
<span id="cb242-22"><a href="panel.html#cb242-22"></a><span class="co">## Residual Sum of Squares: 2.12</span></span>
<span id="cb242-23"><a href="panel.html#cb242-23"></a><span class="co">## R-Squared:      0.00189</span></span>
<span id="cb242-24"><a href="panel.html#cb242-24"></a><span class="co">## Adj. R-Squared: -0.0259</span></span>
<span id="cb242-25"><a href="panel.html#cb242-25"></a><span class="co">## F-statistic: 0.68067 on 1 and 359 DF, p-value: 0.41</span></span></code></pre></div>
<p>Por último, comparemos el modelo que no considera las raíces unitarias (<code>fe</code>) con el que lo corrige (<code>fe_lag</code>) a través de la prueba Wooldridge de errores AR(1) en los modelos de paneles de efectos fijos:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="panel.html#cb243-1"></a><span class="kw">pwartest</span>(fe)</span>
<span id="cb243-2"><a href="panel.html#cb243-2"></a><span class="co">## </span></span>
<span id="cb243-3"><a href="panel.html#cb243-3"></a><span class="co">##  Wooldridge&#39;s test for serial correlation in FE panels</span></span>
<span id="cb243-4"><a href="panel.html#cb243-4"></a><span class="co">## </span></span>
<span id="cb243-5"><a href="panel.html#cb243-5"></a><span class="co">## data:  fe</span></span>
<span id="cb243-6"><a href="panel.html#cb243-6"></a><span class="co">## F = 4437, df1 = 1, df2 = 368, p-value &lt;2e-16</span></span>
<span id="cb243-7"><a href="panel.html#cb243-7"></a><span class="co">## alternative hypothesis: serial correlation</span></span></code></pre></div>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="panel.html#cb244-1"></a><span class="kw">pwartest</span>(fe_lag)</span>
<span id="cb244-2"><a href="panel.html#cb244-2"></a><span class="co">## </span></span>
<span id="cb244-3"><a href="panel.html#cb244-3"></a><span class="co">##  Wooldridge&#39;s test for serial correlation in FE panels</span></span>
<span id="cb244-4"><a href="panel.html#cb244-4"></a><span class="co">## </span></span>
<span id="cb244-5"><a href="panel.html#cb244-5"></a><span class="co">## data:  fe_lag</span></span>
<span id="cb244-6"><a href="panel.html#cb244-6"></a><span class="co">## F = 0.7, df1 = 1, df2 = 358, p-value = 0.4</span></span>
<span id="cb244-7"><a href="panel.html#cb244-7"></a><span class="co">## alternative hypothesis: serial correlation</span></span></code></pre></div>
<p>Obviamente hemos cubierto estos contenidos sin entrar en muchos detalles o explicaciones. Uno podría escribir un libro entero sobre este capítulo. Para aprender más sobre este tema, sería genial si pudiera leer las lecturas sugeridas al principio de este capítulo, especialmente Beck y Katz (2011)<a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a>.</p>
<blockquote>
<p><strong>Ejercicio 7C.</strong> Utiliza el Latin America Welfare Dataset para crear variables rezagadas en t-1 y t-10 del Índice Gini (<code>gini_slc</code>). Incorpore ambas variables en tu modelo y diagnostica las raíces unitarias.</p>
</blockquote>
</div>
</div>
<div id="errores-estándar-robustos-corregidos-para-panel" class="section level2">
<h2><span class="header-section-number">7.6</span> Errores estándar robustos corregidos para panel</h2>
<div id="errores-estándar-robustos-1" class="section level3">
<h3><span class="header-section-number">7.6.1</span> Errores estándar robustos</h3>
<p>Quizás has utilizado Stata en algún momento para hacer análisis de datos en panel, o tal vez uno de tus coautores quiere replicar tus resultados en Stata. Si deseas reportar errores estándar robustos equivalentes a los de la opción “robust” de Stata, usted necesita calcularlos con <code>coeftest</code> y definir <code>type"sss"</code>, que corresponde a la misma corrección de muestra pequeña para datos de panel que hace Stata.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="panel.html#cb245-1"></a><span class="kw">library</span>(lmtest)</span></code></pre></div>
<p>Si quisieras hacerlo para el modelo original de efectos fijos (<code>fe</code>) puedes con la siguiente línea de código:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="panel.html#cb246-1"></a><span class="kw">coeftest</span>(fe, <span class="dt">vcov. =</span> <span class="cf">function</span>(x){<span class="kw">vcovHC</span>(x, <span class="dt">type =</span> <span class="st">&quot;sss&quot;</span>)}) </span>
<span id="cb246-2"><a href="panel.html#cb246-2"></a><span class="co">## </span></span>
<span id="cb246-3"><a href="panel.html#cb246-3"></a><span class="co">## t test of coefficients:</span></span>
<span id="cb246-4"><a href="panel.html#cb246-4"></a><span class="co">## </span></span>
<span id="cb246-5"><a href="panel.html#cb246-5"></a><span class="co">##            Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb246-6"><a href="panel.html#cb246-6"></a><span class="co">## poder_pais    -78.8       19.4   -4.06    6e-05 ***</span></span>
<span id="cb246-7"><a href="panel.html#cb246-7"></a><span class="co">## ---</span></span>
<span id="cb246-8"><a href="panel.html#cb246-8"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span></code></pre></div>
<p>Y para compararlos con los errores estándar originales:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="panel.html#cb247-1"></a><span class="kw">summary</span>(fe)</span>
<span id="cb247-2"><a href="panel.html#cb247-2"></a><span class="co">## Oneway (individual) effect Within Model</span></span>
<span id="cb247-3"><a href="panel.html#cb247-3"></a><span class="co">## </span></span>
<span id="cb247-4"><a href="panel.html#cb247-4"></a><span class="co">## Call:</span></span>
<span id="cb247-5"><a href="panel.html#cb247-5"></a><span class="co">## plm(formula = voto ~ poder_pais, data = eeuu_latam, index = c(&quot;codigo&quot;, </span></span>
<span id="cb247-6"><a href="panel.html#cb247-6"></a><span class="co">##     &quot;anio&quot;))</span></span>
<span id="cb247-7"><a href="panel.html#cb247-7"></a><span class="co">## </span></span>
<span id="cb247-8"><a href="panel.html#cb247-8"></a><span class="co">## Balanced Panel: n = 10, T = 38, N = 380</span></span>
<span id="cb247-9"><a href="panel.html#cb247-9"></a><span class="co">## </span></span>
<span id="cb247-10"><a href="panel.html#cb247-10"></a><span class="co">## Residuals:</span></span>
<span id="cb247-11"><a href="panel.html#cb247-11"></a><span class="co">##    Min. 1st Qu.  Median 3rd Qu.    Max. </span></span>
<span id="cb247-12"><a href="panel.html#cb247-12"></a><span class="co">## -0.3129 -0.1332 -0.0384  0.1002  0.5908 </span></span>
<span id="cb247-13"><a href="panel.html#cb247-13"></a><span class="co">## </span></span>
<span id="cb247-14"><a href="panel.html#cb247-14"></a><span class="co">## Coefficients:</span></span>
<span id="cb247-15"><a href="panel.html#cb247-15"></a><span class="co">##            Estimate Std. Error t-value Pr(&gt;|t|)    </span></span>
<span id="cb247-16"><a href="panel.html#cb247-16"></a><span class="co">## poder_pais    -78.8       12.5   -6.29  9.2e-10 ***</span></span>
<span id="cb247-17"><a href="panel.html#cb247-17"></a><span class="co">## ---</span></span>
<span id="cb247-18"><a href="panel.html#cb247-18"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb247-19"><a href="panel.html#cb247-19"></a><span class="co">## </span></span>
<span id="cb247-20"><a href="panel.html#cb247-20"></a><span class="co">## Total Sum of Squares:    13.5</span></span>
<span id="cb247-21"><a href="panel.html#cb247-21"></a><span class="co">## Residual Sum of Squares: 12.2</span></span>
<span id="cb247-22"><a href="panel.html#cb247-22"></a><span class="co">## R-Squared:      0.0967</span></span>
<span id="cb247-23"><a href="panel.html#cb247-23"></a><span class="co">## Adj. R-Squared: 0.0723</span></span>
<span id="cb247-24"><a href="panel.html#cb247-24"></a><span class="co">## F-statistic: 39.5215 on 1 and 369 DF, p-value: 9.17e-10</span></span></code></pre></div>
<p>También es posible que quieras calcular los errores estándar corregidos para panel, equivalentes al comando <code>xtpcse</code> de Stata. Estos errores estándar se han popularizado en la ciencia política desde el clásico artículo de Beck y Katz (1995)<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a>. En 2011 se publicó un paquete para calcularlos en R<a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a>. En el artículo, los autores explican que estos errores estándar son útiles para aquellos que trabajan con paneles de “estados o naciones”:
&gt;“Los datos de series temporales transversales (TSCS) se caracterizan por tener observaciones repetidas a lo largo del tiempo, como puede ser datos de estados o naciones a lo largo de los años. Los datos TSCS típicamente sufren de correlación contemporánea entre las unidades y de heteroscedasticidad a nivel de unidad, haciendo que la inferencia de los errores estándar producidos por MCO sea incorrecta. Los errores estándar corregidos para panel (PCSE) dan cuenta de estas desviaciones en los errores y permiten una mejor inferencia de los modelos lineales estimados a partir de datos de tipo TSCS”.</p>
<p>Para usar los errores estándar corregidos para Panel (PCSE) necesitas usar la opción <code>vcov = "vcovBK"</code> dentro de la función <code>coeftest()</code>. Debes fijar el argumento <code>cluster = "time"</code>.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="panel.html#cb248-1"></a><span class="kw">coeftest</span>(fe, <span class="dt">vcov =</span> vcovBK, <span class="dt">type =</span> <span class="st">&quot;HC1&quot;</span>, <span class="dt">cluster =</span> <span class="st">&quot;time&quot;</span>)</span>
<span id="cb248-2"><a href="panel.html#cb248-2"></a><span class="co">## </span></span>
<span id="cb248-3"><a href="panel.html#cb248-3"></a><span class="co">## t test of coefficients:</span></span>
<span id="cb248-4"><a href="panel.html#cb248-4"></a><span class="co">## </span></span>
<span id="cb248-5"><a href="panel.html#cb248-5"></a><span class="co">##            Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb248-6"><a href="panel.html#cb248-6"></a><span class="co">## poder_pais    -78.8       11.3   -6.96  1.6e-11 ***</span></span>
<span id="cb248-7"><a href="panel.html#cb248-7"></a><span class="co">## ---</span></span>
<span id="cb248-8"><a href="panel.html#cb248-8"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span></code></pre></div>
<p>Voilá!</p>
<p>Hasta este punto, hemos cubierto las funciones básicas que necesitas tener en cuenta para analizar los datos de tu panel. Para ampliar tus conocimientos, consulta la bibliografía recomendada al principio del capítulo. Esperamos que este capítulo te haya resultado útil.</p>
<blockquote>
<p><strong>Ejercicio 7D.</strong> En el modelo que estimaste en el ejercicio anterior, calcula los errores estándar corregidos para panel.</p>
</blockquote>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="33">
<li id="fn33"><p>E-mail: furdinez@uc.cl<a href="panel.html#fnref33" class="footnote-back">↩︎</a></p></li>
<li id="fn34"><p> Este ejemplo fue tomado de un curso de <a href="https://www2.stat.duke.edu/~mc301/">Mine Cetinkaya</a>, su sitio web tiene más recursos útiles que vale la pena ver<a href="panel.html#fnref34" class="footnote-back">↩︎</a></p></li>
<li id="fn35"><p>En el capítulo de manejo avanzado de datos aprenderá cómo imputar los valores perdidos<a href="panel.html#fnref35" class="footnote-back">↩︎</a></p></li>
<li id="fn36"><p><span class="citation">Beck and Katz (<a href="referencias.html#ref-beckModelingDynamicsTimeSeries2011" role="doc-biblioref">2011</a>)</span><a href="panel.html#fnref36" class="footnote-back">↩︎</a></p></li>
<li id="fn37"><p><span class="citation">Beck and Katz (<a href="referencias.html#ref-beckWhatNotTimeSeries1995" role="doc-biblioref">1995</a>)</span><a href="panel.html#fnref37" class="footnote-back">↩︎</a></p></li>
<li id="fn38"><p><span class="citation">Bailey and Katz (<a href="referencias.html#ref-baileyImplementingPanelCorrectedStandard2011" role="doc-biblioref">2011</a>)</span><a href="panel.html#fnref38" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="case-sel.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="logit.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/arcruz0/libroadp/edit/master/07-panel_es.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
