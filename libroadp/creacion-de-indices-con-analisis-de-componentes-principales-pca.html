<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AnalizaR datos políticos</title>
  <meta name="description" content="Proyecto de libro">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="AnalizaR datos políticos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Proyecto de libro" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="AnalizaR datos políticos" />
  
  <meta name="twitter:description" content="Proyecto de libro" />
  

<meta name="author" content="Francisco Urdinez y Andrés Cruz Labrín (editores)">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="prev" href="pca.html">
<link rel="next" href="web-mining.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><b><a href="./index.html">analizaR datos políticos</a></b></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Tabla de contenidos</a></li>
<li class="chapter" data-level="1" data-path="prefacio.html"><a href="prefacio.html"><i class="fa fa-check"></i><b>1</b> Prefacio</a><ul>
<li class="chapter" data-level="1.1" data-path="prefacio.html"><a href="prefacio.html#agradecimientos"><i class="fa fa-check"></i><b>1.1</b> Agradecimientos</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>2</b> Introducción</a><ul>
<li class="chapter" data-level="2.1" data-path="introduccion.html"><a href="introduccion.html#organizacion-del-libro"><i class="fa fa-check"></i><b>2.1</b> Organización del libro</a></li>
<li class="chapter" data-level="2.2" data-path="introduccion.html"><a href="introduccion.html#prerrequisitos"><i class="fa fa-check"></i><b>2.2</b> Prerrequisitos</a></li>
</ul></li>
<li class="part"><span><b>I Introducción a R</b></span></li>
<li class="chapter" data-level="3" data-path="rbas.html"><a href="rbas.html"><i class="fa fa-check"></i><b>3</b> R básico</a><ul>
<li class="chapter" data-level="3.1" data-path="rbas.html"><a href="rbas.html#instalacion"><i class="fa fa-check"></i><b>3.1</b> Instalación</a><ul>
<li class="chapter" data-level="3.1.1" data-path="rbas.html"><a href="rbas.html#r"><i class="fa fa-check"></i><b>3.1.1</b> R</a></li>
<li class="chapter" data-level="3.1.2" data-path="rbas.html"><a href="rbas.html#rstudio"><i class="fa fa-check"></i><b>3.1.2</b> RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rbas.html"><a href="rbas.html#partes-de-rstudio"><i class="fa fa-check"></i><b>3.2</b> Partes de RStudio</a><ul>
<li class="chapter" data-level="3.2.1" data-path="rbas.html"><a href="rbas.html#consola"><i class="fa fa-check"></i><b>3.2.1</b> Consola</a></li>
<li class="chapter" data-level="3.2.2" data-path="rbas.html"><a href="rbas.html#script"><i class="fa fa-check"></i><b>3.2.2</b> Script</a></li>
<li class="chapter" data-level="3.2.3" data-path="rbas.html"><a href="rbas.html#objetos"><i class="fa fa-check"></i><b>3.2.3</b> Objetos</a></li>
<li class="chapter" data-level="3.2.4" data-path="rbas.html"><a href="rbas.html#archivos-graficos-paquetes-ayuda"><i class="fa fa-check"></i><b>3.2.4</b> Archivos / gráficos / paquetes / ayuda</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rbas.html"><a href="rbas.html#ejercicios"><i class="fa fa-check"></i><b>3.3</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manejo.html"><a href="manejo.html"><i class="fa fa-check"></i><b>4</b> Manejo</a><ul>
<li class="chapter" data-level="4.1" data-path="manejo.html"><a href="manejo.html#nuestra-base-de-datos"><i class="fa fa-check"></i><b>4.1</b> Nuestra base de datos</a></li>
<li class="chapter" data-level="4.2" data-path="manejo.html"><a href="manejo.html#describir-la-base"><i class="fa fa-check"></i><b>4.2</b> Describir la base</a></li>
<li class="chapter" data-level="4.3" data-path="manejo.html"><a href="manejo.html#ordenar-la-base-con-arrange"><i class="fa fa-check"></i><b>4.3</b> Ordenar la base con <code>arrange()</code></a></li>
<li class="chapter" data-level="4.4" data-path="manejo.html"><a href="manejo.html#seleccionar-columnas-de-la-base-con-select"><i class="fa fa-check"></i><b>4.4</b> Seleccionar columnas de la base con <code>select()</code></a></li>
<li class="chapter" data-level="4.5" data-path="manejo.html"><a href="manejo.html#renombrar-columnas-de-la-base-con-rename"><i class="fa fa-check"></i><b>4.5</b> Renombrar columnas de la base con <code>rename()</code></a></li>
<li class="chapter" data-level="4.6" data-path="manejo.html"><a href="manejo.html#filtrar-observaciones-de-la-base-con-filter"><i class="fa fa-check"></i><b>4.6</b> Filtrar observaciones de la base con <code>filter()</code></a></li>
<li class="chapter" data-level="4.7" data-path="manejo.html"><a href="manejo.html#crear-nuevas-variables-en-la-base-con-mutate"><i class="fa fa-check"></i><b>4.7</b> Crear nuevas variables en la base con <code>mutate()</code></a></li>
<li class="chapter" data-level="4.8" data-path="manejo.html"><a href="manejo.html#concatenar-comandos-las-pipes"><i class="fa fa-check"></i><b>4.8</b> Concatenar comandos: las pipes (<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="4.9" data-path="manejo.html"><a href="manejo.html#ejercicios-1"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> Visualización de datos</a><ul>
<li class="chapter" data-level="5.1" data-path="dataviz.html"><a href="dataviz.html#por-que-quiero-visualizar-mis-datos"><i class="fa fa-check"></i><b>5.1</b> ¿Por qué quiero visualizar mis datos?</a></li>
<li class="chapter" data-level="5.2" data-path="dataviz.html"><a href="dataviz.html#primeros-pasos"><i class="fa fa-check"></i><b>5.2</b> Primeros pasos</a><ul>
<li class="chapter" data-level="5.2.1" data-path="dataviz.html"><a href="dataviz.html#las-capas-del-multiverso-ggplotidiano"><i class="fa fa-check"></i><b>5.2.1</b> Las capas del multiverso ggplotidiano</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dataviz.html"><a href="dataviz.html#elecciones-locales-y-visualizacion-de-datos"><i class="fa fa-check"></i><b>5.3</b> Elecciones locales y visualización de datos</a><ul>
<li class="chapter" data-level="5.3.1" data-path="dataviz.html"><a href="dataviz.html#grafico-de-barras"><i class="fa fa-check"></i><b>5.3.1</b> Gráfico de barras</a></li>
<li class="chapter" data-level="5.3.2" data-path="dataviz.html"><a href="dataviz.html#boxplot"><i class="fa fa-check"></i><b>5.3.2</b> Boxplot</a></li>
<li class="chapter" data-level="5.3.3" data-path="dataviz.html"><a href="dataviz.html#relacion-entre-variables"><i class="fa fa-check"></i><b>5.3.3</b> Relación entre variables</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="dataviz.html"><a href="dataviz.html#para-seguir-aprendiendo"><i class="fa fa-check"></i><b>5.4</b> Para seguir aprendiendo</a><ul>
<li class="chapter" data-level="5.4.1" data-path="dataviz.html"><a href="dataviz.html#otros-paquetes"><i class="fa fa-check"></i><b>5.4.1</b> Otros paquetes:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="carga-flujo.html"><a href="carga-flujo.html"><i class="fa fa-check"></i><b>6</b> Carga de bases y flujo de trabajo</a></li>
<li class="part"><span><b>II Modelos</b></span></li>
<li class="chapter" data-level="7" data-path="stats.html"><a href="stats.html"><i class="fa fa-check"></i><b>7</b> Estadística inferencial básica</a></li>
<li class="chapter" data-level="8" data-path="lineal.html"><a href="lineal.html"><i class="fa fa-check"></i><b>8</b> Modelos lineales</a></li>
<li class="chapter" data-level="9" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>9</b> Modelos binarios</a></li>
<li class="chapter" data-level="10" data-path="surv.html"><a href="surv.html"><i class="fa fa-check"></i><b>10</b> Modelos de supervivencia</a><ul>
<li class="chapter" data-level="10.1" data-path="surv.html"><a href="surv.html#el-modelo-cox-de-riesgos-proporcionales"><i class="fa fa-check"></i><b>10.1</b> El modelo Cox de riesgos proporcionales:</a></li>
</ul></li>
<li class="part"><span><b>III Aplicaciones</b></span></li>
<li class="chapter" data-level="11" data-path="manejo-av.html"><a href="manejo-av.html"><i class="fa fa-check"></i><b>11</b> Manejo avanzado de datos políticos</a></li>
<li class="chapter" data-level="12" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>12</b> Creación de índices con Análisis de Componentes Principales</a></li>
<li class="chapter" data-level="13" data-path="creacion-de-indices-con-analisis-de-componentes-principales-pca.html"><a href="creacion-de-indices-con-analisis-de-componentes-principales-pca.html"><i class="fa fa-check"></i><b>13</b> Creación de índices con Análisis de Componentes Principales (PCA)</a><ul>
<li class="chapter" data-level="13.1" data-path="creacion-de-indices-con-analisis-de-componentes-principales-pca.html"><a href="creacion-de-indices-con-analisis-de-componentes-principales-pca.html#conceptos-importantes"><i class="fa fa-check"></i><b>13.1</b> Conceptos importantes</a></li>
<li class="chapter" data-level="13.2" data-path="creacion-de-indices-con-analisis-de-componentes-principales-pca.html"><a href="creacion-de-indices-con-analisis-de-componentes-principales-pca.html#aplicacion-en-r"><i class="fa fa-check"></i><b>13.2</b> Aplicación en R</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="web-mining.html"><a href="web-mining.html"><i class="fa fa-check"></i><b>14</b> Mínería de datos</a></li>
<li class="chapter" data-level="15" data-path="redes.html"><a href="redes.html"><i class="fa fa-check"></i><b>15</b> Análisis de redes</a></li>
<li class="chapter" data-level="16" data-path="qta.html"><a href="qta.html"><i class="fa fa-check"></i><b>16</b> Análisis cuantitativo de textos</a><ul>
<li class="chapter" data-level="16.1" data-path="qta.html"><a href="qta.html#introduccion-1"><i class="fa fa-check"></i><b>16.1</b> Introducción</a></li>
<li class="chapter" data-level="16.2" data-path="qta.html"><a href="qta.html#bases-de-datos"><i class="fa fa-check"></i><b>16.2</b> Bases de datos</a></li>
<li class="chapter" data-level="16.3" data-path="qta.html"><a href="qta.html#calculo-de-frecuencias"><i class="fa fa-check"></i><b>16.3</b> Cálculo de frecuencias</a><ul>
<li class="chapter" data-level="16.3.1" data-path="qta.html"><a href="qta.html#hashtags-mas-usados-de-las-cuentas-de-los-diputados"><i class="fa fa-check"></i><b>16.3.1</b> 10 hashtags mas usados de las cuentas de los diputados</a></li>
<li class="chapter" data-level="16.3.2" data-path="qta.html"><a href="qta.html#frecuencias-por-genero-cantidad-de-hashtags-usados-por-los-diputados-en-total"><i class="fa fa-check"></i><b>16.3.2</b> Frecuencias por género: cantidad de hashtags usados por los diputados en total</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="qta.html"><a href="qta.html#wordcloud-de-hashtags"><i class="fa fa-check"></i><b>16.4</b> Wordcloud de hashtags</a></li>
<li class="chapter" data-level="16.5" data-path="qta.html"><a href="qta.html#hashtags-mas-usados-por-genero"><i class="fa fa-check"></i><b>16.5</b> Hashtags más usados por género</a><ul>
<li class="chapter" data-level="16.5.1" data-path="qta.html"><a href="qta.html#entre-las-diputadas"><i class="fa fa-check"></i><b>16.5.1</b> Entre las diputadas</a></li>
<li class="chapter" data-level="16.5.2" data-path="qta.html"><a href="qta.html#entre-las-diputadas-1"><i class="fa fa-check"></i><b>16.5.2</b> Entre las diputadas</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="qta.html"><a href="qta.html#hashtags-de-genero-por-caracteristicas-del-diputado"><i class="fa fa-check"></i><b>16.6</b> Hashtags de género por características del diputado</a><ul>
<li class="chapter" data-level="16.6.1" data-path="qta.html"><a href="qta.html#por-el-genero-del-diputado"><i class="fa fa-check"></i><b>16.6.1</b> Por el género del diputado</a></li>
<li class="chapter" data-level="16.6.2" data-path="qta.html"><a href="qta.html#por-la-coalicion-de-los-diputados"><i class="fa fa-check"></i><b>16.6.2</b> Por la coalición de los diputados</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="qta.html"><a href="qta.html#variacion-temporal-del-uso-de-estos-hashtags"><i class="fa fa-check"></i><b>16.7</b> Variación temporal del uso de estos hashtags</a><ul>
<li class="chapter" data-level="16.7.1" data-path="qta.html"><a href="qta.html#frecuencia-semanal-de-olafeminista"><i class="fa fa-check"></i><b>16.7.1</b> Frecuencia semanal de #olafeminista</a></li>
<li class="chapter" data-level="16.7.2" data-path="qta.html"><a href="qta.html#frecuencia-semanal-de-tres-hashtags-de-genero"><i class="fa fa-check"></i><b>16.7.2</b> Frecuencia semanal de tres hashtags de género</a></li>
<li class="chapter" data-level="16.7.3" data-path="qta.html"><a href="qta.html#grafiquemos-los-hashtags-de-genero-por-semana"><i class="fa fa-check"></i><b>16.7.3</b> Grafiquemos los hashtags de género por semana</a></li>
<li class="chapter" data-level="16.7.4" data-path="qta.html"><a href="qta.html#ponderamos-en-relacion-al-total-de-hashtags-por-semana"><i class="fa fa-check"></i><b>16.7.4</b> Ponderamos en relación al total de hashtags por semana</a></li>
<li class="chapter" data-level="16.7.5" data-path="qta.html"><a href="qta.html#grafiquemos-los-hashtags-interesantes-ponderados-por-el-total-semanal"><i class="fa fa-check"></i><b>16.7.5</b> Grafiquemos los hashtags interesantes ponderados por el total semanal</a></li>
<li class="chapter" data-level="16.7.6" data-path="qta.html"><a href="qta.html#diputadas"><i class="fa fa-check"></i><b>16.7.6</b> Diputadas</a></li>
<li class="chapter" data-level="16.7.7" data-path="qta.html"><a href="qta.html#agenda-mujer-por-semana"><i class="fa fa-check"></i><b>16.7.7</b> agenda mujer por semana</a></li>
<li class="chapter" data-level="16.7.8" data-path="qta.html"><a href="qta.html#hashtags-interesantes-por-semana"><i class="fa fa-check"></i><b>16.7.8</b> hashtags interesantes por semana:</a></li>
<li class="chapter" data-level="16.7.9" data-path="qta.html"><a href="qta.html#grafiquemos-los-hashtags-interesantes-por-semana"><i class="fa fa-check"></i><b>16.7.9</b> Grafiquemos los hashtags interesantes por semana:</a></li>
<li class="chapter" data-level="16.7.10" data-path="qta.html"><a href="qta.html#agenda-hombre-por-semana"><i class="fa fa-check"></i><b>16.7.10</b> agenda hombre por semana</a></li>
<li class="chapter" data-level="16.7.11" data-path="qta.html"><a href="qta.html#hashtags-interesantes-por-semana-1"><i class="fa fa-check"></i><b>16.7.11</b> hashtags interesantes por semana:</a></li>
<li class="chapter" data-level="16.7.12" data-path="qta.html"><a href="qta.html#grafiquemos-los-hashtags-interesantes-por-semana-1"><i class="fa fa-check"></i><b>16.7.12</b> Grafiquemos los hashtags interesantes por semana:</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="qta.html"><a href="qta.html#hashtags-de-genero-por-semana-a-nivel-de-diputados-ponderados-por-semana"><i class="fa fa-check"></i><b>16.8</b> Hashtags de género por semana a nivel de diputados (ponderados por semana)</a></li>
<li class="chapter" data-level="16.9" data-path="qta.html"><a href="qta.html#comentarios-finales"><i class="fa fa-check"></i><b>16.9</b> Comentarios finales</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i><b>17</b> Generación de mapas</a><ul>
<li class="chapter" data-level="17.1" data-path="mapas.html"><a href="mapas.html#datos-espaciales"><i class="fa fa-check"></i><b>17.1</b> Datos Espaciales</a><ul>
<li class="chapter" data-level="17.1.1" data-path="mapas.html"><a href="mapas.html#que-son"><i class="fa fa-check"></i><b>17.1.1</b> ¿Qué son?</a></li>
<li class="chapter" data-level="17.1.2" data-path="mapas.html"><a href="mapas.html#estructura-de-los-datos-espaciales"><i class="fa fa-check"></i><b>17.1.2</b> Estructura de los Datos Espaciales</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="mapas.html"><a href="mapas.html#datos-espaciales-en-r"><i class="fa fa-check"></i><b>17.2</b> Datos Espaciales en R</a></li>
<li class="chapter" data-level="17.3" data-path="mapas.html"><a href="mapas.html#special-features-en-r"><i class="fa fa-check"></i><b>17.3</b> Special Features en R</a><ul>
<li class="chapter" data-level="17.3.1" data-path="mapas.html"><a href="mapas.html#estructura"><i class="fa fa-check"></i><b>17.3.1</b> Estructura</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="mapas.html"><a href="mapas.html#manejo-de-datos-espaciales"><i class="fa fa-check"></i><b>17.4</b> Manejo de Datos Espaciales</a><ul>
<li class="chapter" data-level="17.4.1" data-path="mapas.html"><a href="mapas.html#modificaciones"><i class="fa fa-check"></i><b>17.4.1</b> Modificaciones</a></li>
<li class="chapter" data-level="17.4.2" data-path="mapas.html"><a href="mapas.html#crear-nuevos-shapefiles-con-st_write"><i class="fa fa-check"></i><b>17.4.2</b> .4 Crear nuevos shapefiles con <code>st_write</code></a></li>
<li class="chapter" data-level="17.4.3" data-path="mapas.html"><a href="mapas.html#incorporar-datos-de-otras-bases-con-merge"><i class="fa fa-check"></i><b>17.4.3</b> Incorporar datos de otras bases con <code>merge</code></a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="mapas.html"><a href="mapas.html#mapear-en-r"><i class="fa fa-check"></i><b>17.5</b> Mapear en R</a></li>
<li class="chapter" data-level="17.6" data-path="mapas.html"><a href="mapas.html#mapeando-variables"><i class="fa fa-check"></i><b>17.6</b> Mapeando variables</a><ul>
<li class="chapter" data-level="17.6.1" data-path="mapas.html"><a href="mapas.html#mapas-animados-con-gganimate"><i class="fa fa-check"></i><b>17.6.1</b> Mapas animados con gganimate</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="mapas.html"><a href="mapas.html#inferencia-a-partir-de-datos-espaciales"><i class="fa fa-check"></i><b>17.7</b> Inferencia a partir de Datos Espaciales</a><ul>
<li class="chapter" data-level="17.7.1" data-path="mapas.html"><a href="mapas.html#indicadores-locales-de-asociacion-espacial-lisa"><i class="fa fa-check"></i><b>17.7.1</b> Indicadores locales de asociación espacial (LISA)</a></li>
<li class="chapter" data-level="17.7.2" data-path="mapas.html"><a href="mapas.html#matriz-de-pesos-espaciales"><i class="fa fa-check"></i><b>17.7.2</b> Matriz de Pesos Espaciales</a></li>
<li class="chapter" data-level="17.7.3" data-path="mapas.html"><a href="mapas.html#morans-i"><i class="fa fa-check"></i><b>17.7.3</b> Moran’s I</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="creditos.html"><a href="creditos.html"><i class="fa fa-check"></i>Créditos</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AnalizaR datos políticos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="creacion-de-indices-con-analisis-de-componentes-principales-pca" class="section level1">
<h1><span class="header-section-number">Capítulo 13</span> Creación de índices con Análisis de Componentes Principales (PCA)</h1>
<hr />
<p><strong>Lecturas de referencia</strong></p>
<p>-Oxford Handbook, Caps.6 y 7 - Measurement y Typologies: Forming Concepts and Creating Categorical Variables.
-Abeyasekera, S. (2005). “Multivariate Methods for Index Construction.” In
Household Sample Surveys and Transition Countries.367-387. New York City: DESA/UNSD.
- Miller Cap. 15. Speaking about Multivariate Analyses.</p>
<hr />
<div id="conceptos-importantes" class="section level2">
<h2><span class="header-section-number">13.1</span> Conceptos importantes</h2>
<p>En cualquier ciencia social y sobre todo en la ciencia política. siempre debemos estar trabajando con conceptos complejos, que muchas veces son difíciles de medir. “Democracia” o “capacidad estatal” son conceptos con los que podemos trabajar siempre como cientistas políticos, pero muchas veces el poder construirlos conceptualmente es un poco complejo, ya que estos conceptos, en si mismos, son complejos.
Cuando construimos algún concepto, además de conocer su complejidad, queremos que además sea válido. La validez de constructo es precisamente que el concepto mida lo que dice medir y en disciplinas como la ciencia política siempre debe estar cuestionada, precisamente por lo que anteriormente decíamos de la complejidad de los conceptos con los que trabajamos.<br />
Hay dos formas de generar seguridad respecto a este tipo de validez. La primera es por validez convergente, es decir, la correlación que mi medida tiene con medidas de otros y la segunda, por validez discriminativa, que reconoce que un concepto puede ser multifacético y por ende, puede que distintas variables focalicen su atención en distintos componentes o factores de este concepto.
De ahí la importancia entonces de saber cómo generar índices, ya que con una gran cantidad de variables podemos generar una que represente algún concepto que sea complejo. El análisis de componentes principales (PCA en inglés) es una técnica muy útil a la hora de generar una combinación de distintas variables. Consiste literalmente en entregar distintos puntos de vista de un mismo evento denotado por los datos. Principalmente, entrega distintos componentes conformados por una combinación lineal de las variables elegidas, que pueden ser unidos para generar una nueva variable. Un ejemplo práctico representa bien su utilidad.</p>
</div>
<div id="aplicacion-en-r" class="section level2">
<h2><span class="header-section-number">13.2</span> Aplicación en R</h2>
<p>El PCA es una herramienta muy útil cuando quieres representar un concepto que sea un agregado de distintas variables que tenemos a disposición. Principalmente, esto pasa cuando tenemos un concepto complejo que no podemos aproximar con sólo una variable, o una variable latente que en un conjunto de datos se podría reflejar muy bien, pero que cada uno por separado no logra representar.
Un ejemplo clave de un concepto complejo de medir es la democracia. Existen distintos conceptos y distintas formas de clasificar las democracias, desde una visión mas minimalista asociada a la existencia o no de votaciones a una visión mas liberal asociada a la existencia de instituciones formales (sistema de partidos, libertad de prensa y de asociación entre otras cosas). Para esta última forma de conceptualizar la democracia (la mas utilizada en estos días realmente) parece inconcebible medir la democracia con la mera existencia de votaciones en el país.
Existen hoy en día distintas mediciones de democracia a nivel internacional, tales como Polity IV o Freedom House, pero ¿qué pasa si queremos saber qué es lo que opinan los ciudadanos que votan en las democracias, sobre estas instituciones liberales que respaldan este sistema político? En países como los sudamericanos, parece aún mas importante considerar la opinión existente sobre las instituciones de sus propios países, que aunque sean democráticos, tienen algún pasado de dictadura e incluso hoy en día, votan por presidentes de extrema derecha, empoderando discursos bastante poco liberales.
¿Cómo poder saber cuál es la opinión pública de los países latinoamericanos respecto a las instituciones democráticas de sus países? El Proyecto de Opinión Pública de América Latina (LAPOP en inglés) –especializado en conducir estudios de evaluación de impacto, y producir reportes acerca de las actitudes, evaluaciones y experiencias de los individuos de países latinoamericanos (LAPOP 2018)- tienen distintas preguntas que en su conjunto, podrían aproximarse un poco a caracterizar que tanta confianza hay sobre las instituciones democráticas del país correspondiente a cada individuo. Aquí es donde el PCA es útil.
La aplicación de esta herramienta en R responde a una serie de pasos que en su conjunto, son capaces de generar un índice que caracterice a cada uno de los individuos desde aquellos que sean mas propensos a tener confianza en las instituciones formales democráticas y aquellos que no. Partiremos cargando una base con las preguntas</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">datos_lapop &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;00-datos/datos_lapop_pca.csv&quot;</span>) </a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">datos_pca_lapop &lt;-<span class="st"> </span>datos_lapop <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="st">  </span><span class="kw">select</span>(del, pdte, trib, inst, confcon, confpdte,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">         confpp, confmedia, confelec, satdem, dervoto, derman) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="st">  </span><span class="kw">mutate_all</span>(as.numeric)</a></code></pre></div>
<p>Esta data contiene 12 preguntas de la encuesta de LAPOP, realizadas a una selección de cerca de 7000 personas en 10 países latinoamericanos.
Es importante como primer paso, seleccionar las variables que nos servirán para realizar el PCA, dejando de lado todo aquello que no queramos congregar en el índice final. Para esto, generamos una nueva base que contenga sólo las variables que queramos ocupar, en este caso, para conocer cual es la opinión sobre las instituciones democráticas que tienen los latinoamericanos. Para poder seleccionar las variables y utilizar los pipes utilizaremos <code>tidyverse</code>.</p>
<p>Este paso previo, aunque en este capítulo no lo desarrollamos tanto, es el más importante a la hora de generar un PCA que realmente nos arroje algo interesante. Es importante buscar cual es el concepto o variable latente que queremos medir (en este caso, la opinión sobre las instituciones democráticas) y cómo medirla, seleccionando las variables que realmente necesitemos a la hora de construir nuestro índice. Si agregamos variables que no se condicen realmente con aquello que queremos medir, el PCA como herramienta nos arrojará un resultado que no servirá de mucho.</p>
<p>Ya teniendo seleccionadas las variables, el siguiente paso es observar la correlación entre ellas. Lo importante aquí es que las variables seleccionadas tengan una correlación baja entre ellas. Esto sirve también para poder elegir las variables a utilizar, ya que si existe el caso en que tengamos dos variables con alta correlación entre ellas, puede utilizarse sólo una de ellas en vez de las dos. Existen dos formas poder visualizar la correlación. Ambas denotan si existe correlación positiva o negativa entre las variable y el grado de correlación que tienen, pero la segunda entrega una gráfica de correlación que es mas cómoda a la vista. Para esta forma utilizaremos el paquete <code>GGally</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">cor</span>(<span class="kw">na.omit</span>(datos_pca_lapop))</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">##               del    pdte   trib   inst confcon confpdte confpp confmedia</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">##           confelec  satdem  dervoto  derman</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">##  [ reached getOption(&quot;max.print&quot;) -- omitted 12 rows ]</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(GGally)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">ggcorr</span>(datos_pca_lapop, <span class="dt">label =</span> T)</a></code></pre></div>
<p><img src="adp-bookdown_files/figure-html/unnamed-chunk-11-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>Ya con lo anterior, podemos generar un PCA con el paquete <code>FactoMineR</code> de la siguiente forma:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(FactoMineR)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">pca_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">PCA</span>(datos_pca_lapop, <span class="dt">graph =</span> F)</a></code></pre></div>
<p>El PCA nos entrega las dimensiones que contienen en en distintas medidas, todas las variables que deseamos agregar. Además, entrega la misma cantidad de dimensiones que las variables que ocupamos, por lo que en este caso tenemos 12 dimensiones. Cada dimensión tiene su valor propio o eigen value y la varianza porcentual, ambos valores que podemos encontrar con el paquete<code>factoextra</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(factoextra)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">get_eig</span>(pca_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">##        eigenvalue variance.percent cumulative.variance.percent</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">## Dim.1        3.44             28.7                          29</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">## Dim.2        1.48             12.3                          41</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">##  [ reached getOption(&quot;max.print&quot;) -- omitted 10 rows ]</span></a></code></pre></div>
<p>De forma mas gráfica, podemos tambien ver cuales son los eigen values de cada componente o dimensión. Para poder construir el índice, lo importante es elegir los componentes que tengan un eigen value &gt; 1. En este caso, elegiremos los tres primerios componentes.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">fviz_eig</span>(pca_<span class="dv">1</span>, <span class="dt">choice =</span> <span class="st">&quot;eigenvalue&quot;</span>, <span class="dt">addlabels =</span> T)</a></code></pre></div>
<p><img src="adp-bookdown_files/figure-html/unnamed-chunk-14-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>¿Qué pasa si queremos ver en que medida está compuesta cada dimensión por las variables?Podemos generar un gráfico que nos diga la composición en porcentaje de cada variable, como en el ejemplo:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">fviz_contrib</span>(pca_<span class="dv">1</span>, <span class="dt">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="dt">axes =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">fviz_contrib</span>(pca_<span class="dv">1</span>, <span class="dt">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="dt">axes =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw">fviz_contrib</span>(pca_<span class="dv">1</span>, <span class="dt">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="dt">axes =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="adp-bookdown_files/figure-html/unnamed-chunk-15-1.png" width="480" style="display: block; margin: auto;" /><img src="adp-bookdown_files/figure-html/unnamed-chunk-15-2.png" width="480" style="display: block; margin: auto;" /><img src="adp-bookdown_files/figure-html/unnamed-chunk-15-3.png" width="480" style="display: block; margin: auto;" /></p>
<p>Para poder condensar los componentes elegidos en una sola variable, es necesario sumar los productos entre los eigen values y la varianza porcentual que cada dimensión elegida y dividirlo por la varianza porcentual acumulada (que obtuvimos antes con <code>factoextra:get_eig</code>) de la siguiente forma:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">datos_pca_final &lt;-<span class="st"> </span>pca_<span class="dv">1</span><span class="op">$</span>ind<span class="op">$</span>coord<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">as_tibble</span>()<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pca_01 =</span> (Dim<span class="fl">.1</span> <span class="op">*</span><span class="st"> </span><span class="fl">28.692289</span> <span class="op">+</span><span class="st"> </span>Dim<span class="fl">.2</span> <span class="op">*</span><span class="st"> </span><span class="fl">12.329336</span> <span class="op">+</span><span class="st"> </span>Dim<span class="fl">.3</span> <span class="op">*</span><span class="st"> </span><span class="fl">10.290312</span>)  <span class="op">/</span><span class="fl">51.31194</span>)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">datos_lapop &lt;-<span class="st"> </span>datos_lapop <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">  </span><span class="kw">bind_cols</span>(datos_pca_final <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(pca_<span class="dv">01</span>))</a></code></pre></div>
<p>Igualmente, el resultado que entrega el PCA no se encuentra en ninguna escala usual, por lo que utilizaremos una función para reescalar de 0 a 1 el resultado del PCA. Así, podemos agregarla a la base inicial.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">rescale01 &lt;-<span class="st"> </span><span class="cf">function</span>(x) { rng &lt;-<span class="st"> </span><span class="kw">range</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">(x <span class="op">-</span><span class="st"> </span>rng[<span class="dv">1</span>]) <span class="op">/</span><span class="st"> </span>(rng[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>rng[<span class="dv">1</span>])}</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">datos_lapop &lt;-<span class="st"> </span>datos_lapop <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">index_1 =</span> <span class="kw">rescale01</span>(pca_<span class="dv">01</span>))<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">  </span><span class="kw">select</span>(index_<span class="dv">1</span>, <span class="kw">everything</span>())</a></code></pre></div>
<p>Asi, encontramos una forma de condensar distintas variables en una y poder saber cual es la opinión que en general tienen los latinoamericanos de las instituciones democráticas y su funcionamiento. Esto nos permite comparar entre cada individuo su opinión, o incluir este valor en algún modelo ya que nos entrega un variable contínua que ya está reescalada.
Por ejemplo, podemos sacar el promedio por país, para hacer una comparación inicial de cada país, del tipo:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">datos_pais &lt;-<span class="st"> </span>datos_lapop <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(paisnom) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">prompais =</span> <span class="kw">mean</span>(index_<span class="dv">1</span>))<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(prompais)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5"></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">datos_pais</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">## # A tibble: 10 x 2</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">##    paisnom   prompais</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">##    &lt;chr&gt;        &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">##  1 Colombia     0.399</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">##  2 Brasil       0.400</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">##  3 Chile        0.434</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">##  4 Peru         0.435</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">##  5 Paraguay     0.443</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">##  6 Argentina    0.462</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">##  7 Venezuela    0.467</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">##  8 Bolivia      0.479</span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co">##  9 Ecuador      0.511</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19"><span class="co">## 10 Uruguay      0.555</span></a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pca.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="web-mining.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["adp-bookdown.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
