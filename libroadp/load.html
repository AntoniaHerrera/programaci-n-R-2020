<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 4 Carga de bases | AnalizaR Datos Políticos (v1.0)</title>
  <meta name="description" content="Capítulo 4 Carga de bases | AnalizaR Datos Políticos (v1.0)" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 4 Carga de bases | AnalizaR Datos Políticos (v1.0)" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 4 Carga de bases | AnalizaR Datos Políticos (v1.0)" />
  
  
  

<meta name="author" content="Francisco Urdinez y Andrés Cruz Labrín (editores)" />


<meta name="date" content="2020-08-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="dataviz.html"/>
<link rel="next" href="linear.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script>
% https://stackoverflow.com/a/4425214/8242291
var links = document.links;

for (var i = 0, linksLength = links.length; i < linksLength; i++) {

    if (links[i].hostname != window.location.hostname) {
        links[i].target = '_blank';
    }

}
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><b><a href="./index.html"><img style="float: left; margin-right: 5px;" src="favicon.ico"></img>AnalizaR datos políticos</a></b></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#inicio"><i class="fa fa-check"></i>Inicio</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cómo-contribuir"><i class="fa fa-check"></i>¿Cómo contribuir?</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-los-autores-y-autoras"><i class="fa fa-check"></i>Sobre los autores y autoras</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prefacio"><i class="fa fa-check"></i>Prefacio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimientos"><i class="fa fa-check"></i>Agradecimientos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#qué-esperar-del-libro"><i class="fa fa-check"></i>Qué esperar del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura-del-libro"><i class="fa fa-check"></i>Estructura del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cómo-utilizar-el-libro-en-un-curso-de-métodos"><i class="fa fa-check"></i>¿Cómo utilizar el libro en un curso de métodos?</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#primera-opción-curso-semestral-de-análisis-de-datos-políticos"><i class="fa fa-check"></i>Primera opción: Curso semestral de análisis de datos políticos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#segunda-opción-curso-semestral-de-introducción-a-métodos-cuantitativos"><i class="fa fa-check"></i>Segunda opción: Curso semestral de introducción a métodos cuantitativos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerrequisitos"><i class="fa fa-check"></i>Prerrequisitos</a></li>
</ul></li>
<li class="part"><span><b>I Introducción a R</b></span></li>
<li class="chapter" data-level="1" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>1</b> R Básico</a><ul>
<li class="chapter" data-level="1.1" data-path="basic-r.html"><a href="basic-r.html#instalación"><i class="fa fa-check"></i><b>1.1</b> Instalación</a><ul>
<li class="chapter" data-level="" data-path="basic-r.html"><a href="basic-r.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="basic-r.html"><a href="basic-r.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basic-r.html"><a href="basic-r.html#consola"><i class="fa fa-check"></i><b>1.2</b> Consola</a></li>
<li class="chapter" data-level="1.3" data-path="basic-r.html"><a href="basic-r.html#script"><i class="fa fa-check"></i><b>1.3</b> Script</a></li>
<li class="chapter" data-level="1.4" data-path="basic-r.html"><a href="basic-r.html#objetos-y-funciones"><i class="fa fa-check"></i><b>1.4</b> Objetos (y funciones)</a><ul>
<li class="chapter" data-level="1.4.1" data-path="basic-r.html"><a href="basic-r.html#vectores"><i class="fa fa-check"></i><b>1.4.1</b> Vectores</a></li>
<li class="chapter" data-level="1.4.2" data-path="basic-r.html"><a href="basic-r.html#basic-r-functions"><i class="fa fa-check"></i><b>1.4.2</b> Functions</a></li>
<li class="chapter" data-level="1.4.3" data-path="basic-r.html"><a href="basic-r.html#archivos-gráficos-paquetes-ayuda"><i class="fa fa-check"></i><b>1.4.3</b> Archivos / gráficos / paquetes / ayuda</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Manejo de datos</a><ul>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#los-paquetes-que-necesitas-instalar"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#introducción-al-manejo-de-datos"><i class="fa fa-check"></i><b>2.1</b> Introducción al manejo de datos</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data.html"><a href="data.html#nuestra-base-de-datos"><i class="fa fa-check"></i><b>2.1.1</b> Nuestra base de datos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#describiendo-una-base-de-datos"><i class="fa fa-check"></i><b>2.2</b> Describiendo una base de datos</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#operaciones-básicas"><i class="fa fa-check"></i><b>2.3</b> Operaciones básicas</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data.html"><a href="data.html#seleccionar-columnas"><i class="fa fa-check"></i><b>2.3.1</b> Seleccionar columnas</a></li>
<li class="chapter" data-level="2.3.2" data-path="data.html"><a href="data.html#renombra-las-columnas"><i class="fa fa-check"></i><b>2.3.2</b> Renombra las columnas</a></li>
<li class="chapter" data-level="2.3.3" data-path="data.html"><a href="data.html#filtrar-las-observaciones"><i class="fa fa-check"></i><b>2.3.3</b> Filtrar las observaciones</a></li>
<li class="chapter" data-level="2.3.4" data-path="data.html"><a href="data.html#cambiar-el-orden-de-una-base-de-datos"><i class="fa fa-check"></i><b>2.3.4</b> Cambiar el orden de una base de datos</a></li>
<li class="chapter" data-level="2.3.5" data-path="data.html"><a href="data.html#transformar-y-crear-variables"><i class="fa fa-check"></i><b>2.3.5</b> Transformar y crear variables</a></li>
<li class="chapter" data-level="2.3.6" data-path="data.html"><a href="data.html#resúmenes"><i class="fa fa-check"></i><b>2.3.6</b> Resúmenes</a></li>
<li class="chapter" data-level="2.3.7" data-path="data.html"><a href="data.html#resúmenes-por-grupo"><i class="fa fa-check"></i><b>2.3.7</b> Resúmenes por grupo</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data.html"><a href="data.html#comandos-en-cadena"><i class="fa fa-check"></i><b>2.4</b> Comandos en cadena</a></li>
<li class="chapter" data-level="2.5" data-path="data.html"><a href="data.html#data-recodificar"><i class="fa fa-check"></i><b>2.5</b> Recodificar valores</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data.html"><a href="data.html#pivoteo-de-datos-data-pivot"><i class="fa fa-check"></i><b>2.5.1</b> Pivoteo de datos {data-pivot}</a></li>
<li class="chapter" data-level="2.5.2" data-path="data.html"><a href="data.html#bases-de-datos-anchas-con-más-de-una-variable-de-interés"><i class="fa fa-check"></i><b>2.5.2</b> Bases de datos anchas con más de una variable de interés</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualización de datos</a><ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#lecturas-sugeridas"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#los-paquetes-que-necesitas-instalar-1"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#por-qué-visualizar-mis-datos"><i class="fa fa-check"></i><b>3.1</b> ¿Por qué visualizar mis datos?</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#primeros-pasos"><i class="fa fa-check"></i><b>3.2</b> Primeros pasos</a><ul>
<li class="chapter" data-level="3.2.1" data-path="dataviz.html"><a href="dataviz.html#las-capas-del-universo-ggplotiano"><i class="fa fa-check"></i><b>3.2.1</b> Las capas del “universo ggplotiano”</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#ejemplo-aplicado-elecciones-locales-y-visualización-de-datos"><i class="fa fa-check"></i><b>3.3</b> Ejemplo aplicado: Elecciones locales y visualización de datos</a><ul>
<li class="chapter" data-level="3.3.1" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-barras"><i class="fa fa-check"></i><b>3.3.1</b> Gráfico de barras</a></li>
<li class="chapter" data-level="3.3.2" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-caja"><i class="fa fa-check"></i><b>3.3.2</b> Gráfico de caja</a></li>
<li class="chapter" data-level="3.3.3" data-path="dataviz.html"><a href="dataviz.html#histograma"><i class="fa fa-check"></i><b>3.3.3</b> Histograma</a></li>
<li class="chapter" data-level="3.3.4" data-path="dataviz.html"><a href="dataviz.html#relación-entre-las-variables"><i class="fa fa-check"></i><b>3.3.4</b> Relación entre las variables</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#para-continuar-aprendiendo"><i class="fa fa-check"></i><b>3.4</b> Para continuar aprendiendo</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="load.html"><a href="load.html"><i class="fa fa-check"></i><b>4</b> Carga de bases</a><ul>
<li class="chapter" data-level="" data-path="load.html"><a href="load.html#los-paquetes-que-necesitas-instalar-2"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="4.1" data-path="load.html"><a href="load.html#load-intro"><i class="fa fa-check"></i><b>4.1</b> Introducción</a></li>
<li class="chapter" data-level="4.2" data-path="load.html"><a href="load.html#carga-formatos"><i class="fa fa-check"></i><b>4.2</b> Diferentes formatos de bases de datos</a></li>
<li class="chapter" data-level="4.3" data-path="load.html"><a href="load.html#los-archivos-separados-por-delimitadores-.csv-y-.tsv"><i class="fa fa-check"></i><b>4.3</b> Los archivos separados por delimitadores (.csv y .tsv)</a><ul>
<li class="chapter" data-level="4.3.1" data-path="load.html"><a href="load.html#r-básico-utils"><i class="fa fa-check"></i><b>4.3.1</b> R básico: <code>utils</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="load.html"><a href="load.html#load-r"><i class="fa fa-check"></i><b>4.3.2</b> Archivos creados con R (.Rdata y .rds)</a></li>
<li class="chapter" data-level="4.3.3" data-path="load.html"><a href="load.html#load-labels"><i class="fa fa-check"></i><b>4.3.3</b> Bases de datos con etiquetas (de Stata or SPSS)</a></li>
<li class="chapter" data-level="4.3.4" data-path="load.html"><a href="load.html#load-excel"><i class="fa fa-check"></i><b>4.3.4</b> Archivos de Excel</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="load.html"><a href="load.html#load-large"><i class="fa fa-check"></i><b>4.4</b> Grandes bases de datos tabulares</a></li>
</ul></li>
<li class="part"><span><b>II Modelos</b></span></li>
<li class="chapter" data-level="5" data-path="linear.html"><a href="linear.html"><i class="fa fa-check"></i><b>5</b> Modelos lineales</a><ul>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#lecturas-sugeridas-1"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#los-paquetes-que-necesitas-instalar-3"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#introducción-1"><i class="fa fa-check"></i>Introducción</a></li>
<li class="chapter" data-level="5.1" data-path="linear.html"><a href="linear.html#mínimos-cuadrados-ordinarios-en-r"><i class="fa fa-check"></i><b>5.1</b> Mínimos cuadrados ordinarios en R</a><ul>
<li class="chapter" data-level="5.1.1" data-path="linear.html"><a href="linear.html#cómo-obtener-estadísticas-descriptivas"><i class="fa fa-check"></i><b>5.1.1</b> Cómo obtener estadísticas descriptivas</a></li>
<li class="chapter" data-level="5.1.2" data-path="linear.html"><a href="linear.html#estadísticas-descriptivas-y-distribución-de-las-variables-en-el-modelo"><i class="fa fa-check"></i><b>5.1.2</b> Estadísticas descriptivas y distribución de las variables en el modelo</a></li>
<li class="chapter" data-level="5.1.3" data-path="linear.html"><a href="linear.html#matriz-de-correlación-de-variables-independientes"><i class="fa fa-check"></i><b>5.1.3</b> Matriz de correlación de variables independientes</a></li>
<li class="chapter" data-level="5.1.4" data-path="linear.html"><a href="linear.html#distribución-de-las-variables-de-interés"><i class="fa fa-check"></i><b>5.1.4</b> Distribución de las variables de interés</a></li>
<li class="chapter" data-level="5.1.5" data-path="linear.html"><a href="linear.html#relación-entre-la-variable-dependiente-e-independiente"><i class="fa fa-check"></i><b>5.1.5</b> Relación entre la variable dependiente e independiente</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="linear.html"><a href="linear.html#modelo-bivariado-regresión-lineal-simple"><i class="fa fa-check"></i><b>5.2</b> Modelo bivariado: regresión lineal simple</a><ul>
<li class="chapter" data-level="5.2.1" data-path="linear.html"><a href="linear.html#la-función-lm"><i class="fa fa-check"></i><b>5.2.1</b> La función <code>lm</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="linear.html"><a href="linear.html#representación-gráfica"><i class="fa fa-check"></i><b>5.2.2</b> Representación gráfica</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="linear.html"><a href="linear.html#modelo-multivariado-regresión-múltiple"><i class="fa fa-check"></i><b>5.3</b> Modelo multivariado: regresión múltiple</a></li>
<li class="chapter" data-level="5.4" data-path="linear.html"><a href="linear.html#ajuste-del-modelo"><i class="fa fa-check"></i><b>5.4</b> Ajuste del modelo</a></li>
<li class="chapter" data-level="5.5" data-path="linear.html"><a href="linear.html#inferencia-en-los-modelos-lineales-múltiples"><i class="fa fa-check"></i><b>5.5</b> Inferencia en los modelos lineales múltiples</a></li>
<li class="chapter" data-level="5.6" data-path="linear.html"><a href="linear.html#testeando-los-supuestos-de-mco"><i class="fa fa-check"></i><b>5.6</b> Testeando los supuestos de MCO</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="case-sel.html"><a href="case-sel.html"><i class="fa fa-check"></i><b>6</b> Selección de casos basada en regresiones</a><ul>
<li class="chapter" data-level="" data-path="case-sel.html"><a href="case-sel.html#lecturas-sugeridas-2"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="case-sel.html"><a href="case-sel.html#los-paquetes-que-necesitas-instalar-4"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="6.1" data-path="case-sel.html"><a href="case-sel.html#selección-de-estudios-de-casos"><i class="fa fa-check"></i><b>6.1</b> Selección de estudios de casos</a></li>
<li class="chapter" data-level="6.2" data-path="case-sel.html"><a href="case-sel.html#qué-estudio-de-caso-debería-seleccionar-para-la-investigación-cualitativa"><i class="fa fa-check"></i><b>6.2</b> ¿Qué estudio de caso debería seleccionar para la investigación cualitativa?</a><ul>
<li class="chapter" data-level="6.2.1" data-path="case-sel.html"><a href="case-sel.html#casos-típicos"><i class="fa fa-check"></i><b>6.2.1</b> Casos típicos</a></li>
<li class="chapter" data-level="6.2.2" data-path="case-sel.html"><a href="case-sel.html#los-valores-atípicos"><i class="fa fa-check"></i><b>6.2.2</b> Los valores atípicos</a></li>
<li class="chapter" data-level="6.2.3" data-path="case-sel.html"><a href="case-sel.html#casos-influyentes"><i class="fa fa-check"></i><b>6.2.3</b> Casos influyentes</a></li>
<li class="chapter" data-level="6.2.4" data-path="case-sel.html"><a href="case-sel.html#casos-extremos"><i class="fa fa-check"></i><b>6.2.4</b> Casos extremos</a></li>
<li class="chapter" data-level="6.2.5" data-path="case-sel.html"><a href="case-sel.html#casos-más-similares"><i class="fa fa-check"></i><b>6.2.5</b> Casos más similares</a></li>
<li class="chapter" data-level="6.2.6" data-path="case-sel.html"><a href="case-sel.html#casos-mas-diferentes"><i class="fa fa-check"></i><b>6.2.6</b> Casos mas diferentes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="case-sel.html"><a href="case-sel.html#la-importancia-de-la-combinación-de-métodos"><i class="fa fa-check"></i><b>6.3</b> La importancia de la combinación de métodos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="panel.html"><a href="panel.html"><i class="fa fa-check"></i><b>7</b> Modelos de panel</a><ul>
<li class="chapter" data-level="" data-path="panel.html"><a href="panel.html#lecturas-sugeridas-3"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="panel.html"><a href="panel.html#los-paquetes-que-necesitas-instalar-5"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="7.1" data-path="panel.html"><a href="panel.html#introducción-2"><i class="fa fa-check"></i><b>7.1</b> Introducción</a></li>
<li class="chapter" data-level="7.2" data-path="panel.html"><a href="panel.html#describiendo-la-base-de-datos-en-panel"><i class="fa fa-check"></i><b>7.2</b> Describiendo la base de datos en panel</a><ul>
<li class="chapter" data-level="7.2.1" data-path="panel.html"><a href="panel.html#opción-a.-gráfico-de-líneas"><i class="fa fa-check"></i><b>7.2.1</b> Opción A. Gráfico de líneas</a></li>
<li class="chapter" data-level="7.2.2" data-path="panel.html"><a href="panel.html#option-b.-gráfico-de-cajas"><i class="fa fa-check"></i><b>7.2.2</b> Option B. Gráfico de cajas</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="panel.html"><a href="panel.html#modelización-de-la-variación-a-nivel-de-grupo"><i class="fa fa-check"></i><b>7.3</b> Modelización de la variación a nivel de grupo</a></li>
<li class="chapter" data-level="7.4" data-path="panel.html"><a href="panel.html#efectos-fijos-vs.-efectos-aleatorios"><i class="fa fa-check"></i><b>7.4</b> Efectos fijos vs. efectos aleatorios</a><ul>
<li class="chapter" data-level="7.4.1" data-path="panel.html"><a href="panel.html#test-de-hausman"><i class="fa fa-check"></i><b>7.4.1</b> Test de Hausman</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="panel.html"><a href="panel.html#testeando-raíces-unitarias"><i class="fa fa-check"></i><b>7.5</b> Testeando raíces unitarias</a><ul>
<li class="chapter" data-level="7.5.1" data-path="panel.html"><a href="panel.html#creación-de-variables-rezagadas-lags-y-variables-prospectivas-leads"><i class="fa fa-check"></i><b>7.5.1</b> Creación de variables rezagadas (<em>lags</em>) y variables prospectivas (<em>leads</em>)</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="panel.html"><a href="panel.html#errores-estándar-robustos-corregidos-para-panel"><i class="fa fa-check"></i><b>7.6</b> Errores estándar robustos corregidos para panel</a><ul>
<li class="chapter" data-level="7.6.1" data-path="panel.html"><a href="panel.html#errores-estándar-robustos-1"><i class="fa fa-check"></i><b>7.6.1</b> Errores estándar robustos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>8</b> Modelos logísticos</a><ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#lecturas-sugeridas-4"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#los-paquetes-que-necesitas-instalar-6"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="8.1" data-path="logit.html"><a href="logit.html#introducción-3"><i class="fa fa-check"></i><b>8.1</b> Introducción</a></li>
<li class="chapter" data-level="8.2" data-path="logit.html"><a href="logit.html#uso-de-los-modelos-logísticos"><i class="fa fa-check"></i><b>8.2</b> Uso de los modelos logísticos</a></li>
<li class="chapter" data-level="8.3" data-path="logit.html"><a href="logit.html#cómo-se-estiman-las-probabilidades"><i class="fa fa-check"></i><b>8.3</b> ¿Cómo se estiman las probabilidades?</a></li>
<li class="chapter" data-level="8.4" data-path="logit.html"><a href="logit.html#estimación-de-los-modelos"><i class="fa fa-check"></i><b>8.4</b> Estimación de los modelos</a></li>
<li class="chapter" data-level="8.5" data-path="logit.html"><a href="logit.html#creando-tablas"><i class="fa fa-check"></i><b>8.5</b> Creando tablas</a></li>
<li class="chapter" data-level="8.6" data-path="logit.html"><a href="logit.html#representación-visual-de-los-resultados"><i class="fa fa-check"></i><b>8.6</b> Representación visual de los resultados</a><ul>
<li class="chapter" data-level="8.6.1" data-path="logit.html"><a href="logit.html#visualización-de-las-interacciones-entre-las-variables"><i class="fa fa-check"></i><b>8.6.1</b> Visualización de las interacciones entre las variables</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="logit.html"><a href="logit.html#medidas-para-evaluar-el-ajuste-de-los-modelos"><i class="fa fa-check"></i><b>8.7</b> Medidas para evaluar el ajuste de los modelos</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="surv.html"><a href="surv.html"><i class="fa fa-check"></i><b>9</b> Modelos de supervivencia</a><ul>
<li class="chapter" data-level="" data-path="surv.html"><a href="surv.html#lecturas-sugeridas-5"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="surv.html"><a href="surv.html#los-paquetes-que-necesitas-instalar-7"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="9.1" data-path="surv.html"><a href="surv.html#introducción-4"><i class="fa fa-check"></i><b>9.1</b> Introducción</a></li>
<li class="chapter" data-level="9.2" data-path="surv.html"><a href="surv.html#cómo-interpretamos-las-tasas-de-riesgo"><i class="fa fa-check"></i><b>9.2</b> ¿Cómo interpretamos las tasas de riesgo?</a></li>
<li class="chapter" data-level="9.3" data-path="surv.html"><a href="surv.html#el-modelo-cox-de-riesgos-proporcionales"><i class="fa fa-check"></i><b>9.3</b> El modelo Cox de riesgos proporcionales</a></li>
<li class="chapter" data-level="9.4" data-path="surv.html"><a href="surv.html#estimación-de-los-modelos-de-cox-en-r"><i class="fa fa-check"></i><b>9.4</b> Estimación de los modelos de Cox en R</a></li>
<li class="chapter" data-level="9.5" data-path="surv.html"><a href="surv.html#modelos-de-supervivencia-e-interpretación-sus-coeficientes-como-hazard-ratios."><i class="fa fa-check"></i><b>9.5</b> Modelos de supervivencia e interpretación sus coeficientes como Hazard Ratios.</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="causal-inf.html"><a href="causal-inf.html"><i class="fa fa-check"></i><b>10</b> Inferencia causal</a><ul>
<li class="chapter" data-level="" data-path="causal-inf.html"><a href="causal-inf.html#lecturas-sugeridas-6"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="causal-inf.html"><a href="causal-inf.html#los-paquetes-que-necesitas-instalar-8"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="10.1" data-path="causal-inf.html"><a href="causal-inf.html#introducción-5"><i class="fa fa-check"></i><b>10.1</b> Introducción</a></li>
<li class="chapter" data-level="10.2" data-path="causal-inf.html"><a href="causal-inf.html#causalidad-y-gráficos-causales"><i class="fa fa-check"></i><b>10.2</b> Causalidad y gráficos causales</a></li>
<li class="chapter" data-level="10.3" data-path="causal-inf.html"><a href="causal-inf.html#midiendo-efectos-causales"><i class="fa fa-check"></i><b>10.3</b> Midiendo efectos causales</a></li>
<li class="chapter" data-level="10.4" data-path="causal-inf.html"><a href="causal-inf.html#dags-y-asociaciones-estadísticas"><i class="fa fa-check"></i><b>10.4</b> DAGs y asociaciones estadísticas</a></li>
<li class="chapter" data-level="10.5" data-path="causal-inf.html"><a href="causal-inf.html#puertas-traseras-y-cálculos-hacer"><i class="fa fa-check"></i><b>10.5</b> Puertas traseras y cálculos “<em>hacer</em>”</a></li>
<li class="chapter" data-level="10.6" data-path="causal-inf.html"><a href="causal-inf.html#dibujar-y-analizar-dags"><i class="fa fa-check"></i><b>10.6</b> Dibujar y analizar DAGs</a><ul>
<li class="chapter" data-level="10.6.1" data-path="causal-inf.html"><a href="causal-inf.html#dibujar-un-dag-con-dagitty"><i class="fa fa-check"></i><b>10.6.1</b> Dibujar un DAG con DAGitty</a></li>
<li class="chapter" data-level="10.6.2" data-path="causal-inf.html"><a href="causal-inf.html#encontrar-sets-de-ajuste-con-dagitty"><i class="fa fa-check"></i><b>10.6.2</b> Encontrar sets de ajuste con DAGitty</a></li>
<li class="chapter" data-level="10.6.3" data-path="causal-inf.html"><a href="causal-inf.html#diseñar-dags-en-r"><i class="fa fa-check"></i><b>10.6.3</b> Diseñar DAGs en R</a></li>
<li class="chapter" data-level="10.6.4" data-path="causal-inf.html"><a href="causal-inf.html#encontrar-caminos-y-sets-de-ajustes-con-r"><i class="fa fa-check"></i><b>10.6.4</b> Encontrar caminos y sets de ajustes con R</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="causal-inf.html"><a href="causal-inf.html#haciendo-ajustes-causales"><i class="fa fa-check"></i><b>10.7</b> Haciendo ajustes causales</a><ul>
<li class="chapter" data-level="10.7.1" data-path="causal-inf.html"><a href="causal-inf.html#datos-de-redes-para-mosquitos"><i class="fa fa-check"></i><b>10.7.1</b> Datos de redes para mosquitos</a></li>
<li class="chapter" data-level="10.7.2" data-path="causal-inf.html"><a href="causal-inf.html#verificar-las-independencias-condicionales"><i class="fa fa-check"></i><b>10.7.2</b> Verificar las independencias condicionales</a></li>
<li class="chapter" data-level="10.7.3" data-path="causal-inf.html"><a href="causal-inf.html#encuentra-el-set-de-ajuste"><i class="fa fa-check"></i><b>10.7.3</b> Encuentra el set de ajuste</a></li>
<li class="chapter" data-level="10.7.4" data-path="causal-inf.html"><a href="causal-inf.html#estimación-ingenua-no-ajustada"><i class="fa fa-check"></i><b>10.7.4</b> Estimación ingenua no ajustada</a></li>
<li class="chapter" data-level="10.7.5" data-path="causal-inf.html"><a href="causal-inf.html#regresiones"><i class="fa fa-check"></i><b>10.7.5</b> Regresiones</a></li>
<li class="chapter" data-level="10.7.6" data-path="causal-inf.html"><a href="causal-inf.html#matching"><i class="fa fa-check"></i><b>10.7.6</b> Matching</a></li>
<li class="chapter" data-level="10.7.7" data-path="causal-inf.html"><a href="causal-inf.html#ponderación-de-probabilidad-inversa"><i class="fa fa-check"></i><b>10.7.7</b> Ponderación de probabilidad inversa</a></li>
<li class="chapter" data-level="10.7.8" data-path="causal-inf.html"><a href="causal-inf.html#comparando-todos-los-métodos"><i class="fa fa-check"></i><b>10.7.8</b> Comparando todos los métodos</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="causal-inf.html"><a href="causal-inf.html#cconsejos-finales"><i class="fa fa-check"></i><b>10.8</b> CConsejos finales</a></li>
</ul></li>
<li class="part"><span><b>III Aplicaciones</b></span></li>
<li class="chapter" data-level="11" data-path="adv-data.html"><a href="adv-data.html"><i class="fa fa-check"></i><b>11</b> Manejo avanzado de datos políticos</a><ul>
<li class="chapter" data-level="" data-path="adv-data.html"><a href="adv-data.html#lecturas-sugeridas-7"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="adv-data.html"><a href="adv-data.html#los-paquetes-que-necesitas-instalar-9"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="11.1" data-path="adv-data.html"><a href="adv-data.html#introducción-6"><i class="fa fa-check"></i><b>11.1</b> Introducción</a></li>
<li class="chapter" data-level="11.2" data-path="adv-data.html"><a href="adv-data.html#uniendo-bases-de-datos"><i class="fa fa-check"></i><b>11.2</b> Uniendo bases de datos</a></li>
<li class="chapter" data-level="11.3" data-path="adv-data.html"><a href="adv-data.html#estandarizando-los-códigos-de-país"><i class="fa fa-check"></i><b>11.3</b> Estandarizando los códigos de país</a></li>
<li class="chapter" data-level="11.4" data-path="adv-data.html"><a href="adv-data.html#la-unión-borrosa-o-inexacta-de-los-datos"><i class="fa fa-check"></i><b>11.4</b> La unión borrosa o inexacta de los datos</a></li>
<li class="chapter" data-level="11.5" data-path="adv-data.html"><a href="adv-data.html#gestión-de-valores-perdidos"><i class="fa fa-check"></i><b>11.5</b> Gestión de valores perdidos</a><ul>
<li class="chapter" data-level="11.5.1" data-path="adv-data.html"><a href="adv-data.html#tipos-de-valores-perdidos"><i class="fa fa-check"></i><b>11.5.1</b> Tipos de valores perdidos</a></li>
<li class="chapter" data-level="11.5.2" data-path="adv-data.html"><a href="adv-data.html#descripción-de-los-valores-que-faltan-en-la-base-de-datos"><i class="fa fa-check"></i><b>11.5.2</b> Descripción de los valores que faltan en la base de datos</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="adv-data.html"><a href="adv-data.html#imputación-de-valores-perdidos"><i class="fa fa-check"></i><b>11.6</b> Imputación de valores perdidos</a><ul>
<li class="chapter" data-level="11.6.1" data-path="adv-data.html"><a href="adv-data.html#regresiones-luego-de-imputar-datos"><i class="fa fa-check"></i><b>11.6.1</b> Regresiones luego de imputar datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="web-mining.html"><a href="web-mining.html"><i class="fa fa-check"></i><b>12</b> Minería de datos web</a><ul>
<li class="chapter" data-level="" data-path="web-mining.html"><a href="web-mining.html#lecturas-sugeridas-8"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="web-mining.html"><a href="web-mining.html#los-paquetes-que-necesitas-instalar-10"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="12.1" data-path="web-mining.html"><a href="web-mining.html#introducción-7"><i class="fa fa-check"></i><b>12.1</b> Introducción</a></li>
<li class="chapter" data-level="12.2" data-path="web-mining.html"><a href="web-mining.html#formas-de-hacer-web-scraping"><i class="fa fa-check"></i><b>12.2</b> Formas de hacer web scraping</a><ul>
<li class="chapter" data-level="12.2.1" data-path="web-mining.html"><a href="web-mining.html#estándar-de-exclusión-de-robot"><i class="fa fa-check"></i><b>12.2.1</b> Estándar de exclusión de robot</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="web-mining.html"><a href="web-mining.html#web-scraping-en-r"><i class="fa fa-check"></i><b>12.3</b> Web scraping en R</a><ul>
<li class="chapter" data-level="12.3.1" data-path="web-mining.html"><a href="web-mining.html#ejemplo-aplicado-los-comunicados-de-prensa-de-la-organización-de-estados-americanos-oea"><i class="fa fa-check"></i><b>12.3.1</b> Ejemplo aplicado: los comunicados de prensa de la Organización de Estados Americanos (OEA)</a></li>
<li class="chapter" data-level="12.3.2" data-path="web-mining.html"><a href="web-mining.html#caraga-el-html-para-trabajar-con-r"><i class="fa fa-check"></i><b>12.3.2</b> Caraga el html para trabajar con R</a></li>
<li class="chapter" data-level="12.3.3" data-path="web-mining.html"><a href="web-mining.html#extraer-la-información-con-html_nodes-html_text"><i class="fa fa-check"></i><b>12.3.3</b> Extraer la información con <code>html_nodes()</code> + <code>html_text()</code></a></li>
<li class="chapter" data-level="12.3.4" data-path="web-mining.html"><a href="web-mining.html#iteraciones"><i class="fa fa-check"></i><b>12.3.4</b> Iteraciones</a></li>
<li class="chapter" data-level="12.3.5" data-path="web-mining.html"><a href="web-mining.html#funciones-personalizadas-recetas"><i class="fa fa-check"></i><b>12.3.5</b> Funciones personalizadas (recetas)</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="web-mining.html"><a href="web-mining.html#usando-apis-y-extrayendo-datos-de-twitter"><i class="fa fa-check"></i><b>12.4</b> Usando APIs y extrayendo datos de Twitter</a><ul>
<li class="chapter" data-level="12.4.1" data-path="web-mining.html"><a href="web-mining.html#buscar-una-palabra-clave"><i class="fa fa-check"></i><b>12.4.1</b> Buscar una palabra clave</a></li>
<li class="chapter" data-level="12.4.2" data-path="web-mining.html"><a href="web-mining.html#buscar-una-frase"><i class="fa fa-check"></i><b>12.4.2</b> Buscar una frase</a></li>
<li class="chapter" data-level="12.4.3" data-path="web-mining.html"><a href="web-mining.html#descargando-características-relacionadas-con-los-usuarios-de-twitter"><i class="fa fa-check"></i><b>12.4.3</b> Descargando características relacionadas con los usuarios de Twitter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="qta.html"><a href="qta.html"><i class="fa fa-check"></i><b>13</b> Análisis cuantitativo de textos políticos</a><ul>
<li class="chapter" data-level="" data-path="qta.html"><a href="qta.html#lecturas-recomendadas"><i class="fa fa-check"></i>Lecturas recomendadas</a></li>
<li class="chapter" data-level="" data-path="qta.html"><a href="qta.html#paquetes-que-necesitas-instalar"><i class="fa fa-check"></i>Paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="13.1" data-path="qta.html"><a href="qta.html#sqta1"><i class="fa fa-check"></i><b>13.1</b> Análisis de hashtags políticos</a><ul>
<li class="chapter" data-level="13.1.1" data-path="qta.html"><a href="qta.html#exploración-de-datos-de-twitter"><i class="fa fa-check"></i><b>13.1.1</b> Exploración de datos de Twitter</a></li>
<li class="chapter" data-level="13.1.2" data-path="qta.html"><a href="qta.html#diagnóstico-visual"><i class="fa fa-check"></i><b>13.1.2</b> Diagnóstico visual</a></li>
<li class="chapter" data-level="13.1.3" data-path="qta.html"><a href="qta.html#hashtags-más-utilizados"><i class="fa fa-check"></i><b>13.1.3</b> Hashtags más utilizados</a></li>
<li class="chapter" data-level="13.1.4" data-path="qta.html"><a href="qta.html#wordclouds-nubes-de-palabras"><i class="fa fa-check"></i><b>13.1.4</b> Wordclouds (Nubes de palabras)</a></li>
<li class="chapter" data-level="13.1.5" data-path="qta.html"><a href="qta.html#nubes-de-palabras-por-grupos"><i class="fa fa-check"></i><b>13.1.5</b> Nubes de palabras por grupos</a></li>
<li class="chapter" data-level="13.1.6" data-path="qta.html"><a href="qta.html#gráficos-de-barras"><i class="fa fa-check"></i><b>13.1.6</b> Gráficos de barras</a></li>
<li class="chapter" data-level="13.1.7" data-path="qta.html"><a href="qta.html#variación-temporal-en-el-uso-de-hashtags"><i class="fa fa-check"></i><b>13.1.7</b> Variación temporal en el uso de hashtags</a></li>
<li class="chapter" data-level="13.1.8" data-path="qta.html"><a href="qta.html#para-resumir"><i class="fa fa-check"></i><b>13.1.8</b> Para resumir</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="qta.html"><a href="qta.html#wordfish"><i class="fa fa-check"></i><b>13.2</b> Wordfish</a><ul>
<li class="chapter" data-level="13.2.1" data-path="qta.html"><a href="qta.html#inspección-y-limpieza-de-datos"><i class="fa fa-check"></i><b>13.2.1</b> Inspección y limpieza de datos</a></li>
<li class="chapter" data-level="13.2.2" data-path="qta.html"><a href="qta.html#pre-procesamiento"><i class="fa fa-check"></i><b>13.2.2</b> Pre-procesamiento</a></li>
<li class="chapter" data-level="13.2.3" data-path="qta.html"><a href="qta.html#sqta2"><i class="fa fa-check"></i><b>13.2.3</b> Wordfish</a></li>
<li class="chapter" data-level="13.2.4" data-path="qta.html"><a href="qta.html#qué-aprendimos-de-wordfish"><i class="fa fa-check"></i><b>13.2.4</b> ¿Qué aprendimos de Wordfish?</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="qta.html"><a href="qta.html#sqta3"><i class="fa fa-check"></i><b>13.3</b> Structural Topic Modeling (STM)</a><ul>
<li class="chapter" data-level="13.3.1" data-path="qta.html"><a href="qta.html#pre-procesamiento-1"><i class="fa fa-check"></i><b>13.3.1</b> Pre-procesamiento</a></li>
<li class="chapter" data-level="13.3.2" data-path="qta.html"><a href="qta.html#diagnósticos"><i class="fa fa-check"></i><b>13.3.2</b> Diagnósticos</a></li>
<li class="chapter" data-level="13.3.3" data-path="qta.html"><a href="qta.html#análisis"><i class="fa fa-check"></i><b>13.3.3</b> Análisis</a></li>
<li class="chapter" data-level="13.3.4" data-path="qta.html"><a href="qta.html#observaciones-finales"><i class="fa fa-check"></i><b>13.3.4</b> Observaciones finales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="networks.html"><a href="networks.html"><i class="fa fa-check"></i><b>14</b> Análisis de redes</a><ul>
<li class="chapter" data-level="" data-path="networks.html"><a href="networks.html#lecturas-sugeridas-9"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="networks.html"><a href="networks.html#los-paquetes-que-necesitas-instalar-11"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="14.1" data-path="networks.html"><a href="networks.html#introducción-8"><i class="fa fa-check"></i><b>14.1</b> Introducción</a></li>
<li class="chapter" data-level="14.2" data-path="networks.html"><a href="networks.html#conceptos-básicos-en-una-red"><i class="fa fa-check"></i><b>14.2</b> Conceptos básicos en una red</a><ul>
<li class="chapter" data-level="14.2.1" data-path="networks.html"><a href="networks.html#nodos-y-enlaces"><i class="fa fa-check"></i><b>14.2.1</b> Nodos y enlaces</a></li>
<li class="chapter" data-level="14.2.2" data-path="networks.html"><a href="networks.html#matriz-de-adyacencia"><i class="fa fa-check"></i><b>14.2.2</b> Matriz de adyacencia</a></li>
<li class="chapter" data-level="14.2.3" data-path="networks.html"><a href="networks.html#pesos-y-direcciones"><i class="fa fa-check"></i><b>14.2.3</b> Pesos y direcciones</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="networks.html"><a href="networks.html#bases-de-datos-de-la-red"><i class="fa fa-check"></i><b>14.3</b> Bases de datos de la red</a></li>
<li class="chapter" data-level="14.4" data-path="networks.html"><a href="networks.html#presentación-gráfica-de-una-red"><i class="fa fa-check"></i><b>14.4</b> Presentación gráfica de una red</a></li>
<li class="chapter" data-level="14.5" data-path="networks.html"><a href="networks.html#medidas-de-centralidad"><i class="fa fa-check"></i><b>14.5</b> Medidas de centralidad</a><ul>
<li class="chapter" data-level="14.5.1" data-path="networks.html"><a href="networks.html#grado"><i class="fa fa-check"></i><b>14.5.1</b> Grado</a></li>
<li class="chapter" data-level="14.5.2" data-path="networks.html"><a href="networks.html#centralidad-del-eigenvector"><i class="fa fa-check"></i><b>14.5.2</b> Centralidad del eigenvector</a></li>
<li class="chapter" data-level="14.5.3" data-path="networks.html"><a href="networks.html#centralidad-de-intermediación-betweenness"><i class="fa fa-check"></i><b>14.5.3</b> Centralidad de intermediación (<em>betweenness</em>)</a></li>
<li class="chapter" data-level="14.5.4" data-path="networks.html"><a href="networks.html#cercanía"><i class="fa fa-check"></i><b>14.5.4</b> Cercanía</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="networks.html"><a href="networks.html#aplicación-en-r"><i class="fa fa-check"></i><b>14.6</b> Aplicación en R</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="indexes.html"><a href="indexes.html"><i class="fa fa-check"></i><b>15</b> Análisis de componentes principales</a><ul>
<li class="chapter" data-level="" data-path="indexes.html"><a href="indexes.html#lecturas-sugeridas-10"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="indexes.html"><a href="indexes.html#los-paquetes-que-necesitas-instalar-12"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="15.1" data-path="indexes.html"><a href="indexes.html#introducción-9"><i class="fa fa-check"></i><b>15.1</b> Introducción</a><ul>
<li class="chapter" data-level="15.1.1" data-path="indexes.html"><a href="indexes.html#conceptos-medidas-y-validez"><i class="fa fa-check"></i><b>15.1.1</b> Conceptos, medidas y validez</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="indexes.html"><a href="indexes.html#cómo-funciona-el-análisis-de-componentes-principales"><i class="fa fa-check"></i><b>15.2</b> Cómo funciona el Análisis de Componentes Principales</a></li>
<li class="chapter" data-level="15.3" data-path="indexes.html"><a href="indexes.html#nociones-básicas-en-r"><i class="fa fa-check"></i><b>15.3</b> Nociones básicas en R</a></li>
<li class="chapter" data-level="15.4" data-path="indexes.html"><a href="indexes.html#dimensionalidad-del-concepto"><i class="fa fa-check"></i><b>15.4</b> Dimensionalidad del concepto</a></li>
<li class="chapter" data-level="15.5" data-path="indexes.html"><a href="indexes.html#variación-del-concepto"><i class="fa fa-check"></i><b>15.5</b> Variación del concepto</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>16</b> Mapas y datos espaciales</a><ul>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#lecturas-sugeridas-11"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#los-paquetes-que-necesitas-instalar-13"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="16.1" data-path="maps.html"><a href="maps.html#introducción-10"><i class="fa fa-check"></i><b>16.1</b> Introducción</a><ul>
<li class="chapter" data-level="16.1.1" data-path="maps.html"><a href="maps.html#datos-espaciales-qué-son"><i class="fa fa-check"></i><b>16.1.1</b> Datos espaciales: ¿qué son?</a></li>
<li class="chapter" data-level="16.1.2" data-path="maps.html"><a href="maps.html#estructura-de-datos-espaciales"><i class="fa fa-check"></i><b>16.1.2</b> Estructura de datos espaciales</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="maps.html"><a href="maps.html#datos-espaciales-en-r"><i class="fa fa-check"></i><b>16.2</b> Datos espaciales en R</a><ul>
<li class="chapter" data-level="16.2.1" data-path="maps.html"><a href="maps.html#características-simples-en-r"><i class="fa fa-check"></i><b>16.2.1</b> Características simples en R</a></li>
<li class="chapter" data-level="16.2.2" data-path="maps.html"><a href="maps.html#estructura"><i class="fa fa-check"></i><b>16.2.2</b> Estructura</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="maps.html"><a href="maps.html#gestión-de-datos-espaciales"><i class="fa fa-check"></i><b>16.3</b> Gestión de Datos Espaciales</a><ul>
<li class="chapter" data-level="16.3.1" data-path="maps.html"><a href="maps.html#modificaciones"><i class="fa fa-check"></i><b>16.3.1</b> Modificaciones</a></li>
<li class="chapter" data-level="16.3.2" data-path="maps.html"><a href="maps.html#añade-datos-de-otras-bases-de-datos-con-left_join"><i class="fa fa-check"></i><b>16.3.2</b> Añade datos de otras bases de datos con <code>left_join()</code></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="maps.html"><a href="maps.html#mapeo"><i class="fa fa-check"></i><b>16.4</b> Mapeo</a><ul>
<li class="chapter" data-level="16.4.1" data-path="maps.html"><a href="maps.html#generando-centroides"><i class="fa fa-check"></i><b>16.4.1</b> Generando centroides</a></li>
<li class="chapter" data-level="16.4.2" data-path="maps.html"><a href="maps.html#mapeando-variables"><i class="fa fa-check"></i><b>16.4.2</b> Mapeando variables</a></li>
<li class="chapter" data-level="16.4.3" data-path="maps.html"><a href="maps.html#mapeando-puntos"><i class="fa fa-check"></i><b>16.4.3</b> Mapeando puntos</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="maps.html"><a href="maps.html#inferencia-a-partir-de-datos-espaciales"><i class="fa fa-check"></i><b>16.5</b> Inferencia a partir de datos espaciales</a><ul>
<li class="chapter" data-level="16.5.1" data-path="maps.html"><a href="maps.html#indicador-local-de-asociación-espacial-lisa-por-sus-siglas-en-inglés"><i class="fa fa-check"></i><b>16.5.1</b> Indicador local de asociación espacial (LISA, por sus siglas en inglés)</a></li>
<li class="chapter" data-level="16.5.2" data-path="maps.html"><a href="maps.html#matriz-de-pesos-espaciales"><i class="fa fa-check"></i><b>16.5.2</b> Matriz de pesos espaciales</a></li>
<li class="chapter" data-level="16.5.3" data-path="maps.html"><a href="maps.html#i-de-moran"><i class="fa fa-check"></i><b>16.5.3</b> I de Moran</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#comentarios-finales-referencias-para-un-mejor-análisis-de-datos-espaciales"><i class="fa fa-check"></i>Comentarios finales: Referencias para un mejor análisis de datos espaciales</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Referencias</b></span></li>
<li class="chapter" data-level="17" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>17</b> Referencias</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AnalizaR Datos Políticos (v1.0)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="load" class="section level1">
<h1><span class="header-section-number">Capítulo 4</span> Carga de bases</h1>
<p>Soledad Araya<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> y Andrés Cruz<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a></p>
<div id="los-paquetes-que-necesitas-instalar-2" class="section level3 unnumbered">
<h3>Los paquetes que necesitas instalar</h3>
<ul>
<li><code>tidyverse</code> <span class="citation">(Wickham <a href="referencias.html#ref-R-tidyverse" role="doc-biblioref">2019</a><a href="referencias.html#ref-R-tidyverse" role="doc-biblioref">b</a>)</span>, <code>paqueteadp</code> <span class="citation">(Urdinez and Cruz <a href="referencias.html#ref-R-paqueteadp" role="doc-biblioref">2020</a>)</span>, <code>haven</code> <span class="citation">(Wickham and Miller <a href="referencias.html#ref-R-haven" role="doc-biblioref">2020</a>)</span>, <code>readxl</code> <span class="citation">(Wickham and Bryan <a href="referencias.html#ref-R-readxl" role="doc-biblioref">2019</a>)</span>, <code>data.table</code> <span class="citation">(Dowle and Srinivasan <a href="referencias.html#ref-R-data.table" role="doc-biblioref">2019</a>)</span>, <code>ff</code> <span class="citation">(Adler et al. <a href="referencias.html#ref-R-ff" role="doc-biblioref">2020</a>)</span>.</li>
</ul>
</div>
<div id="load-intro" class="section level2">
<h2><span class="header-section-number">4.1</span> Introducción</h2>
<p>Cargar bases de datos no siempre es una tarea fácil. Las personas que crean base de datos utilizan diferentes formatos de archivo, tratando de optimizar diversos criterios (facilidad para los usuarios , software disponible, tamaño, etcétera). A veces, la información que se necesita está distribuida en múltiples bases de datos pequeñas. En otros casos, el problema depende de la magnitud de los datos, con bases de datos que, empleando los métodos habituales de carga de datos, afectarán al rendimiento de la computadora. Las siguientes tres subsecciones ayudarán a sortear estos desafíos.</p>
<p>A diferencia de los otros capítulos de este libro, aquí necesitarás descargar bases de datos directamente a tu computadora sin usar el paquete del libro. La idea es que aprendas a cargar datos en el mundo real! Comienza creando una nueva carpeta en tu ordenador, que será la carpeta de tu proyecto. Llamaremos a nuestra nueva carpeta de proyecto, muy originalmente, <code>load-dataset</code>. Luego, descarga <a href="https://arcruz0.github.io/libroadp/00-archivos/datos_carga_adp.zip">desde este enlace</a> el archivo .zip con las bases de datos para este capítulo, y guárdalo en la carpeta que creaste. En Windows, por ejemplo, esto debería ser similar a esta imagen:</p>
<div class="figure" style="text-align: center"><span id="fig:folder1"></span>
<img src="00-images/load/folder_1.png" alt=" Carpeta con archivo .zip" width="65%" />
<p class="caption">
Figura 4.1:  Carpeta con archivo .zip
</p>
</div>
<p>Después, necesitas descomprimir el contenido del archivo .zip. La forma exacta de hacerlo dependerá de tu sistema operativo y sus programas, pero tiende a ser algo similar a <code>Haz clic derecho &gt; Descomprimir aquí</code>. Ahora deberías tener una subcarpeta llamada “files”:</p>
<div class="figure" style="text-align: center"><span id="fig:folder-2"></span>
<img src="00-images/load/folder_2.png" alt=" Carpeta con subcarpeta ya descomprimida" width="65%" />
<p class="caption">
Figura 4.2:  Carpeta con subcarpeta ya descomprimida
</p>
</div>
<p>Revisa la nueva subcarpeta. Aquí están las bases de datos que se van a utilizar en este capítulo. Como verás, aprenderemos a cargar y utilizar múltiples formatos comunes:</p>
<div class="figure" style="text-align: center"><span id="fig:folder-3"></span>
<img src="00-images/load/folder_3.png" alt=" Subcarpeta con archivos de datos" width="65%" />
<p class="caption">
Figura 4.3:  Subcarpeta con archivos de datos
</p>
</div>
<p>¡Ya casi hemos terminado! Como se ha explicado con más detalle en el capítulo <a href="data.html#data">2</a>, vamos a utilizar <em>Proyectos de RStudio</em> con el fin de ordenar nuestro trabajo. Vamos a crear un proyecto de RStudio haciendo clic en la esquina superior derecha de RStudio, “Proyecto…”, y luego “Nuevo Proyecto”. Seleccionando “Directorio Existente” en la siguiente ventana puedes vincular el proyecto a la carpeta que ya has creado (en este caso, <code>load-dataset</code>):</p>
<div class="figure" style="text-align: center"><span id="fig:rstudio-projects"></span>
<img src="00-images/load/rstudio_projects.png" alt=" Creando un nuevo proyecto de RStudio en una carpeta ya existente" width="60%" />
<p class="caption">
Figura 4.4:  Creando un nuevo proyecto de RStudio en una carpeta ya existente
</p>
</div>
<p>¡Perfecto! Ahora deberías tener un nuevo proyecto para empezar a trabajar de forma ordenada con los datos de este capítulo.</p>
</div>
<div id="carga-formatos" class="section level2">
<h2><span class="header-section-number">4.2</span> Diferentes formatos de bases de datos</h2>
<p>En esta subsección, aprenderás a cargar diferentes formatos de bases de datos en R: separados por delimitadores, creados en R, con etiquetas en Stata o SPSS, o desde Excel.</p>
</div>
<div id="los-archivos-separados-por-delimitadores-.csv-y-.tsv" class="section level2">
<h2><span class="header-section-number">4.3</span> Los archivos separados por delimitadores (.csv y .tsv)</h2>
<p>Un archivo de texto plano (<em>flat-file dataset</em>) es un archivo constituido únicamente por texto o caracteres. Es un formato soportado por diferentes programas, y se puede trabajar con él sin esfuerzo. La única diferencia radica en los delimitadores que utiliza: (1) en el caso del .csv, el delimitador es una coma (,) y, (2) en el caso del .tsv, está delimitado por una tabulación (o parachoques) que se expresan con <code>&lt;TAB&gt;</code> o <code>\t</code>.</p>
<div id="r-básico-utils" class="section level3">
<h3><span class="header-section-number">4.3.1</span> R básico: <code>utils</code></h3>
<p>R básico tiene funciones que leen este tipo de archivos. Probablemente has encontrado <code>read.table</code> or <code>read.csv</code>, que son funciones específicas que leen archivos csv con el paquete <code>utils</code>. La primera debería ser suficiente para abrir cualquiera de estos archivos. Sólo tenemos que centrarnos en las características específicas de cada uno. Como dijimos antes, las separaciones de estos archivos suelen ser diferentes, y esta función nos permite especificar el tipo de separación (“,” , “;” , “|” o ") con el argumento <code>sep =</code>.</p>
<p>Sin embargo, hay mejores opciones para cargar estos tipos de bases de datos. Aunque <code>read.table()</code> puede ser amigable cuando se aprende R, no será suficiente para trabajar con archivos cada vez más grandes. La segunda desventaja de <code>read_table()</code> es que, normalmente, no funcionará correctamente con archivos que contengan caracteres especiales, ¡una gran desventaja para los no angloparlantes!</p>
<p>Para esos casos, tenemos diferentes alternativas que presentamos a continuación.</p>
<div id="readr" class="section level4">
<h4><span class="header-section-number">4.3.1.1</span> <code id="load-readr">readr</code></h4>
<p>El paquete <code>readr</code> se encarga de introducir una serie de funciones que pueden leer diferentes tipos de archivos. A primera vista, la diferencia entre las funciones <code>utils</code> y <code>readr</code> es un guión bajo (pasamos de read.table a read_table). Sin embargo, las funciones de <code>readr</code> son mejores cuando se trabaja con bases de datos grandes, y es mucho más rápido cuando se cargan. <code>readr</code>, como muchos de los paquetes ya presentados, es parte de los paquetes principales de <code>tidyverse</code>. Puedes cargarlo individualmente o a través de <code>tidyverse</code>.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="load.html#cb113-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb113-2"><a href="load.html#cb113-2"></a></span>
<span id="cb113-3"><a href="load.html#cb113-3"></a><span class="kw">library</span>(readr) <span class="co"># alternativa individual</span></span></code></pre></div>
<p>Comencemos presentando una de as bases de datos que se utilizarán en este capítulo, que proviene del proyecto <a href="(https://www.desiguales.org/)"><em>Desiguales</em></a> del PNUD - Programa de las Naciones Unidas para el Desarrollo. Este proyecto buscó mapear la complejidad de las desigualdades en Chile con la ayuda de una encuesta aplicada en 2016. Utilizaremos una pequeña subsección de esta base de datos, que contiene información para 300 encuestados a través de 20 variables. Como habrás notado, contamos con la base de datos en seis formatos diferentes para el desarrollo de este capítulo:</p>
<div class="figure" style="text-align: center"><span id="fig:folder-3-2"></span>
<img src="00-images/load/folder_3.png" alt="Subcarpeta con bases de datos" width="65%" />
<p class="caption">
Figura 4.5: Subcarpeta con bases de datos
</p>
</div>
<p>¿Cómo podemos cargar la base de datos en el formato .csv? Como puedes sospechar, empezaremos con la base de datos más simple de cargar. Gracias a la función <code>read_csv()</code> en <code>readr</code>, sólo tendremos que escribir la ruta del archivo dentro de nuestro proyecto:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="load.html#cb114-1"></a>df_desiguales_csv &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/desiguales.csv&quot;</span>)</span></code></pre></div>
<p>Empezamos el nombre del objeto con “df” como abreviatura de <em>dataframe</em>. Para confirmar que nuestro archivo está en el sistema en forma como objeto, usaremos <code>ls()</code>. Con esta función se puede ver la lista de los objetos creados o cargados. También puedes comprobarlo en el panel “Environrment” de RStudio.</p>
<div class="figure" style="text-align: center"><span id="fig:env-flap"></span>
<img src="00-images/load/environment.png" alt="Panel de Environment, arriba a la derecha" width="60%" />
<p class="caption">
Figura 4.6: Panel de Environment, arriba a la derecha
</p>
</div>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="load.html#cb115-1"></a><span class="kw">ls</span>()</span>
<span id="cb115-2"><a href="load.html#cb115-2"></a><span class="co">## [1] &quot;df_desiguales_csv&quot;</span></span></code></pre></div>
<p>Ahora, confirmamos con <code>class()</code> que este archivo está en el formato <em>dataframe</em> y <em>tibble</em>. Debido a que seguiremos usando las herramientas de <code>tidyverse</code>, es útil trabajar con este formato.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="load.html#cb116-1"></a><span class="kw">class</span>(df_desiguales_csv)</span>
<span id="cb116-2"><a href="load.html#cb116-2"></a><span class="co">## [1] &quot;spec_tbl_df&quot; &quot;tbl_df&quot;      &quot;tbl&quot;         &quot;data.frame&quot;</span></span></code></pre></div>
<p>Es importante saber más sobre la función para poder sortear los obstáculos que surgen al cargar bases de datos en este formato. Para empezar, puede ser que tu archivo esté separado por un tipo diferente de separador. Puedes definirlo con <code>delim=</code>, que cumple la misma función que <code>sep=</code> en <code>read.table</code>. Además, cuando se manejan archivos con un cierto tipo de digitación, es útil usar <code>locale</code> para especificar separadores decimales y de miles. Los países angloparlantes usan un punto para separar los decimales, pero Europa continental y los países latinoamericanos usan una coma.</p>
<blockquote>
<p>Una segunda nota: Probablemente viste la función <code>read_csv2()</code> sugerida por R Studio cuando escribiste <code>read_csv</code> en R. La única diferencia entre las dos es el carácter que usamos para delimitar nuestros datos: <code>read_csv2()</code> usa “;” como delimitador por defecto, mientras que <code>read_csv()</code> usa “,”. Para los archivos .tsv se puede usar la función <code>read_tsv()</code>, que no está incluida por defecto en el paquete <code>utils</code>.</p>
</blockquote>
<p>Una vez cargada la base, exploremos brevemente los datos en los que estamos trabajando con <code>glimpse()</code>, como hicimos en el capítulo anterior. Las herramientas del paquete <code>dplyr</code> deberían estar ya disponibles, ya que previamente has cargado <code>tidyverse</code>. Usaremos <code>glimpse()</code> para ver un breve panorama de las primeras 10 columnas de nuestros datos.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="load.html#cb117-1"></a>df_desiguales_csv <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">glimpse</span>()</span>
<span id="cb117-2"><a href="load.html#cb117-2"></a><span class="co">## Rows: 300</span></span>
<span id="cb117-3"><a href="load.html#cb117-3"></a><span class="co">## Columns: 10</span></span>
<span id="cb117-4"><a href="load.html#cb117-4"></a><span class="co">## $ id        &lt;dbl&gt; 34, 36, 70, 75, 99, 121, 122, 128, 160, 163, 166, 17…</span></span>
<span id="cb117-5"><a href="load.html#cb117-5"></a><span class="co">## $ sexo      &lt;dbl&gt; 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 1, 2, 2, 1, 2…</span></span>
<span id="cb117-6"><a href="load.html#cb117-6"></a><span class="co">## $ zona      &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2…</span></span>
<span id="cb117-7"><a href="load.html#cb117-7"></a><span class="co">## $ macrozona &lt;dbl&gt; 4, 4, 2, 2, 4, 2, 2, 4, 2, 2, 2, 2, 2, 4, 4, 4, 4, 4…</span></span>
<span id="cb117-8"><a href="load.html#cb117-8"></a><span class="co">## $ region    &lt;dbl&gt; 13, 13, 7, 7, 13, 7, 7, 13, 7, 7, 7, 5, 7, 13, 13, 1…</span></span>
<span id="cb117-9"><a href="load.html#cb117-9"></a><span class="co">## $ edad      &lt;dbl&gt; 63, 52, 73, 78, 22, 51, 18, 21, 57, 41, 55, 64, 26, …</span></span>
<span id="cb117-10"><a href="load.html#cb117-10"></a><span class="co">## $ p1_anyo   &lt;dbl&gt; 1952, 1963, 1943, 1938, 1993, 1964, 1997, 1995, 1958…</span></span>
<span id="cb117-11"><a href="load.html#cb117-11"></a><span class="co">## $ p1_mes    &lt;dbl&gt; 8, 7, 2, 2, 12, 11, 10, 1, 12, 4, 10, 12, 12, 10, 10…</span></span>
<span id="cb117-12"><a href="load.html#cb117-12"></a><span class="co">## $ p2        &lt;dbl&gt; 1, 1, 4, 7, 8, 1, 5, 5, 3, 3, 7, 4, 5, 1, 5, 1, 1, 5…</span></span>
<span id="cb117-13"><a href="load.html#cb117-13"></a><span class="co">## $ p3        &lt;dbl&gt; 2, 3, 2, 3, 3, 2, 3, 3, 2, 2, 3, 1, 1, 1, 3, 1, 2, 3…</span></span></code></pre></div>
<p>¡Todo se ve muy bien! Sigamos explorando otras formas de cargar datos en R.</p>
</div>
</div>
<div id="load-r" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Archivos creados con R (.Rdata y .rds)</h3>
<p>Ahora nos centraremos en los archivos creados con R, que tienen una extensión .Rdata (.rda también es válido) o .rds. Estos formatos de archivo nos permiten almacenar <em>cualquier</em> objeto en R, ya sea un vector, un <em>dataframe</em>, una matriz, una lista, etc. Después de leer el archivo, R cargará el objeto tal y como fue guardado. Así pues, los archivos en este formato destacan por (a) su flexibilidad a la hora de almacenarlos, sin limitarse a su base de datos, y (b) por su perfecta compatibilidad con R: por ejemplo, puedes estar seguro de que cada variable de una base de datos .rds se cargará en el formato correcto (vectores numéricos como numéricos, factores como factores, etc.<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>)</p>
<p>La diferencia entre un archivo .Rdata (o .rda) y un archivo .rds es simple pero importante: mientras que el primero puede contener cualquier número de objetos, el segundo se limita a un solo objeto. Ahora aprenderás a cargar los objetos creados en R, en cualquiera de los dos formatos.</p>
<div id="load-rdata" class="section level4">
<h4><span class="header-section-number">4.3.2.1</span> Archivos .Rdata (uno o más objetos)</h4>
<p>Los archivos .Rdata pueden contener más de un objeto. Aunque esto suena conveniente, incluye una limitación: al cargar los objetos, estos adoptarán automáticamente el nombre con el que fueron creados. Por ejemplo, en el archivo .Rdata para la base de datos de <em>Desiguales</em> hemos guardado dos objetos: el <em>dataframe</em> que vimos anteriormente (ahora llamado <code>df_desiguales_rdata</code>) y un vector numérico para las edades de los encuestados (llamado <code>age_vector</code>). Para cargar el archivo sólo hay que usar la función <code>load()</code>.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="load.html#cb118-1"></a><span class="kw">load</span>(<span class="st">&quot;data/desiguales.Rdata&quot;</span>)</span></code></pre></div>
<p>Como se ha dicho anteriormente, puedes usar el comando <code>ls()</code> para comprobar si los objetos se cargaron correctamente en la sesión R. Si los dos objetos fueron cargados correctamente, entonces ambos deben ser nombrados, además del marco de datos anterior originado de un archivo .csv.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="load.html#cb119-1"></a><span class="kw">ls</span>()</span>
<span id="cb119-2"><a href="load.html#cb119-2"></a><span class="co">## [1] &quot;df_desiguales_csv&quot;   &quot;df_desiguales_rdata&quot; &quot;vector_edades&quot;</span></span></code></pre></div>
</div>
<div id="archivos-.rds-sólo-un-objeto" class="section level4">
<h4><span class="header-section-number">4.3.2.2</span> Archivos .rds (sólo un objeto)</h4>
<p>Los archivos .rds se limitan a almacenar un solo objeto. Aunque suena menos atractivo que la flexibilidad del .Rdta, este formato se destaca por su modularidad, que ayuda a mantener sus archivos en orden. Otro rasgo positivo del .rds es que la sintaxis utilizada para cargar estos archivos es familiar, muy similar a la utilizada para cargar los archivos .csv. Ahora puedes ponerle un nombre al objeto cuando lo creas. El comando es el siguiente, usando la función <code>read_rds()</code> (que hemos cargado antes con el <code>tidyverse</code>):</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="load.html#cb120-1"></a>df_desiguales_rds &lt;-<span class="st"> </span><span class="kw">read_rds</span>(<span class="st">&quot;data/desiguales.rds&quot;</span>)</span></code></pre></div>
<p>De nuevo, puedes usar el comando <code>ls()</code> o RStudio para asegurarte de que el objeto haya sido creado sin problemas en la sesión:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="load.html#cb121-1"></a><span class="kw">ls</span>()</span>
<span id="cb121-2"><a href="load.html#cb121-2"></a><span class="co">## [1] &quot;df_desiguales_csv&quot;   &quot;df_desiguales_rdata&quot; &quot;df_desiguales_rds&quot;  </span></span>
<span id="cb121-3"><a href="load.html#cb121-3"></a><span class="co">## [4] &quot;vector_edades&quot;</span></span></code></pre></div>
</div>
</div>
<div id="load-labels" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Bases de datos con etiquetas (de Stata or SPSS)</h3>
<p>Las bases de datos con etiquetas son de uso común en las ciencias sociales, especialmente en los archivos SPSS (.sav) y Stata (.dta). La idea principal es relativamente simple: la información explicativa se guarda en el archivo además de los valores de la base de datos. Por ejemplo, la variable <code>p2</code> de la base de datos de <em>Desiguales</em>, que corresponde a la segunda pregunta de la encuesta, podría tener una etiqueta que describa la pregunta en sí (“Estado civil”) o la pregunta explícita (“Independientemente de si tiene o no una pareja en este momento, ¿cuál es su estado civil o marital actual?”). Llamaremos a este tipo de etiqueta <em>etiqueta variable</em>.</p>
<p>Además, las etiquetas pueden registrar información sobre los valores de las variables. Por ejemplo, la pregunta <code>p2</code> tiene las siguientes respuestas posibles:</p>
<table>
<thead>
<tr class="header">
<th>Valor</th>
<th>Etiqueta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Casado por primera vez</td>
</tr>
<tr class="even">
<td>2</td>
<td>Casado por segunda vez o más</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Legalmente casado, pero soltero de hecho</td>
</tr>
<tr class="even">
<td>4</td>
<td>Divorciado</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Soltero, nunca se ha casado</td>
</tr>
<tr class="even">
<td>6</td>
<td>Soltero, pero con un matrimonio legalmente anulado</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Viudo</td>
</tr>
<tr class="even">
<td>8</td>
<td>En pareja</td>
</tr>
<tr class="odd">
<td>88</td>
<td>No sabe</td>
</tr>
<tr class="even">
<td>99</td>
<td>No contesta</td>
</tr>
</tbody>
</table>
<p>Una base de datos puede almacenar los valores numéricos registrados por el encuestador, mientras que la información explicativa se puede guardar en etiquetas. Aunque una base de datos sólo puede registrar un “4” en la variable <code>p2</code> para un caso específico, su etiqueta nos ayuda a identificar el estado civil contestado por el encuestado (“Divorciado”). Llamaremos a este tipo de etiqueta <em>etiqueta de valor</em>.</p>
<p>En la siguiente sección, aprenderá a cargar en R las bases de datos de SPSS (.sav) y Stata (.dta) con etiquetas. Esto te permitirá reportar su análisis por etiquetas, tanto para las variables como para los valores. Necesitarás el paquete <code>haven</code> para usar esta función. Si instalaste <code>tidyverse</code> en el pasado ya tienes acceso a <code>haven</code>. Sin embargo, <code>library(tidyverse)</code> no es suficiente para instalarlo, así que tendrás que cargarlo por separado:<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a></p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="load.html#cb122-1"></a><span class="kw">library</span>(haven)</span></code></pre></div>
<p>Los comandos utilizados para cargar las bases de datos con etiquetas son similares a los utilizados anteriormente para cargar los archivos .csv y .rds. La función usada para leer los archivos SPSS es <code>read_spss()</code>, mientras que la de Stata es <code>read_stata()</code>. Vamos a cargar ambas bases de datos:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="load.html#cb123-1"></a>df_desiguales_spss &lt;-<span class="st"> </span><span class="kw">read_spss</span>(<span class="st">&quot;data/desiguales.sav&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="load.html#cb124-1"></a>df_desiguales_stata &lt;-<span class="st"> </span><span class="kw">read_stata</span>(<span class="st">&quot;data/desiguales.dta&quot;</span>)</span></code></pre></div>
<p>Puede comprobar si los objetos fueron creados usando el comando <code>ls()</code> o en el panel “Entorno” de RStudio.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="load.html#cb125-1"></a><span class="kw">ls</span>()</span>
<span id="cb125-2"><a href="load.html#cb125-2"></a><span class="co">## [1] &quot;df_desiguales_csv&quot;   &quot;df_desiguales_rdata&quot; &quot;df_desiguales_rds&quot;  </span></span>
<span id="cb125-3"><a href="load.html#cb125-3"></a><span class="co">## [4] &quot;df_desiguales_spss&quot;  &quot;df_desiguales_stata&quot; &quot;vector_edades&quot;</span></span>
<span id="cb125-4"><a href="load.html#cb125-4"></a><span class="kw">class</span>(df_desiguales_spss)</span>
<span id="cb125-5"><a href="load.html#cb125-5"></a><span class="co">## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span>
<span id="cb125-6"><a href="load.html#cb125-6"></a><span class="kw">class</span>(df_desiguales_stata)</span>
<span id="cb125-7"><a href="load.html#cb125-7"></a><span class="co">## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>Las bases de datos con etiquetas se diferencian de los demás no por la clase del objeto, sino por sus variables. Utilizando las herramientas aprendidas en el capítulo <a href="data.html#data">2</a>, puedes explorar las primeras diez variables de cualquiera de las bases de datos (ambos darán los mismos resultados, por lo que a partir de ahora utilizaremos la base de datos de SPSS).</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="load.html#cb126-1"></a>df_desiguales_spss <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">glimpse</span>()</span>
<span id="cb126-2"><a href="load.html#cb126-2"></a><span class="co">## Rows: 300</span></span>
<span id="cb126-3"><a href="load.html#cb126-3"></a><span class="co">## Columns: 10</span></span>
<span id="cb126-4"><a href="load.html#cb126-4"></a><span class="co">## $ id        &lt;dbl&gt; 34, 36, 70, 75, 99, 121, 122, 128, 160, 163, 166, 17…</span></span>
<span id="cb126-5"><a href="load.html#cb126-5"></a><span class="co">## $ sexo      &lt;dbl+lbl&gt; 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 1, 2, 2, …</span></span>
<span id="cb126-6"><a href="load.html#cb126-6"></a><span class="co">## $ zona      &lt;dbl+lbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, …</span></span>
<span id="cb126-7"><a href="load.html#cb126-7"></a><span class="co">## $ macrozona &lt;dbl+lbl&gt; 4, 4, 2, 2, 4, 2, 2, 4, 2, 2, 2, 2, 2, 4, 4, 4, …</span></span>
<span id="cb126-8"><a href="load.html#cb126-8"></a><span class="co">## $ region    &lt;dbl+lbl&gt; 13, 13,  7,  7, 13,  7,  7, 13,  7,  7,  7,  5, …</span></span>
<span id="cb126-9"><a href="load.html#cb126-9"></a><span class="co">## $ edad      &lt;dbl&gt; 63, 52, 73, 78, 22, 51, 18, 21, 57, 41, 55, 64, 26, …</span></span>
<span id="cb126-10"><a href="load.html#cb126-10"></a><span class="co">## $ p1_anyo   &lt;dbl+lbl&gt; 1952, 1963, 1943, 1938, 1993, 1964, 1997, 1995, …</span></span>
<span id="cb126-11"><a href="load.html#cb126-11"></a><span class="co">## $ p1_mes    &lt;dbl+lbl&gt;  8,  7,  2,  2, 12, 11, 10,  1, 12,  4, 10, 12, …</span></span>
<span id="cb126-12"><a href="load.html#cb126-12"></a><span class="co">## $ p2        &lt;dbl+lbl&gt; 1, 1, 4, 7, 8, 1, 5, 5, 3, 3, 7, 4, 5, 1, 5, 1, …</span></span>
<span id="cb126-13"><a href="load.html#cb126-13"></a><span class="co">## $ p3        &lt;dbl+lbl&gt; 2, 3, 2, 3, 3, 2, 3, 3, 2, 2, 3, 1, 1, 1, 3, 1, …</span></span></code></pre></div>
<p>Como podrás notar, la mayoría de las variables no son sólo vectores numéricos (“dbl” o “doble”<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a>), sino que también incluyen etiquetas (+ “lbl”). Obtengamos los primeros seis valores y la información de la variable etiquetada “p2” utilizando el comando <code>head()</code>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="load.html#cb127-1"></a><span class="kw">head</span>(df_desiguales_stata<span class="op">$</span>p2)</span>
<span id="cb127-2"><a href="load.html#cb127-2"></a><span class="co">## &lt;labelled&lt;double&gt;[6]&gt;: P2 - Â¿podria decirme cual es su estado conyugal o civil actual?</span></span>
<span id="cb127-3"><a href="load.html#cb127-3"></a><span class="co">## [1] 1 1 4 7 8 1</span></span>
<span id="cb127-4"><a href="load.html#cb127-4"></a><span class="co">## </span></span>
<span id="cb127-5"><a href="load.html#cb127-5"></a><span class="co">## Labels:</span></span>
<span id="cb127-6"><a href="load.html#cb127-6"></a><span class="co">##  value                                                 label</span></span>
<span id="cb127-7"><a href="load.html#cb127-7"></a><span class="co">##      1                             Casado(a) por primera vez</span></span>
<span id="cb127-8"><a href="load.html#cb127-8"></a><span class="co">##      2                      Casado(a) por segunda vez o mÃ¡s</span></span>
<span id="cb127-9"><a href="load.html#cb127-9"></a><span class="co">##      3          Casado(a) legalmente, pero separado de hecho</span></span>
<span id="cb127-10"><a href="load.html#cb127-10"></a><span class="co">##      4                                            Divorciado</span></span>
<span id="cb127-11"><a href="load.html#cb127-11"></a><span class="co">##      5                        Soltero(a), nunca se ha casado</span></span>
<span id="cb127-12"><a href="load.html#cb127-12"></a><span class="co">##      6 Soltero(a), pero con un matrimonio legalmente anulado</span></span>
<span id="cb127-13"><a href="load.html#cb127-13"></a><span class="co">##      7                                              Viudo(a)</span></span>
<span id="cb127-14"><a href="load.html#cb127-14"></a><span class="co">##      8                                  Conviviente o pareja</span></span>
<span id="cb127-15"><a href="load.html#cb127-15"></a><span class="co">##     88                                          NS (no leer)</span></span>
<span id="cb127-16"><a href="load.html#cb127-16"></a><span class="co">##     99                                          NR (no leer)</span></span></code></pre></div>
<pre><code>## &lt;labelled&lt;double&gt;[6]&gt;: P2 - ¿podria decirme cual es su estado conyugal...?
## [1] 1 1 4 7 8 1
## 
## Labels:
##  value                                                 label
##      1                             Casado(a) por primera vez
##      2                      Casado(a) por segunda vez o mÃ¡s
##      3          Casado(a) legalmente, pero separado de hecho
##      4                                            Divorciado
##      5                        Soltero(a), nunca se ha casado
##      6 Soltero(a), pero con un matrimonio legalmente anulado
##      7                                              Viudo(a)
##      8                                  Conviviente o pareja
##     88                                          NS (no leer)
##     99                                          NR (no leer)</code></pre>
<p>Analicemos brevemente el resultado mostrado en la consola. En primer lugar, podemos ver que la variable en cuestión es un vector numérico con una etiqueta (“<Doble etiquetado>”). Luego, después de los dos puntos, registra la <em>etiqueta de variable</em>: <em>“P2 - ¿cuál es su estado civil o marital actual?”</em>. Después, se muestran los seis primeros valores de la variable, tal y como pedimos a través del comando <code>head()</code>. Por último, se encuentran las etiquetas de valor *, que nos dan información sobre el significado de cada número en el contexto de una variable específica.</p>
<p>De esta manera, obtenemos toda la información registrada por las etiquetas en esta base de datos. Con los comandos aprendidos se puede estar seguro del significado de cada valor en la base de datos etiquetada. Por último, note que R, con la ayuda de <code>haven</code>, también mostrará las etiquetas en otros casos cuando sea conveniente. Por ejemplo, veamos un simple resumen de las dos primeras variables de la base de datos. ¡Mira qué fácil es leerlo!</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="load.html#cb129-1"></a>df_desiguales_stata <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(region, p2)</span>
<span id="cb129-2"><a href="load.html#cb129-2"></a><span class="co">## # A tibble: 300 x 2</span></span>
<span id="cb129-3"><a href="load.html#cb129-3"></a><span class="co">##                           region                            p2</span></span>
<span id="cb129-4"><a href="load.html#cb129-4"></a><span class="co">##                        &lt;dbl+lbl&gt;                     &lt;dbl+lbl&gt;</span></span>
<span id="cb129-5"><a href="load.html#cb129-5"></a><span class="co">## 1 13 [Metropolitana de Santiago] 1 [Casado(a) por primera vez]</span></span>
<span id="cb129-6"><a href="load.html#cb129-6"></a><span class="co">## 2 13 [Metropolitana de Santiago] 1 [Casado(a) por primera vez]</span></span>
<span id="cb129-7"><a href="load.html#cb129-7"></a><span class="co">## 3  7 [Del Maule]                 4 [Divorciado]               </span></span>
<span id="cb129-8"><a href="load.html#cb129-8"></a><span class="co">## # … with 297 more rows</span></span></code></pre></div>
</div>
<div id="load-excel" class="section level3">
<h3><span class="header-section-number">4.3.4</span> Archivos de Excel</h3>
<p>Aunque la mayoría de las veces utilizaremos bases de datos que vienen en los formatos anteriores, es importante reconocer que no todas las instituciones presentan su información de esta manera. A menudo te enfrentarás a formatos que traen dolores de cabeza. Por ejemplo, Excel. En Chile, una cantidad considerable de organizaciones gubernamentales todavía trabajan con Excel, y el problema no es el formato sino la estructura de las bases de datos.</p>
<p>La mayoría de las veces nos enfrentaremos a algo como esto:</p>
<div class="figure" style="text-align: center"><span id="fig:excel-example-1"></span>
<img src="00-images/load/sinim_example.png" alt="Base de datos del SINIM (*Sistema Nacional de Información Municipal*)" width="100%" />
<p class="caption">
Figura 4.7: Base de datos del SINIM (<em>Sistema Nacional de Información Municipal</em>)
</p>
</div>
<p>O como esto:</p>
<div class="figure" style="text-align: center"><span id="fig:excel-example-2"></span>
<img src="00-images/load/cead_example.png" alt="Base de datos del CEAD" width="100%" />
<p class="caption">
Figura 4.8: Base de datos del CEAD
</p>
</div>
<p>Aquí es donde surgen los problemas.</p>
<p>Para empezar, carguemos uno de los paquetes más usados para leer archivos de Excel (sea .xls o .xlsx), <code>readxl</code>, un paquete de <code>tidyverse</code><a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a>:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="load.html#cb130-1"></a><span class="kw">library</span>(readxl)</span></code></pre></div>
<p>Para el próximo ejemplo, utilizaremos la base de datos del <a href="http://cead.spd.gov.cl/estadisticas-delictuales/">CEAD (<em>Centro de Estudios y Análisis del Delito</em>)</a>. El CEAD es una institución chilena que se centra en la vigilancia y el estudio de la delincuencia en el país. Su objetivo es crear y analizar información sobre el crimen para ayudar a la formación de políticas públicas. Esta base de datos es la que se puede descargar por defecto en su página web.
Para cargar el archivo, usaremos <code>read_excel()</code>de <code>readxl</code>. Sólo es necesario poner la ruta del archivo .xls o .xlsx:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="load.html#cb131-1"></a>df_cead_excel &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/cead.xls&quot;</span>)</span></code></pre></div>
<p>Primero, comprobemos que los datos fueron cargados correctamente en el <em>Environment</em> con <code>ls()</code>. Luego, usemos <code>glimpse</code> para examinar las primeras observaciones en nuestra base de datos:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="load.html#cb132-1"></a><span class="kw">ls</span>()</span>
<span id="cb132-2"><a href="load.html#cb132-2"></a><span class="co">## [1] &quot;df_cead_excel&quot;       &quot;df_desiguales_csv&quot;   &quot;df_desiguales_rdata&quot;</span></span>
<span id="cb132-3"><a href="load.html#cb132-3"></a><span class="co">## [4] &quot;df_desiguales_rds&quot;   &quot;df_desiguales_spss&quot;  &quot;df_desiguales_stata&quot;</span></span>
<span id="cb132-4"><a href="load.html#cb132-4"></a><span class="co">## [7] &quot;vector_edades&quot;</span></span>
<span id="cb132-5"><a href="load.html#cb132-5"></a>df_cead_excel <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">glimpse</span>()</span>
<span id="cb132-6"><a href="load.html#cb132-6"></a><span class="co">## Rows: 79</span></span>
<span id="cb132-7"><a href="load.html#cb132-7"></a><span class="co">## Columns: 7</span></span>
<span id="cb132-8"><a href="load.html#cb132-8"></a><span class="co">## $ Medida     &lt;chr&gt; &quot;Tipo de Datos&quot;, NA, &quot;Unidad Territorial&quot;, &quot;Regione…</span></span>
<span id="cb132-9"><a href="load.html#cb132-9"></a><span class="co">## $ Frecuencia &lt;chr&gt; &quot;Casos Policiales&quot;, NA, NA, &quot;Región Metropolitana&quot;,…</span></span>
<span id="cb132-10"><a href="load.html#cb132-10"></a><span class="co">## $ ...3       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb132-11"><a href="load.html#cb132-11"></a><span class="co">## $ ...4       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb132-12"><a href="load.html#cb132-12"></a><span class="co">## $ ...5       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb132-13"><a href="load.html#cb132-13"></a><span class="co">## $ ...6       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb132-14"><a href="load.html#cb132-14"></a><span class="co">## $ ...7       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span></code></pre></div>
<p>Algo se ve mal. Si miramos de nuevo la imagen de la base de datos de la CEAD, nos daremos cuenta de lo que está pasando. Primero, el archivo de Excel tiene en sus filas iniciales información de la base de datos, pero estas no son observaciones.</p>
<div class="figure" style="text-align: center"><span id="fig:excel-example-3"></span>
<img src="00-images/load/cead_example.png" alt="Base de datos del CEAD (*Centro de Estudios y Análisis del Delito*)." width="100%" />
<p class="caption">
Figura 4.9: Base de datos del CEAD (<em>Centro de Estudios y Análisis del Delito</em>).
</p>
</div>
<p>Para resolver esto, es necesario usar <code>skip =</code>. Este argumento nos ayudará a omitir las filas que no nos interesan, en este caso, las primeras 18:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="load.html#cb133-1"></a>df_cead_excel_v2 &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/cead.xls&quot;</span>, <span class="dt">skip =</span> <span class="dv">18</span>)</span></code></pre></div>
<p>Otra forma de hacer lo mismo es delimitar la información que queremos cargar a través de un rango. Así, podemos delimitar el rango con <code>range</code>, obteniendo sólo la información que necesitamos dentro del rectángulo especificado. El rango puede ser delimitado con la letra de la columna y el número de la fila en el archivo .xls o .xlsx.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="load.html#cb134-1"></a>df_cead_excel_v3 &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/cead.xls&quot;</span>, <span class="dt">range =</span> <span class="st">&quot;A20:G81&quot;</span>)</span></code></pre></div>
<p>Comprobamos que los datos fueron cargados correctamente con <code>ls()</code>, y luego podemos ver el tipo de archivo con <code>class()</code>. Para los propósitos de este capítulo, sólo usaremos el último archivo .xls cargado (<code>df_cead_excel_v3</code>).</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="load.html#cb135-1"></a><span class="kw">ls</span>()</span>
<span id="cb135-2"><a href="load.html#cb135-2"></a><span class="co">## [1] &quot;df_cead_excel&quot;       &quot;df_cead_excel_v2&quot;    &quot;df_cead_excel_v3&quot;   </span></span>
<span id="cb135-3"><a href="load.html#cb135-3"></a><span class="co">## [4] &quot;df_desiguales_csv&quot;   &quot;df_desiguales_rdata&quot; &quot;df_desiguales_rds&quot;  </span></span>
<span id="cb135-4"><a href="load.html#cb135-4"></a><span class="co">## [7] &quot;df_desiguales_spss&quot;  &quot;df_desiguales_stata&quot; &quot;vector_edades&quot;</span></span>
<span id="cb135-5"><a href="load.html#cb135-5"></a><span class="kw">class</span>(df_cead_excel_v3)</span>
<span id="cb135-6"><a href="load.html#cb135-6"></a><span class="co">## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>Como pueden observar, es muy fácil cargar este tipo de archivos después de practicar durante un tiempo. Por ahora, esto es todo lo que necesitas saber para cargar archivos .xls o .xlsx. Es posible que tengas que lidiar con problemas de digitación, con nombres de variables imposibles o con errores de tecleo que pueden causar más de un problema al trabajar con <code>skip</code>. Pero ya sabes cómo usar algunas herramientas de <code>tidyverse</code> que pueden ayudarte con eso.</p>
<p>Intentemos hacer algunos cambios básicos en la base de datos del CEAD:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="load.html#cb136-1"></a><span class="kw">names</span>(df_cead_excel_v3)</span>
<span id="cb136-2"><a href="load.html#cb136-2"></a><span class="co">## [1] &quot;...1&quot; &quot;2013&quot; &quot;2014&quot; &quot;2015&quot; &quot;2016&quot; &quot;2017&quot; &quot;2018&quot;</span></span></code></pre></div>
<p>El primer problema es el nombre de la columna que indica la comuna. El segundo problema es que queremos una base de datos <em>ancha</em>, ¡así que no nos ayuda tener los años como columnas! Para el primer problema, usamos <code>rename</code>, y para el segundo <code>pivot_longer</code>.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="load.html#cb137-1"></a>df_cead_excel_v4 &lt;-<span class="st"> </span>df_cead_excel_v3 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb137-2"><a href="load.html#cb137-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">county =</span> <span class="st">`</span><span class="dt">...1</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb137-3"><a href="load.html#cb137-3"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">-</span>county, <span class="dt">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;n_crime&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb137-4"><a href="load.html#cb137-4"></a><span class="st">  </span><span class="kw">filter</span>(county <span class="op">!=</span><span class="st"> &quot;Unidad Territorial&quot;</span>)</span></code></pre></div>
<p>Otro problema que puede surgir al utilizar los archivos de Excel es que la información puede estar dividida en diferentes hojas. Como verás, <code>read_excel()</code> resuelve esos problemas de una manera muy simple. Para demostrarlo, utilizaremos la base de datos del <a href="http://datos.sinim.gov.cl/index.php">SINIM (<em>Sistema Nacional de Información Municipal</em>)</a>. El SINIM es un sistema de información chileno a través del cual los ciudadanos pueden acceder a una variedad de datos relativos a la administración del condado:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="load.html#cb138-1"></a>df_sinim_excel &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/sinim.xls&quot;</span>, </span>
<span id="cb138-2"><a href="load.html#cb138-2"></a>                             <span class="dt">sheet =</span> <span class="dv">2</span>, <span class="dt">skip =</span> <span class="dv">2</span>, <span class="dt">na =</span> <span class="st">&quot;Not received&quot;</span>)</span></code></pre></div>
<p>Con el argumento <code>sheet=</code> podemos seleccionar la hoja que queremos cargar en R. Se puede cargar tanto con la posición como con el nombre de la hoja. Como ya hemos aprendido, con <code>skip</code> seleccionamos el número de filas que queremos saltar al cargar la base de datos, y con <code>na</code> podemos hacerle saber al programa qué otra frase, palabra o situación tiene que ser listada como NA además de las celdas en blanco.</p>
<p>Una de las principales tareas cuando se trabaja en Excel es la limpieza de la base de datos. Desafortunadamente, estos dos ejemplos están muy extendidos, y para tratar algunos de estos problemas usamos <code>janitor</code>. Por lo general, los nombres de las variables en Excel tienden a venir de una manera muy detallada y/o descriptiva: pueden tener espacios, caracteres especiales y mayúsculas que dificultan el trabajo con nuestras variables de interés. Por ejemplo, los nombres en las columnas de esta base de datos tienen todo lo anterior:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="load.html#cb139-1"></a><span class="kw">names</span>(df_sinim_excel)</span>
<span id="cb139-2"><a href="load.html#cb139-2"></a><span class="co">## [1] &quot;CODIGO&quot;                        &quot;MUNICIPIO&quot;                    </span></span>
<span id="cb139-3"><a href="load.html#cb139-3"></a><span class="co">## [3] &quot;INGRESOS MUNICIPALES ($) 2017&quot; &quot;INGRESOS MUNICIPALES ($) 2016&quot;</span></span></code></pre></div>
<p>¿Te imaginas tener que escribir esos nombres cada vez que queramos hacer algún tipo de análisis?</p>
<p>Para eso tenemos la función <code>clean_names()</code> del paquete <code>janitor</code>. Este paquete fue creado para facilitar la limpieza de los datos, y, sin ser un paquete <code>tidyverse</code>, puede ser usado sin problemas con las tuberías. Y, para nuestra suerte, está optimizado para trabajar con <code>readr</code> y <code>readxl</code>.</p>
<p>La función <code>clean_names()</code> funciona de una manera simple después de instalar <code>janitor</code> (con <code>install.packages(“janitor")</code>):</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="load.html#cb140-1"></a>df_sinim_excel_v2 &lt;-<span class="st"> </span>df_sinim_excel <span class="op">%&gt;%</span><span class="st"> </span>janitor<span class="op">::</span><span class="kw">clean_names</span>()</span></code></pre></div>
<p>Ahora, veamos de nuevo los nombres de las variables:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="load.html#cb141-1"></a><span class="kw">names</span>(df_sinim_excel_v2)</span>
<span id="cb141-2"><a href="load.html#cb141-2"></a><span class="co">## [1] &quot;codigo&quot;                    &quot;municipio&quot;                </span></span>
<span id="cb141-3"><a href="load.html#cb141-3"></a><span class="co">## [3] &quot;ingresos_municipales_2017&quot; &quot;ingresos_municipales_2016&quot;</span></span></code></pre></div>
<p>¡Se ve mucho mejor! Estas funciones hacen que trabajar en R sea una experiencia mucho más simple y amigable, sin importar tu nivel de experiencia y lo que estés buscando hacer. Trabajar con nombres de variables puede ser un dolor de cabeza, y esta herramienta te ayudará a evitar el exceso de trabajo, permitiéndote centrarte en las partes importantes del análisis (que, por supuesto, no deberían ser nombres de columnas).</p>
<p>Con estas herramientas, deberías estar más que preparado para enfrentarse al horrible mundo de trabajar con Excel.</p>
</div>
</div>
<div id="load-large" class="section level2">
<h2><span class="header-section-number">4.4</span> Grandes bases de datos tabulares</h2>
<p>Junto con los avances tecnológicos y las conexiones más rápidas a Internet, las grandes bases de datos son muy atractivas para los científicos sociales. Recientemente ha habido un boom en lo que se llama “big data”. Sin embargo, las herramientas habituales de gestión de bases de datos tabulares tienden a no funcionar correctamente en las grandes bases de datos, y es necesario encontrar alternativas. La complejidad de enfrentarse al tamaño de las bases de datos depende de múltiples factores (por ejemplo, la naturaleza de los datos y las características de la computadora), pero, en general, una base de datos tabulares de más de 1 GB de tamaño generará problemas en R en una computadora personal media. ¿Qué podemos hacer para manejar este tipo de base de datos?</p>
<p>En la siguiente sección, trabajarás con la base de datos <em>Desiguales</em> en formato .csv, tal y como hiciste en la subsección <a href="load.html#carga-formatos">4.2</a> de este capítulo. Pretenderemos que se trata de un caso de una base de datos “gigante”, a pesar de que sólo tiene 15KB de tamaño. Por cierto, si quieres probar hacer el siguiente análisis con bases de datos del mundo real que son de interés para la ciencia política, puedes encontrar algunos para descargar en el <a href="https://atlas.media.mit.edu/es/"><em>Observatorio de Complejidad Económica</em></a>, que registra el comercio bilateral de los países por diferentes categorías productivas<a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a>.</p>
<p>Entonces, ¿cómo podemos manejar una base de datos muy grande? Una primera alternativa es evaluar la necesidad de utilizar toda la base de datos para el análisis, o, si se puede acortar antes de utilizarla. Para iniciar un análisis exploratorio que pueda aclarar este punto, recomendamos usar el argumento <code>n_max=</code> en <code>read_csv()</code> y sus funciones hermanas (por ejemplo, <code>read_tsv()</code>). De esta manera podemos examinar las primeras cien observaciones de la base de datos, haciendo que el proceso de cálculo sea menos exigente:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="load.html#cb142-1"></a>df_desiguales_large_<span class="dv">100</span> &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/desiguales.csv&quot;</span>, <span class="dt">n_max =</span> <span class="dv">100</span>)</span></code></pre></div>
<p>Seguramente tu computador manejará con facilidad esta nueva base de datos reducida. Ahora, ¿qué pasa si, después de comprobar los datos, descubres que sólo necesitas un par de variables para el análisis? Recortar la base de datos permitirá un uso eficiente de los recursos computacionales. Observe que el argumento <code>n_max</code> ya no es útil, ya que recorta las filas en lugar de las columnas. Supongamos que de la base de datos <em>Desiguales</em> (la “gigante”) sólo necesitas las variables <code>age</code> y <code>p2</code>. Con una función de asistencia de nuestro paquete <code>paqueteadp</code> (<code>cols_only_chr()</code>), puedes hacer que <code>read_rds()</code>cargue la base de datos con sólo esas dos variables, omitiendo todas las demás, y además evitando el costo computacional que implican:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="load.html#cb143-1"></a><span class="kw">library</span>(paqueteadp)</span></code></pre></div>
<pre><code>## Warning: The following named parsers don&#39;t match the column names: age</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="load.html#cb145-1"></a>df_desiguales_laod_2vars &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/desiguales.csv&quot;</span>,</span>
<span id="cb145-2"><a href="load.html#cb145-2"></a>                                       <span class="dt">col_types =</span> <span class="kw">cols_only_chr</span>(<span class="kw">c</span>(<span class="st">&quot;age&quot;</span>,</span>
<span id="cb145-3"><a href="load.html#cb145-3"></a>                                                                   <span class="st">&quot;p2&quot;</span>)))</span></code></pre></div>
<p>Sin embargo, es posible que algunos análisis no permitan la omisión de variables, o que incluso después de todos los procedimientos para reducir su tamaño, la base de datos siga siendo demasiado grande. En este caso, el ecosistema de R también proporciona alternativas.</p>
<p>Una primera opción son las funciones <code>fread()</code> del paquete <code>data.table</code>. Esta función, optimizada para la velocidad, suele ser más rápida que <code>read_csv()</code>, aunque no tiene la misma variedad de opciones y no es tan amigable en su uso. Una vez que <code>data.table</code> se instala en nuestro sistema –es decir, después de <code>install.packages("data.table")</code>– el siguiente comando nos permitirá cargar la base de datos:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="load.html#cb146-1"></a><span class="kw">library</span>(data.table)</span>
<span id="cb146-2"><a href="load.html#cb146-2"></a>df_desiguales_large_fread &lt;-<span class="st"> </span><span class="kw">fread</span>(<span class="st">&quot;data/desiguales.csv&quot;</span>)</span></code></pre></div>
<blockquote>
<p>Nota que, aunque el objeto creado es un <em>marco de datos</em>, también es un tipo especial llamado <code>data.table</code>:</p>
</blockquote>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="load.html#cb147-1"></a><span class="kw">class</span>(df_desiguales_large_fread)</span>
<span id="cb147-2"><a href="load.html#cb147-2"></a><span class="co">## [1] &quot;data.table&quot; &quot;data.frame&quot;</span></span></code></pre></div>
<p>El paquete <code>data.table</code> tiene varias funciones para tratar con grandes tipos de objetos, y tiende a ser más eficiente desde el punto de vista computacional - sin embargo, a menudo es menos intuitivo y legible. Si quieres saber más sobre <code>data.table</code>, puedes consultar las múltiples <a href="https://cran.r-project.org/web/packages/data.table/index.html">viñetas</a> disponibles en la página web del paquete.</p>
<p>Por último, si <code>data.table</code> no es lo suficientemente eficiente para tratar tus datos, tenemos otra opción disponible. El paquete <code>ff</code> proporciona una solución interesante para el problema de las grandesbases de datos: en lugar de cargarlos en la RAM, como otros paquetes, ocupa directamente el disco duro (que normalmente tiene más espacio disponible). Aunque esto hace que la mayoría de las funciones tradicionales de R no funcionen, <code>ff</code> abre la puerta para usar bases de datos gigantes: el paquete trae toda una nueva familia de funciones de análisis <em>ad hoc</em>, inspiradas en R.</p>
<p>Puede encontrar más información sobre <code>ff</code>, si es necesario, en su <a href="http://ff.r-forge.r-project.org/">página web</a> y en su R [archivo de ayuda] oficial(<a href="https://cran.r" class="uri">https://cran.r</a> project.org/web/packages/ff/ff.pdf). Si quieres intentar cargar primero una base de datos con este paquete, puedes usar el siguiente comando<a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a>. -suponiendo que el paquete esté instalado, con <code>install.packages("ff")</code>:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="load.html#cb148-1"></a><span class="kw">library</span>(ff)</span>
<span id="cb148-2"><a href="load.html#cb148-2"></a>df_desiguales_large_ff &lt;-<span class="st"> </span><span class="kw">read.csv.ffdf</span>(<span class="dt">file =</span> <span class="st">&quot;data/desiguales.csv&quot;</span>)</span></code></pre></div>
<blockquote>
<p><strong>Ejercicio 4A.</strong> Desde la página web de <a href="http://www.latinobarometro.org/latContents.jsp">Latinobarómetro</a>, descarga la edición 2017 en formato SPSS (.sav) e impórtelas a R. Ten cuidado con las etiquetas.</p>
<p><strong>Ejercicio 4B.</strong> Ahora, repite el proceso de descarga de la base de datos de Stata (.dta).</p>
</blockquote>

</div>
</div>



<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>E-mail: <a href="mailto:snaraya@uc.cl" class="email">snaraya@uc.cl</a><a href="load.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>E-mail: arcruz@uc.cl<a href="load.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>Esto no siempre es así en un archivo .csv, por ejemplo, que no contiene esta información almacenada. Lo que hace R para ese determinado formato -y otros- es inferir el tipo de formato<a href="load.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>Aunque <code>haven</code> es una parte de <code>tidyverse</code>, no está incluido en el “núcleo” del mismo. El núcleo de <code>tidyverse</code> incluye algunos paquetes, que son los más usados. El resto de los paquetes, por ejemplo <code>haven</code>, necesitan ser cargados (pero no instalados) por separado<a href="load.html#fnref18" class="footnote-back">↩︎</a></p></li>
<li id="fn19"><p> Esta es una forma de nombrar los números reales en la computación<a href="load.html#fnref19" class="footnote-back">↩︎</a></p></li>
<li id="fn20"><p>Igual que <code>haven</code>, <code>readxl</code> es una parte de <code>tidyverse</code>, pero no un miembro principal de su núcleo. Por lo tanto, es necesario cargarlo por separado<a href="load.html#fnref20" class="footnote-back">↩︎</a></p></li>
<li id="fn21"><p>Estos se encuentran en un formato .tsv, por lo que tendrás que hacer ligeras alteraciones en la sintaxis, tal y como aprendiste en la subsección de archivos .csv/.tsv (<a href="load.html#carga-formatos">4.2</a>)<a href="load.html#fnref21" class="footnote-back">↩︎</a></p></li>
<li id="fn22"><p>Es importante añadir el argumento <code>file =</code>, ya que no es el primer argumento que recibe la función en cuestión<a href="load.html#fnref22" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dataviz.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="linear.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/arcruz0/libroadp/edit/master/04-load_es.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
