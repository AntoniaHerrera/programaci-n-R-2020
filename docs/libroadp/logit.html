<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 8 Modelos logísticos | AnalizaR Datos Políticos</title>
  <meta name="description" content="Capítulo 8 Modelos logísticos | AnalizaR Datos Políticos" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 8 Modelos logísticos | AnalizaR Datos Políticos" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 8 Modelos logísticos | AnalizaR Datos Políticos" />
  
  
  

<meta name="author" content="Francisco Urdinez y Andrés Cruz Labrín (Editores)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="panel.html"/>
<link rel="next" href="surv.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script>
% https://stackoverflow.com/a/4425214/8242291
var links = document.links;

for (var i = 0, linksLength = links.length; i < linksLength; i++) {

    if (links[i].hostname != window.location.hostname) {
        links[i].target = '_blank';
    }

}
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><b><a href="./index.html"><img style="float: left; margin-right: 5px;" src="favicon.ico"></img>AnalizaR datos políticos</a></b></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#inicio"><i class="fa fa-check"></i>Inicio</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cómo-contribuir"><i class="fa fa-check"></i>¿Cómo contribuir?</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sobre-los-autores-y-autoras"><i class="fa fa-check"></i>Sobre los autores y autoras</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prefacio"><i class="fa fa-check"></i>Prefacio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimientos"><i class="fa fa-check"></i>Agradecimientos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#qué-esperar-del-libro"><i class="fa fa-check"></i>Qué esperar del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estructura-del-libro"><i class="fa fa-check"></i>Estructura del libro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#cómo-utilizar-el-libro-en-un-curso-de-métodos"><i class="fa fa-check"></i>¿Cómo utilizar el libro en un curso de métodos?</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#primera-opción-curso-semestral-de-análisis-de-datos-políticos"><i class="fa fa-check"></i>Primera opción: Curso semestral de análisis de datos políticos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#segunda-opción-curso-semestral-de-introducción-a-métodos-cuantitativos"><i class="fa fa-check"></i>Segunda opción: Curso semestral de introducción a métodos cuantitativos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerrequisitos"><i class="fa fa-check"></i>Prerrequisitos</a></li>
</ul></li>
<li class="part"><span><b>I Introducción a R</b></span></li>
<li class="chapter" data-level="1" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>1</b> R Básico</a><ul>
<li class="chapter" data-level="1.1" data-path="basic-r.html"><a href="basic-r.html#instalación"><i class="fa fa-check"></i><b>1.1</b> Instalación</a><ul>
<li class="chapter" data-level="" data-path="basic-r.html"><a href="basic-r.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="basic-r.html"><a href="basic-r.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basic-r.html"><a href="basic-r.html#consola"><i class="fa fa-check"></i><b>1.2</b> Consola</a></li>
<li class="chapter" data-level="1.3" data-path="basic-r.html"><a href="basic-r.html#script"><i class="fa fa-check"></i><b>1.3</b> Script</a></li>
<li class="chapter" data-level="1.4" data-path="basic-r.html"><a href="basic-r.html#objetos-y-funciones"><i class="fa fa-check"></i><b>1.4</b> Objetos (y funciones)</a><ul>
<li class="chapter" data-level="1.4.1" data-path="basic-r.html"><a href="basic-r.html#vectores"><i class="fa fa-check"></i><b>1.4.1</b> Vectores</a></li>
<li class="chapter" data-level="1.4.2" data-path="basic-r.html"><a href="basic-r.html#basic-r-functions"><i class="fa fa-check"></i><b>1.4.2</b> Functions</a></li>
<li class="chapter" data-level="1.4.3" data-path="basic-r.html"><a href="basic-r.html#archivos-gráficos-paquetes-ayuda"><i class="fa fa-check"></i><b>1.4.3</b> Archivos / gráficos / paquetes / ayuda</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Manejo de datos</a><ul>
<li class="chapter" data-level="" data-path="data.html"><a href="data.html#los-paquetes-que-necesitas-instalar"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#introducción-al-manejo-de-datos"><i class="fa fa-check"></i><b>2.1</b> Introducción al manejo de datos</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data.html"><a href="data.html#nuestra-base-de-datos"><i class="fa fa-check"></i><b>2.1.1</b> Nuestra base de datos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#describiendo-una-base-de-datos"><i class="fa fa-check"></i><b>2.2</b> Describiendo una base de datos</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#operaciones-básicas"><i class="fa fa-check"></i><b>2.3</b> Operaciones básicas</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data.html"><a href="data.html#seleccionar-columnas"><i class="fa fa-check"></i><b>2.3.1</b> Seleccionar columnas</a></li>
<li class="chapter" data-level="2.3.2" data-path="data.html"><a href="data.html#renombra-las-columnas"><i class="fa fa-check"></i><b>2.3.2</b> Renombra las columnas</a></li>
<li class="chapter" data-level="2.3.3" data-path="data.html"><a href="data.html#filtrar-las-observaciones"><i class="fa fa-check"></i><b>2.3.3</b> Filtrar las observaciones</a></li>
<li class="chapter" data-level="2.3.4" data-path="data.html"><a href="data.html#cambiar-el-orden-de-una-base-de-datos"><i class="fa fa-check"></i><b>2.3.4</b> Cambiar el orden de una base de datos</a></li>
<li class="chapter" data-level="2.3.5" data-path="data.html"><a href="data.html#transformar-y-crear-variables"><i class="fa fa-check"></i><b>2.3.5</b> Transformar y crear variables</a></li>
<li class="chapter" data-level="2.3.6" data-path="data.html"><a href="data.html#resúmenes"><i class="fa fa-check"></i><b>2.3.6</b> Resúmenes</a></li>
<li class="chapter" data-level="2.3.7" data-path="data.html"><a href="data.html#resúmenes-por-grupo"><i class="fa fa-check"></i><b>2.3.7</b> Resúmenes por grupo</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data.html"><a href="data.html#comandos-en-cadena"><i class="fa fa-check"></i><b>2.4</b> Comandos en cadena</a></li>
<li class="chapter" data-level="2.5" data-path="data.html"><a href="data.html#data-recodificar"><i class="fa fa-check"></i><b>2.5</b> Recodificar valores</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data.html"><a href="data.html#pivoteo-de-datos-data-pivot"><i class="fa fa-check"></i><b>2.5.1</b> Pivoteo de datos {data-pivot}</a></li>
<li class="chapter" data-level="2.5.2" data-path="data.html"><a href="data.html#bases-de-datos-anchas-con-más-de-una-variable-de-interés"><i class="fa fa-check"></i><b>2.5.2</b> Bases de datos anchas con más de una variable de interés</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Visualización de datos</a><ul>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#lecturas-sugeridas"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="dataviz.html"><a href="dataviz.html#los-paquetes-que-necesitas-instalar-1"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#por-qué-visualizar-mis-datos"><i class="fa fa-check"></i><b>3.1</b> ¿Por qué visualizar mis datos?</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#primeros-pasos"><i class="fa fa-check"></i><b>3.2</b> Primeros pasos</a><ul>
<li class="chapter" data-level="3.2.1" data-path="dataviz.html"><a href="dataviz.html#las-capas-del-universo-ggplotiano"><i class="fa fa-check"></i><b>3.2.1</b> Las capas del “universo ggplotiano”</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#ejemplo-aplicado-elecciones-locales-y-visualización-de-datos"><i class="fa fa-check"></i><b>3.3</b> Ejemplo aplicado: Elecciones locales y visualización de datos</a><ul>
<li class="chapter" data-level="3.3.1" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-barras"><i class="fa fa-check"></i><b>3.3.1</b> Gráfico de barras</a></li>
<li class="chapter" data-level="3.3.2" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-líneas"><i class="fa fa-check"></i><b>3.3.2</b> Gráfico de líneas</a></li>
<li class="chapter" data-level="3.3.3" data-path="dataviz.html"><a href="dataviz.html#gráfico-de-caja"><i class="fa fa-check"></i><b>3.3.3</b> Gráfico de caja</a></li>
<li class="chapter" data-level="3.3.4" data-path="dataviz.html"><a href="dataviz.html#histograma"><i class="fa fa-check"></i><b>3.3.4</b> Histograma</a></li>
<li class="chapter" data-level="3.3.5" data-path="dataviz.html"><a href="dataviz.html#relación-entre-las-variables"><i class="fa fa-check"></i><b>3.3.5</b> Relación entre las variables</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#para-continuar-aprendiendo"><i class="fa fa-check"></i><b>3.4</b> Para continuar aprendiendo</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="load.html"><a href="load.html"><i class="fa fa-check"></i><b>4</b> Carga de bases</a><ul>
<li class="chapter" data-level="" data-path="load.html"><a href="load.html#los-paquetes-que-necesitas-instalar-2"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="4.1" data-path="load.html"><a href="load.html#load-intro"><i class="fa fa-check"></i><b>4.1</b> Introducción</a></li>
<li class="chapter" data-level="4.2" data-path="load.html"><a href="load.html#carga-formatos"><i class="fa fa-check"></i><b>4.2</b> Diferentes formatos de bases de datos</a></li>
<li class="chapter" data-level="4.3" data-path="load.html"><a href="load.html#los-archivos-separados-por-delimitadores-.csv-y-.tsv"><i class="fa fa-check"></i><b>4.3</b> Los archivos separados por delimitadores (.csv y .tsv)</a><ul>
<li class="chapter" data-level="4.3.1" data-path="load.html"><a href="load.html#r-básico-utils"><i class="fa fa-check"></i><b>4.3.1</b> R básico: <code>utils</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="load.html"><a href="load.html#load-r"><i class="fa fa-check"></i><b>4.3.2</b> Archivos creados con R (.Rdata y .rds)</a></li>
<li class="chapter" data-level="4.3.3" data-path="load.html"><a href="load.html#load-labels"><i class="fa fa-check"></i><b>4.3.3</b> Bases de datos con etiquetas (de Stata or SPSS)</a></li>
<li class="chapter" data-level="4.3.4" data-path="load.html"><a href="load.html#load-excel"><i class="fa fa-check"></i><b>4.3.4</b> Archivos de Excel</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="load.html"><a href="load.html#load-large"><i class="fa fa-check"></i><b>4.4</b> Grandes bases de datos tabulares</a></li>
</ul></li>
<li class="part"><span><b>II Modelos</b></span></li>
<li class="chapter" data-level="5" data-path="linear.html"><a href="linear.html"><i class="fa fa-check"></i><b>5</b> Modelos lineales</a><ul>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#lecturas-sugeridas-1"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#los-paquetes-que-necesitas-instalar-3"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="" data-path="linear.html"><a href="linear.html#introducción-1"><i class="fa fa-check"></i>Introducción</a></li>
<li class="chapter" data-level="5.1" data-path="linear.html"><a href="linear.html#mínimos-cuadrados-ordinarios-en-r"><i class="fa fa-check"></i><b>5.1</b> Mínimos cuadrados ordinarios en R</a><ul>
<li class="chapter" data-level="5.1.1" data-path="linear.html"><a href="linear.html#cómo-obtener-estadísticas-descriptivas"><i class="fa fa-check"></i><b>5.1.1</b> Cómo obtener estadísticas descriptivas</a></li>
<li class="chapter" data-level="5.1.2" data-path="linear.html"><a href="linear.html#estadísticas-descriptivas-y-distribución-de-las-variables-en-el-modelo"><i class="fa fa-check"></i><b>5.1.2</b> Estadísticas descriptivas y distribución de las variables en el modelo</a></li>
<li class="chapter" data-level="5.1.3" data-path="linear.html"><a href="linear.html#matriz-de-correlación-de-variables-independientes"><i class="fa fa-check"></i><b>5.1.3</b> Matriz de correlación de variables independientes</a></li>
<li class="chapter" data-level="5.1.4" data-path="linear.html"><a href="linear.html#distribución-de-las-variables-de-interés"><i class="fa fa-check"></i><b>5.1.4</b> Distribución de las variables de interés</a></li>
<li class="chapter" data-level="5.1.5" data-path="linear.html"><a href="linear.html#relación-entre-la-variable-dependiente-e-independiente"><i class="fa fa-check"></i><b>5.1.5</b> Relación entre la variable dependiente e independiente</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="linear.html"><a href="linear.html#modelo-bivariado-regresión-lineal-simple"><i class="fa fa-check"></i><b>5.2</b> Modelo bivariado: regresión lineal simple</a><ul>
<li class="chapter" data-level="5.2.1" data-path="linear.html"><a href="linear.html#la-función-lm"><i class="fa fa-check"></i><b>5.2.1</b> La función <code>lm</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="linear.html"><a href="linear.html#representación-gráfica"><i class="fa fa-check"></i><b>5.2.2</b> Representación gráfica</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="linear.html"><a href="linear.html#modelo-multivariado-regresión-múltiple"><i class="fa fa-check"></i><b>5.3</b> Modelo multivariado: regresión múltiple</a></li>
<li class="chapter" data-level="5.4" data-path="linear.html"><a href="linear.html#ajuste-del-modelo"><i class="fa fa-check"></i><b>5.4</b> Ajuste del modelo</a></li>
<li class="chapter" data-level="5.5" data-path="linear.html"><a href="linear.html#inferencia-en-los-modelos-lineales-múltiples"><i class="fa fa-check"></i><b>5.5</b> Inferencia en los modelos lineales múltiples</a></li>
<li class="chapter" data-level="5.6" data-path="linear.html"><a href="linear.html#testeando-los-supuestos-de-mco"><i class="fa fa-check"></i><b>5.6</b> Testeando los supuestos de MCO</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="case-sel.html"><a href="case-sel.html"><i class="fa fa-check"></i><b>6</b> Selección de casos basada en regresiones</a><ul>
<li class="chapter" data-level="" data-path="case-sel.html"><a href="case-sel.html#lecturas-sugeridas-2"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="case-sel.html"><a href="case-sel.html#los-paquetes-que-necesitas-instalar-4"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="6.1" data-path="case-sel.html"><a href="case-sel.html#selección-de-estudios-de-casos"><i class="fa fa-check"></i><b>6.1</b> Selección de estudios de casos</a></li>
<li class="chapter" data-level="6.2" data-path="case-sel.html"><a href="case-sel.html#qué-estudio-de-caso-debería-seleccionar-para-la-investigación-cualitativa"><i class="fa fa-check"></i><b>6.2</b> ¿Qué estudio de caso debería seleccionar para la investigación cualitativa?</a><ul>
<li class="chapter" data-level="6.2.1" data-path="case-sel.html"><a href="case-sel.html#casos-típicos"><i class="fa fa-check"></i><b>6.2.1</b> Casos típicos</a></li>
<li class="chapter" data-level="6.2.2" data-path="case-sel.html"><a href="case-sel.html#los-valores-atípicos"><i class="fa fa-check"></i><b>6.2.2</b> Los valores atípicos</a></li>
<li class="chapter" data-level="6.2.3" data-path="case-sel.html"><a href="case-sel.html#casos-influyentes"><i class="fa fa-check"></i><b>6.2.3</b> Casos influyentes</a></li>
<li class="chapter" data-level="6.2.4" data-path="case-sel.html"><a href="case-sel.html#casos-extremos"><i class="fa fa-check"></i><b>6.2.4</b> Casos extremos</a></li>
<li class="chapter" data-level="6.2.5" data-path="case-sel.html"><a href="case-sel.html#casos-más-similares"><i class="fa fa-check"></i><b>6.2.5</b> Casos más similares</a></li>
<li class="chapter" data-level="6.2.6" data-path="case-sel.html"><a href="case-sel.html#casos-mas-diferentes"><i class="fa fa-check"></i><b>6.2.6</b> Casos mas diferentes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="case-sel.html"><a href="case-sel.html#la-importancia-de-la-combinación-de-métodos"><i class="fa fa-check"></i><b>6.3</b> La importancia de la combinación de métodos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="panel.html"><a href="panel.html"><i class="fa fa-check"></i><b>7</b> Modelos de panel</a><ul>
<li class="chapter" data-level="" data-path="panel.html"><a href="panel.html#lecturas-sugeridas-3"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="panel.html"><a href="panel.html#los-paquetes-que-necesitas-instalar-5"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="7.1" data-path="panel.html"><a href="panel.html#introducción-2"><i class="fa fa-check"></i><b>7.1</b> Introducción</a></li>
<li class="chapter" data-level="7.2" data-path="panel.html"><a href="panel.html#describiendo-la-base-de-datos-en-panel"><i class="fa fa-check"></i><b>7.2</b> Describiendo la base de datos en panel</a><ul>
<li class="chapter" data-level="7.2.1" data-path="panel.html"><a href="panel.html#opción-a.-gráfico-de-líneas"><i class="fa fa-check"></i><b>7.2.1</b> Opción A. Gráfico de líneas</a></li>
<li class="chapter" data-level="7.2.2" data-path="panel.html"><a href="panel.html#option-b.-gráfico-de-cajas"><i class="fa fa-check"></i><b>7.2.2</b> Option B. Gráfico de cajas</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="panel.html"><a href="panel.html#modelización-de-la-variación-a-nivel-de-grupo"><i class="fa fa-check"></i><b>7.3</b> Modelización de la variación a nivel de grupo</a></li>
<li class="chapter" data-level="7.4" data-path="panel.html"><a href="panel.html#efectos-fijos-vs.-efectos-aleatorios"><i class="fa fa-check"></i><b>7.4</b> Efectos fijos vs. efectos aleatorios</a><ul>
<li class="chapter" data-level="7.4.1" data-path="panel.html"><a href="panel.html#test-de-hausman"><i class="fa fa-check"></i><b>7.4.1</b> Test de Hausman</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="panel.html"><a href="panel.html#testeando-raíces-unitarias"><i class="fa fa-check"></i><b>7.5</b> Testeando raíces unitarias</a><ul>
<li class="chapter" data-level="7.5.1" data-path="panel.html"><a href="panel.html#creación-de-variables-rezagadas-lags-y-variables-prospectivas-leads"><i class="fa fa-check"></i><b>7.5.1</b> Creación de variables rezagadas (<em>lags</em>) y variables prospectivas (<em>leads</em>)</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="panel.html"><a href="panel.html#errores-estándar-robustos-corregidos-para-panel"><i class="fa fa-check"></i><b>7.6</b> Errores estándar robustos corregidos para panel</a><ul>
<li class="chapter" data-level="7.6.1" data-path="panel.html"><a href="panel.html#errores-estándar-robustos-1"><i class="fa fa-check"></i><b>7.6.1</b> Errores estándar robustos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>8</b> Modelos logísticos</a><ul>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#lecturas-sugeridas-4"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="logit.html"><a href="logit.html#los-paquetes-que-necesitas-instalar-6"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="8.1" data-path="logit.html"><a href="logit.html#introducción-3"><i class="fa fa-check"></i><b>8.1</b> Introducción</a></li>
<li class="chapter" data-level="8.2" data-path="logit.html"><a href="logit.html#uso-de-los-modelos-logísticos"><i class="fa fa-check"></i><b>8.2</b> Uso de los modelos logísticos</a></li>
<li class="chapter" data-level="8.3" data-path="logit.html"><a href="logit.html#cómo-se-estiman-las-probabilidades"><i class="fa fa-check"></i><b>8.3</b> ¿Cómo se estiman las probabilidades?</a></li>
<li class="chapter" data-level="8.4" data-path="logit.html"><a href="logit.html#estimación-de-los-modelos"><i class="fa fa-check"></i><b>8.4</b> Estimación de los modelos</a></li>
<li class="chapter" data-level="8.5" data-path="logit.html"><a href="logit.html#creando-tablas"><i class="fa fa-check"></i><b>8.5</b> Creando tablas</a></li>
<li class="chapter" data-level="8.6" data-path="logit.html"><a href="logit.html#representación-visual-de-los-resultados"><i class="fa fa-check"></i><b>8.6</b> Representación visual de los resultados</a><ul>
<li class="chapter" data-level="8.6.1" data-path="logit.html"><a href="logit.html#visualización-de-las-interacciones-entre-las-variables"><i class="fa fa-check"></i><b>8.6.1</b> Visualización de las interacciones entre las variables</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="logit.html"><a href="logit.html#medidas-para-evaluar-el-ajuste-de-los-modelos"><i class="fa fa-check"></i><b>8.7</b> Medidas para evaluar el ajuste de los modelos</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="surv.html"><a href="surv.html"><i class="fa fa-check"></i><b>9</b> Modelos de supervivencia</a><ul>
<li class="chapter" data-level="" data-path="surv.html"><a href="surv.html#lecturas-sugeridas-5"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="surv.html"><a href="surv.html#los-paquetes-que-necesitas-instalar-7"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="9.1" data-path="surv.html"><a href="surv.html#introducción-4"><i class="fa fa-check"></i><b>9.1</b> Introducción</a></li>
<li class="chapter" data-level="9.2" data-path="surv.html"><a href="surv.html#cómo-interpretamos-las-tasas-de-riesgo"><i class="fa fa-check"></i><b>9.2</b> ¿Cómo interpretamos las tasas de riesgo?</a></li>
<li class="chapter" data-level="9.3" data-path="surv.html"><a href="surv.html#el-modelo-cox-de-riesgos-proporcionales"><i class="fa fa-check"></i><b>9.3</b> El modelo Cox de riesgos proporcionales</a></li>
<li class="chapter" data-level="9.4" data-path="surv.html"><a href="surv.html#estimación-de-los-modelos-de-cox-en-r"><i class="fa fa-check"></i><b>9.4</b> Estimación de los modelos de Cox en R</a></li>
<li class="chapter" data-level="9.5" data-path="surv.html"><a href="surv.html#modelos-de-supervivencia-e-interpretación-sus-coeficientes-como-hazard-ratios."><i class="fa fa-check"></i><b>9.5</b> Modelos de supervivencia e interpretación sus coeficientes como Hazard Ratios.</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="causal-inf.html"><a href="causal-inf.html"><i class="fa fa-check"></i><b>10</b> Inferencia causal</a><ul>
<li class="chapter" data-level="" data-path="causal-inf.html"><a href="causal-inf.html#lecturas-sugeridas-6"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="causal-inf.html"><a href="causal-inf.html#los-paquetes-que-necesitas-instalar-8"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="10.1" data-path="causal-inf.html"><a href="causal-inf.html#introducción-5"><i class="fa fa-check"></i><b>10.1</b> Introducción</a></li>
<li class="chapter" data-level="10.2" data-path="causal-inf.html"><a href="causal-inf.html#causalidad-y-gráficos-causales"><i class="fa fa-check"></i><b>10.2</b> Causalidad y gráficos causales</a></li>
<li class="chapter" data-level="10.3" data-path="causal-inf.html"><a href="causal-inf.html#midiendo-efectos-causales"><i class="fa fa-check"></i><b>10.3</b> Midiendo efectos causales</a></li>
<li class="chapter" data-level="10.4" data-path="causal-inf.html"><a href="causal-inf.html#dags-y-asociaciones-estadísticas"><i class="fa fa-check"></i><b>10.4</b> DAGs y asociaciones estadísticas</a></li>
<li class="chapter" data-level="10.5" data-path="causal-inf.html"><a href="causal-inf.html#puertas-traseras-y-cálculos-hacer"><i class="fa fa-check"></i><b>10.5</b> Puertas traseras y cálculos “<em>hacer</em>”</a></li>
<li class="chapter" data-level="10.6" data-path="causal-inf.html"><a href="causal-inf.html#dibujar-y-analizar-dags"><i class="fa fa-check"></i><b>10.6</b> Dibujar y analizar DAGs</a><ul>
<li class="chapter" data-level="10.6.1" data-path="causal-inf.html"><a href="causal-inf.html#dibujar-un-dag-con-dagitty"><i class="fa fa-check"></i><b>10.6.1</b> Dibujar un DAG con DAGitty</a></li>
<li class="chapter" data-level="10.6.2" data-path="causal-inf.html"><a href="causal-inf.html#encontrar-sets-de-ajuste-con-dagitty"><i class="fa fa-check"></i><b>10.6.2</b> Encontrar sets de ajuste con DAGitty</a></li>
<li class="chapter" data-level="10.6.3" data-path="causal-inf.html"><a href="causal-inf.html#diseñar-dags-en-r"><i class="fa fa-check"></i><b>10.6.3</b> Diseñar DAGs en R</a></li>
<li class="chapter" data-level="10.6.4" data-path="causal-inf.html"><a href="causal-inf.html#encontrar-caminos-y-sets-de-ajustes-con-r"><i class="fa fa-check"></i><b>10.6.4</b> Encontrar caminos y sets de ajustes con R</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="causal-inf.html"><a href="causal-inf.html#haciendo-ajustes-causales"><i class="fa fa-check"></i><b>10.7</b> Haciendo ajustes causales</a><ul>
<li class="chapter" data-level="10.7.1" data-path="causal-inf.html"><a href="causal-inf.html#datos-de-redes-para-mosquitos"><i class="fa fa-check"></i><b>10.7.1</b> Datos de redes para mosquitos</a></li>
<li class="chapter" data-level="10.7.2" data-path="causal-inf.html"><a href="causal-inf.html#verificar-las-independencias-condicionales"><i class="fa fa-check"></i><b>10.7.2</b> Verificar las independencias condicionales</a></li>
<li class="chapter" data-level="10.7.3" data-path="causal-inf.html"><a href="causal-inf.html#encuentra-el-set-de-ajuste"><i class="fa fa-check"></i><b>10.7.3</b> Encuentra el set de ajuste</a></li>
<li class="chapter" data-level="10.7.4" data-path="causal-inf.html"><a href="causal-inf.html#estimación-ingenua-no-ajustada"><i class="fa fa-check"></i><b>10.7.4</b> Estimación ingenua no ajustada</a></li>
<li class="chapter" data-level="10.7.5" data-path="causal-inf.html"><a href="causal-inf.html#regresiones"><i class="fa fa-check"></i><b>10.7.5</b> Regresiones</a></li>
<li class="chapter" data-level="10.7.6" data-path="causal-inf.html"><a href="causal-inf.html#matching"><i class="fa fa-check"></i><b>10.7.6</b> Matching</a></li>
<li class="chapter" data-level="10.7.7" data-path="causal-inf.html"><a href="causal-inf.html#ponderación-de-probabilidad-inversa"><i class="fa fa-check"></i><b>10.7.7</b> Ponderación de probabilidad inversa</a></li>
<li class="chapter" data-level="10.7.8" data-path="causal-inf.html"><a href="causal-inf.html#comparando-todos-los-métodos"><i class="fa fa-check"></i><b>10.7.8</b> Comparando todos los métodos</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="causal-inf.html"><a href="causal-inf.html#consejos-finales"><i class="fa fa-check"></i><b>10.8</b> Consejos finales</a></li>
</ul></li>
<li class="part"><span><b>III Aplicaciones</b></span></li>
<li class="chapter" data-level="11" data-path="adv-data.html"><a href="adv-data.html"><i class="fa fa-check"></i><b>11</b> Manejo avanzado de datos políticos</a><ul>
<li class="chapter" data-level="" data-path="adv-data.html"><a href="adv-data.html#lecturas-sugeridas-7"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="adv-data.html"><a href="adv-data.html#los-paquetes-que-necesitas-instalar-9"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="11.1" data-path="adv-data.html"><a href="adv-data.html#introducción-6"><i class="fa fa-check"></i><b>11.1</b> Introducción</a></li>
<li class="chapter" data-level="11.2" data-path="adv-data.html"><a href="adv-data.html#uniendo-bases-de-datos"><i class="fa fa-check"></i><b>11.2</b> Uniendo bases de datos</a></li>
<li class="chapter" data-level="11.3" data-path="adv-data.html"><a href="adv-data.html#estandarizando-los-códigos-de-país"><i class="fa fa-check"></i><b>11.3</b> Estandarizando los códigos de país</a></li>
<li class="chapter" data-level="11.4" data-path="adv-data.html"><a href="adv-data.html#la-unión-borrosa-o-inexacta-de-los-datos"><i class="fa fa-check"></i><b>11.4</b> La unión borrosa o inexacta de los datos</a></li>
<li class="chapter" data-level="11.5" data-path="adv-data.html"><a href="adv-data.html#gestión-de-valores-perdidos"><i class="fa fa-check"></i><b>11.5</b> Gestión de valores perdidos</a><ul>
<li class="chapter" data-level="11.5.1" data-path="adv-data.html"><a href="adv-data.html#tipos-de-valores-perdidos"><i class="fa fa-check"></i><b>11.5.1</b> Tipos de valores perdidos</a></li>
<li class="chapter" data-level="11.5.2" data-path="adv-data.html"><a href="adv-data.html#descripción-de-los-valores-que-faltan-en-la-base-de-datos"><i class="fa fa-check"></i><b>11.5.2</b> Descripción de los valores que faltan en la base de datos</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="adv-data.html"><a href="adv-data.html#imputación-de-valores-perdidos"><i class="fa fa-check"></i><b>11.6</b> Imputación de valores perdidos</a><ul>
<li class="chapter" data-level="11.6.1" data-path="adv-data.html"><a href="adv-data.html#regresiones-luego-de-imputar-datos"><i class="fa fa-check"></i><b>11.6.1</b> Regresiones luego de imputar datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="web-mining.html"><a href="web-mining.html"><i class="fa fa-check"></i><b>12</b> Minería de datos web</a><ul>
<li class="chapter" data-level="" data-path="web-mining.html"><a href="web-mining.html#lecturas-sugeridas-8"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="web-mining.html"><a href="web-mining.html#los-paquetes-que-necesitas-instalar-10"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="12.1" data-path="web-mining.html"><a href="web-mining.html#introducción-7"><i class="fa fa-check"></i><b>12.1</b> Introducción</a></li>
<li class="chapter" data-level="12.2" data-path="web-mining.html"><a href="web-mining.html#formas-de-hacer-web-scraping"><i class="fa fa-check"></i><b>12.2</b> Formas de hacer web scraping</a><ul>
<li class="chapter" data-level="12.2.1" data-path="web-mining.html"><a href="web-mining.html#estándar-de-exclusión-de-robot"><i class="fa fa-check"></i><b>12.2.1</b> Estándar de exclusión de robot</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="web-mining.html"><a href="web-mining.html#web-scraping-en-r"><i class="fa fa-check"></i><b>12.3</b> Web scraping en R</a><ul>
<li class="chapter" data-level="12.3.1" data-path="web-mining.html"><a href="web-mining.html#ejemplo-aplicado-los-comunicados-de-prensa-de-la-organización-de-estados-americanos-oea"><i class="fa fa-check"></i><b>12.3.1</b> Ejemplo aplicado: los comunicados de prensa de la Organización de Estados Americanos (OEA)</a></li>
<li class="chapter" data-level="12.3.2" data-path="web-mining.html"><a href="web-mining.html#caraga-el-html-para-trabajar-con-r"><i class="fa fa-check"></i><b>12.3.2</b> Caraga el html para trabajar con R</a></li>
<li class="chapter" data-level="12.3.3" data-path="web-mining.html"><a href="web-mining.html#extraer-la-información-con-html_nodes-html_text"><i class="fa fa-check"></i><b>12.3.3</b> Extraer la información con <code>html_nodes()</code> + <code>html_text()</code></a></li>
<li class="chapter" data-level="12.3.4" data-path="web-mining.html"><a href="web-mining.html#iteraciones"><i class="fa fa-check"></i><b>12.3.4</b> Iteraciones</a></li>
<li class="chapter" data-level="12.3.5" data-path="web-mining.html"><a href="web-mining.html#funciones-personalizadas-recetas"><i class="fa fa-check"></i><b>12.3.5</b> Funciones personalizadas (recetas)</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="web-mining.html"><a href="web-mining.html#usando-apis-y-extrayendo-datos-de-twitter"><i class="fa fa-check"></i><b>12.4</b> Usando APIs y extrayendo datos de Twitter</a><ul>
<li class="chapter" data-level="12.4.1" data-path="web-mining.html"><a href="web-mining.html#buscar-una-palabra-clave"><i class="fa fa-check"></i><b>12.4.1</b> Buscar una palabra clave</a></li>
<li class="chapter" data-level="12.4.2" data-path="web-mining.html"><a href="web-mining.html#buscar-una-frase"><i class="fa fa-check"></i><b>12.4.2</b> Buscar una frase</a></li>
<li class="chapter" data-level="12.4.3" data-path="web-mining.html"><a href="web-mining.html#descargando-características-relacionadas-con-los-usuarios-de-twitter"><i class="fa fa-check"></i><b>12.4.3</b> Descargando características relacionadas con los usuarios de Twitter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="qta.html"><a href="qta.html"><i class="fa fa-check"></i><b>13</b> Análisis cuantitativo de textos políticos</a><ul>
<li class="chapter" data-level="" data-path="qta.html"><a href="qta.html#lecturas-recomendadas"><i class="fa fa-check"></i>Lecturas recomendadas</a></li>
<li class="chapter" data-level="" data-path="qta.html"><a href="qta.html#paquetes-que-necesitas-instalar"><i class="fa fa-check"></i>Paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="13.1" data-path="qta.html"><a href="qta.html#sqta1"><i class="fa fa-check"></i><b>13.1</b> Análisis de hashtags políticos</a><ul>
<li class="chapter" data-level="13.1.1" data-path="qta.html"><a href="qta.html#exploración-de-datos-de-twitter"><i class="fa fa-check"></i><b>13.1.1</b> Exploración de datos de Twitter</a></li>
<li class="chapter" data-level="13.1.2" data-path="qta.html"><a href="qta.html#diagnóstico-visual"><i class="fa fa-check"></i><b>13.1.2</b> Diagnóstico visual</a></li>
<li class="chapter" data-level="13.1.3" data-path="qta.html"><a href="qta.html#hashtags-más-utilizados"><i class="fa fa-check"></i><b>13.1.3</b> Hashtags más utilizados</a></li>
<li class="chapter" data-level="13.1.4" data-path="qta.html"><a href="qta.html#wordclouds-nubes-de-palabras"><i class="fa fa-check"></i><b>13.1.4</b> Wordclouds (Nubes de palabras)</a></li>
<li class="chapter" data-level="13.1.5" data-path="qta.html"><a href="qta.html#nubes-de-palabras-por-grupos"><i class="fa fa-check"></i><b>13.1.5</b> Nubes de palabras por grupos</a></li>
<li class="chapter" data-level="13.1.6" data-path="qta.html"><a href="qta.html#gráficos-de-barras"><i class="fa fa-check"></i><b>13.1.6</b> Gráficos de barras</a></li>
<li class="chapter" data-level="13.1.7" data-path="qta.html"><a href="qta.html#variación-temporal-en-el-uso-de-hashtags"><i class="fa fa-check"></i><b>13.1.7</b> Variación temporal en el uso de hashtags</a></li>
<li class="chapter" data-level="13.1.8" data-path="qta.html"><a href="qta.html#para-resumir"><i class="fa fa-check"></i><b>13.1.8</b> Para resumir</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="qta.html"><a href="qta.html#wordfish"><i class="fa fa-check"></i><b>13.2</b> Wordfish</a><ul>
<li class="chapter" data-level="13.2.1" data-path="qta.html"><a href="qta.html#inspección-y-limpieza-de-datos"><i class="fa fa-check"></i><b>13.2.1</b> Inspección y limpieza de datos</a></li>
<li class="chapter" data-level="13.2.2" data-path="qta.html"><a href="qta.html#pre-procesamiento"><i class="fa fa-check"></i><b>13.2.2</b> Pre-procesamiento</a></li>
<li class="chapter" data-level="13.2.3" data-path="qta.html"><a href="qta.html#sqta2"><i class="fa fa-check"></i><b>13.2.3</b> Wordfish</a></li>
<li class="chapter" data-level="13.2.4" data-path="qta.html"><a href="qta.html#qué-aprendimos-de-wordfish"><i class="fa fa-check"></i><b>13.2.4</b> ¿Qué aprendimos de Wordfish?</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="qta.html"><a href="qta.html#sqta3"><i class="fa fa-check"></i><b>13.3</b> Structural Topic Modeling (STM)</a><ul>
<li class="chapter" data-level="13.3.1" data-path="qta.html"><a href="qta.html#pre-procesamiento-1"><i class="fa fa-check"></i><b>13.3.1</b> Pre-procesamiento</a></li>
<li class="chapter" data-level="13.3.2" data-path="qta.html"><a href="qta.html#diagnósticos"><i class="fa fa-check"></i><b>13.3.2</b> Diagnósticos</a></li>
<li class="chapter" data-level="13.3.3" data-path="qta.html"><a href="qta.html#análisis"><i class="fa fa-check"></i><b>13.3.3</b> Análisis</a></li>
<li class="chapter" data-level="13.3.4" data-path="qta.html"><a href="qta.html#observaciones-finales"><i class="fa fa-check"></i><b>13.3.4</b> Observaciones finales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="networks.html"><a href="networks.html"><i class="fa fa-check"></i><b>14</b> Análisis de redes</a><ul>
<li class="chapter" data-level="" data-path="networks.html"><a href="networks.html#lecturas-sugeridas-9"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="networks.html"><a href="networks.html#los-paquetes-que-necesitas-instalar-11"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="14.1" data-path="networks.html"><a href="networks.html#introducción-8"><i class="fa fa-check"></i><b>14.1</b> Introducción</a></li>
<li class="chapter" data-level="14.2" data-path="networks.html"><a href="networks.html#conceptos-básicos-en-una-red"><i class="fa fa-check"></i><b>14.2</b> Conceptos básicos en una red</a><ul>
<li class="chapter" data-level="14.2.1" data-path="networks.html"><a href="networks.html#nodos-y-enlaces"><i class="fa fa-check"></i><b>14.2.1</b> Nodos y enlaces</a></li>
<li class="chapter" data-level="14.2.2" data-path="networks.html"><a href="networks.html#matriz-de-adyacencia"><i class="fa fa-check"></i><b>14.2.2</b> Matriz de adyacencia</a></li>
<li class="chapter" data-level="14.2.3" data-path="networks.html"><a href="networks.html#pesos-y-direcciones"><i class="fa fa-check"></i><b>14.2.3</b> Pesos y direcciones</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="networks.html"><a href="networks.html#bases-de-datos-de-la-red"><i class="fa fa-check"></i><b>14.3</b> Bases de datos de la red</a></li>
<li class="chapter" data-level="14.4" data-path="networks.html"><a href="networks.html#presentación-gráfica-de-una-red"><i class="fa fa-check"></i><b>14.4</b> Presentación gráfica de una red</a></li>
<li class="chapter" data-level="14.5" data-path="networks.html"><a href="networks.html#medidas-de-centralidad"><i class="fa fa-check"></i><b>14.5</b> Medidas de centralidad</a><ul>
<li class="chapter" data-level="14.5.1" data-path="networks.html"><a href="networks.html#grado"><i class="fa fa-check"></i><b>14.5.1</b> Grado</a></li>
<li class="chapter" data-level="14.5.2" data-path="networks.html"><a href="networks.html#centralidad-del-eigenvector"><i class="fa fa-check"></i><b>14.5.2</b> Centralidad del eigenvector</a></li>
<li class="chapter" data-level="14.5.3" data-path="networks.html"><a href="networks.html#centralidad-de-intermediación-betweenness"><i class="fa fa-check"></i><b>14.5.3</b> Centralidad de intermediación (<em>betweenness</em>)</a></li>
<li class="chapter" data-level="14.5.4" data-path="networks.html"><a href="networks.html#cercanía"><i class="fa fa-check"></i><b>14.5.4</b> Cercanía</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="networks.html"><a href="networks.html#aplicación-en-r"><i class="fa fa-check"></i><b>14.6</b> Aplicación en R</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="indexes.html"><a href="indexes.html"><i class="fa fa-check"></i><b>15</b> Análisis de componentes principales</a><ul>
<li class="chapter" data-level="" data-path="indexes.html"><a href="indexes.html#lecturas-sugeridas-10"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="indexes.html"><a href="indexes.html#los-paquetes-que-necesitas-instalar-12"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="15.1" data-path="indexes.html"><a href="indexes.html#introducción-9"><i class="fa fa-check"></i><b>15.1</b> Introducción</a><ul>
<li class="chapter" data-level="15.1.1" data-path="indexes.html"><a href="indexes.html#conceptos-medidas-y-validez"><i class="fa fa-check"></i><b>15.1.1</b> Conceptos, medidas y validez</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="indexes.html"><a href="indexes.html#cómo-funciona-el-análisis-de-componentes-principales"><i class="fa fa-check"></i><b>15.2</b> Cómo funciona el Análisis de Componentes Principales</a></li>
<li class="chapter" data-level="15.3" data-path="indexes.html"><a href="indexes.html#nociones-básicas-en-r"><i class="fa fa-check"></i><b>15.3</b> Nociones básicas en R</a></li>
<li class="chapter" data-level="15.4" data-path="indexes.html"><a href="indexes.html#dimensionalidad-del-concepto"><i class="fa fa-check"></i><b>15.4</b> Dimensionalidad del concepto</a></li>
<li class="chapter" data-level="15.5" data-path="indexes.html"><a href="indexes.html#variación-del-concepto"><i class="fa fa-check"></i><b>15.5</b> Variación del concepto</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>16</b> Mapas y datos espaciales</a><ul>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#lecturas-sugeridas-11"><i class="fa fa-check"></i>Lecturas sugeridas</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#los-paquetes-que-necesitas-instalar-13"><i class="fa fa-check"></i>Los paquetes que necesitas instalar</a></li>
<li class="chapter" data-level="16.1" data-path="maps.html"><a href="maps.html#introducción-10"><i class="fa fa-check"></i><b>16.1</b> Introducción</a><ul>
<li class="chapter" data-level="16.1.1" data-path="maps.html"><a href="maps.html#datos-espaciales-qué-son"><i class="fa fa-check"></i><b>16.1.1</b> Datos espaciales: ¿qué son?</a></li>
<li class="chapter" data-level="16.1.2" data-path="maps.html"><a href="maps.html#estructura-de-datos-espaciales"><i class="fa fa-check"></i><b>16.1.2</b> Estructura de datos espaciales</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="maps.html"><a href="maps.html#datos-espaciales-en-r"><i class="fa fa-check"></i><b>16.2</b> Datos espaciales en R</a><ul>
<li class="chapter" data-level="16.2.1" data-path="maps.html"><a href="maps.html#características-simples-en-r"><i class="fa fa-check"></i><b>16.2.1</b> Características simples en R</a></li>
<li class="chapter" data-level="16.2.2" data-path="maps.html"><a href="maps.html#estructura"><i class="fa fa-check"></i><b>16.2.2</b> Estructura</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="maps.html"><a href="maps.html#gestión-de-datos-espaciales"><i class="fa fa-check"></i><b>16.3</b> Gestión de Datos Espaciales</a><ul>
<li class="chapter" data-level="16.3.1" data-path="maps.html"><a href="maps.html#modificaciones"><i class="fa fa-check"></i><b>16.3.1</b> Modificaciones</a></li>
<li class="chapter" data-level="16.3.2" data-path="maps.html"><a href="maps.html#añade-datos-de-otras-bases-de-datos-con-left_join"><i class="fa fa-check"></i><b>16.3.2</b> Añade datos de otras bases de datos con <code>left_join()</code></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="maps.html"><a href="maps.html#mapeo"><i class="fa fa-check"></i><b>16.4</b> Mapeo</a><ul>
<li class="chapter" data-level="16.4.1" data-path="maps.html"><a href="maps.html#generando-centroides"><i class="fa fa-check"></i><b>16.4.1</b> Generando centroides</a></li>
<li class="chapter" data-level="16.4.2" data-path="maps.html"><a href="maps.html#mapeando-variables"><i class="fa fa-check"></i><b>16.4.2</b> Mapeando variables</a></li>
<li class="chapter" data-level="16.4.3" data-path="maps.html"><a href="maps.html#mapeando-puntos"><i class="fa fa-check"></i><b>16.4.3</b> Mapeando puntos</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="maps.html"><a href="maps.html#inferencia-a-partir-de-datos-espaciales"><i class="fa fa-check"></i><b>16.5</b> Inferencia a partir de datos espaciales</a><ul>
<li class="chapter" data-level="16.5.1" data-path="maps.html"><a href="maps.html#indicador-local-de-asociación-espacial-lisa-por-sus-siglas-en-inglés"><i class="fa fa-check"></i><b>16.5.1</b> Indicador local de asociación espacial (LISA, por sus siglas en inglés)</a></li>
<li class="chapter" data-level="16.5.2" data-path="maps.html"><a href="maps.html#matriz-de-pesos-espaciales"><i class="fa fa-check"></i><b>16.5.2</b> Matriz de pesos espaciales</a></li>
<li class="chapter" data-level="16.5.3" data-path="maps.html"><a href="maps.html#i-de-moran"><i class="fa fa-check"></i><b>16.5.3</b> I de Moran</a></li>
<li class="chapter" data-level="" data-path="maps.html"><a href="maps.html#comentarios-finales-referencias-para-un-mejor-análisis-de-datos-espaciales"><i class="fa fa-check"></i>Comentarios finales: Referencias para un mejor análisis de datos espaciales</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Referencias</b></span></li>
<li class="chapter" data-level="17" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i><b>17</b> Referencias</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AnalizaR Datos Políticos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="logit" class="section level1">
<h1><span class="header-section-number">Capítulo 8</span> Modelos logísticos</h1>
<p>Francisco Urdinez<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a></p>
<div id="lecturas-sugeridas-4" class="section level3 unnumbered">
<h3>Lecturas sugeridas</h3>
<ul>
<li><p>Agresti, A. (2007). <em>An Introduction to Categorical Data Analysis</em>, 2nd Ed. Hoboken: Wiley.</p>
<ul>
<li>Capítulos 3, 4 y 5 – “Generalized Linear Models”; “Logistic Regression”; “Building and Applying Logistic Regression Models.”</li>
</ul></li>
<li><p>Glasgow, G., &amp; Alvarez, R. M. (2008). Discrete Choice Methods. In J. M. Box-Steffensmeier, H. E. Brady, &amp; D. Collier (Eds.), <em>The Oxford Handbook of Political Methodology</em> (pp. 513–529). Oxford: Oxford University Press.</p></li>
<li><p>Long, J. S. (1997). <em>Regression models for categorical and limited dependent variables</em>. Sage Publications.</p>
<ul>
<li>Capítulos 3 y 4 - “Binary Outcomes”; “Hyphotesis Testing and Goodness of Fit.”</li>
</ul></li>
</ul>
</div>
<div id="los-paquetes-que-necesitas-instalar-6" class="section level3 unnumbered">
<h3>Los paquetes que necesitas instalar</h3>
<ul>
<li><code>tidyverse</code> <span class="citation">(Wickham <a href="referencias.html#ref-R-tidyverse" role="doc-biblioref">2019</a><a href="referencias.html#ref-R-tidyverse" role="doc-biblioref">b</a>)</span>, <code>paqueteadp</code> <span class="citation">(Urdinez and Cruz <a href="referencias.html#ref-R-paqueteadp" role="doc-biblioref">2020</a>)</span>, <code>ggcorrplot</code> <span class="citation">(Kassambara <a href="referencias.html#ref-R-ggcorrplot" role="doc-biblioref">2019</a>)</span>, <code>margins</code> <span class="citation">(Leeper <a href="referencias.html#ref-R-margins" role="doc-biblioref">2018</a>)</span>, <code>prediction</code> <span class="citation">(Leeper <a href="referencias.html#ref-R-prediction" role="doc-biblioref">2019</a>)</span>, <code>texreg</code> <span class="citation">(Leifeld <a href="referencias.html#ref-R-texreg" role="doc-biblioref">2020</a>)</span>, <code>jtools</code> <span class="citation">(Long <a href="referencias.html#ref-R-jtools" role="doc-biblioref">2020</a>)</span>, <code>skimr</code> <span class="citation">(Waring et al. <a href="referencias.html#ref-R-skimr" role="doc-biblioref">2020</a>)</span>, <code>pscl</code> <span class="citation">(Jackman et al. <a href="referencias.html#ref-R-pscl" role="doc-biblioref">2020</a>)</span>, <code>DescTools</code> <span class="citation">(Signorell <a href="referencias.html#ref-R-DescTools" role="doc-biblioref">2020</a>)</span>, <code>broom</code> <span class="citation">(Robinson and Hayes <a href="referencias.html#ref-R-broom" role="doc-biblioref">2020</a>)</span>, <code>plotROC</code> <span class="citation">(Sachs <a href="referencias.html#ref-R-plotROC" role="doc-biblioref">2018</a>)</span>, <code>separationplot</code> <span class="citation">(Greenhill, Ward, and Sacks <a href="referencias.html#ref-R-separationplot" role="doc-biblioref">2020</a>)</span>.</li>
</ul>
</div>
<div id="introducción-3" class="section level2">
<h2><span class="header-section-number">8.1</span> Introducción</h2>
<p>En el capítulo anterior aprendiste a correr regresiones lineales cuando tienes variables dependientes continuas de una manera sencilla y cubriendo los paquetes más útiles disponibles en R. En este capítulo verás cómo estimar los modelos de regresión cuando tienes variables dependientes dicotómicas (también llamadas variables binarias o <em>dummy</em>). Estas variables asumen uno de dos valores, comúnmente 0 y 1. Al igual que en los capítulos anteriores, no trataremos aspectos sustanciales de la teoría que subyace a cada modelo, ni desglosaremos las fórmulas en detalle. Para ello, sugerimos las referencias anteriores que te ayudarán a acompañar lo que discutiremos.</p>
</div>
<div id="uso-de-los-modelos-logísticos" class="section level2">
<h2><span class="header-section-number">8.2</span> Uso de los modelos logísticos</h2>
<p>Los modelos de variables dependientes dicotómicas se utilizan para estimar la probabilidad de que ocurra un evento. En nuestra base de datos, codificamos como ‘1’ a los casos en los que el evento ocurre, y ‘0’ cuando no ocurre. Por ejemplo, si mi variable fuera “países con acuerdos de libre comercio con los Estados Unidos”, Chile y México estarían codificados con un ‘1’, Argentina y Brasil con un ‘0’. Estos modelos estiman probabilidades, es decir, cuál es la probabilidad de que se observe un ‘1’ dadas ciertas características de las observaciones de nuestra muestra. Toda la discusión sobre cómo estimar la probabilidad de una muestra es muy interesante, y se puede profundizar en los capítulos 3, 4 y 5 de <span class="citation">Agresti (<a href="referencias.html#ref-agrestiIntroductionCategoricalData2007" role="doc-biblioref">2007</a>)</span>. También es importante comprender la distinción entre probabilidad y verosimilitud (<em>likelihood</em>, en inglés). La probabilidad se estima a partir de una “población” de la que conocemos sus “parámetros”, mientras que la verosimilitud estima los valores de los parámetros para los que el resultado observado se ajusta mejor a ellos (ve la figura <a href="logit.html#fig:reality-sample">8.1</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:reality-sample"></span>
<img src="00-images/logit/reality_sample.png" alt=" El camino de doble sentido de la probabilidad y la verosimilitud" width="70%" />
<p class="caption">
Figura 8.1:  El camino de doble sentido de la probabilidad y la verosimilitud
</p>
</div>
<p>Cuando se tiene una variable dependiente dicotómica que se quiere modelar a través de Logit, se asume que ésta tiene una distribución de Bernoulli con una probabilidad de <span class="math inline">\(Y=1\)</span> que no conocemos. Así pues, estimamos nuestra probabilidad desconocida mediante la Estimación de Máxima Verosimilitud (<em>Maximum Likelihood Estimation</em>, en inglés), que nos dará una cierta combinación lineal de variables independientes de nuestra elección (ver la figura <a href="logit.html#fig:bin-bernou">8.2</a>. Un muy buen ejercicio para entender cómo estimar un parámetro con una distribución binomial a través de Máxima Verosimilitud lo ofrece <a href="https://rpubs.com/felixmay/MLE">RPubs</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:bin-bernou"></span>
<img src="00-images/logit/bernou.png" alt="Distribución de Bernoulli" width="60%" />
<p class="caption">
Figura 8.2: Distribución de Bernoulli
</p>
</div>
<p>Los modelos logísticos han crecido enormemente en popularidad en la Ciencia Política. Google Scholar reporta que de la búsqueda de “logit” + “ciencias políticas” un total de 17100 referencias fueron publicadas entre 2008 y 2018. La década anterior (1998-2007) reporta 8900 artículos, y la anterior (1988-1997), 2100. La Ciencia Política ha extendido el uso de los modelos Logit, por encima de los modelos Probit, en gran medida porque el primero permite el cálculo de <em>odds ratios</em>. Casi todos los manuales econométricos discuten las diferencias y similitudes entre Probit y Logit, aunque a efectos prácticos de la estimación de un modelo, ambos son muy similares y reportan coeficientes casi idénticos. Por lo tanto, dado que son métodos que conducen a resultados muy similares, en este capítulo sólo utilizaremos Logit.</p>
<p>Los modelos Logit y Probit difieren en sus funciones de enlace. Logit lleva su nombre porque la función viene dada por el logaritmo natural de las probabilidades (“log odds” <span class="math inline">\(\rightarrow\)</span> logit!).</p>
<p><span class="math display">\[ ln(odds) = ln(\frac {p}{1 - p})\]</span></p>
<p>Al despejar los términos, podemos calcular el inverso de su función, de modo que tendremos</p>
<p><span class="math display">\[ logit^{-1}(\alpha) =  \frac {1}{1+e^{-\alpha}} = \frac {e^\alpha}{1+e^\alpha}\]</span></p>
<p>Donde <span class="math inline">\(\alpha\)</span> es la combinación lineal de variables independientes y sus coeficientes. El inverso del Logit nos dará la probabilidad de que la variable dependiente sea igual a ‘1’ dada una cierta combinación de valores para nuestras variables independientes.</p>
<div class="figure" style="text-align: center"><span id="fig:bin-invlogit"></span>
<img src="00-images/logit/invlogit.png" alt="La inversa de la función de Logit" width="70%" />
<p class="caption">
Figura 8.3: La inversa de la función de Logit
</p>
</div>
<p>Si profundizas en la literatura recomendada, notarás que la función está indefinida en 0 y 1, es decir, que la probabilidad está infinitamente cerca del límite sin llegar a tocarlo. Si modeláramos las probabilidades por medio de los Mínimos Cuadrados Ordinarios, obtendríamos probabilidades mayores que 100% y menores que 0%, lo cual es conceptualmente imposible. La función sigmoide de Logit impide que esto suceda. Lo que vamos a estimar es la probabilidad de que, dada una cierta combinación de atributos (variables independientes y controles) de una cierta observación permita suponer que su variable dependiente es igual a 1. Esta probabilidad puede compararse con el valor real que ha asumido la variable dependiente y así saber qué tan bien nuestro modelo hace predicciones. Por esta razón, muchos manuales se refieren a los modelos logit como un modelo de “clasificación”, ya que lo que estimamos es la probabilidad de que cada observación sea clasificada correctamente como <span class="math inline">\(Y= 1\)</span> o como <span class="math inline">\(Y= 0\)</span>.</p>
</div>
<div id="cómo-se-estiman-las-probabilidades" class="section level2">
<h2><span class="header-section-number">8.3</span> ¿Cómo se estiman las probabilidades?</h2>
<p>Como mencionamos antes, los modelos probabilísticos han ganado una enorme preeminencia en la Ciencia Política en los últimos años, y es por eso que probablemente estés buscando una guía para saber qué hacer y qué no hacer cuando se tiene una variable dependiente dicotómica. Ilustraremos un paso a paso en R utilizando como ejemplo la base de datos del libro * Democracies and Dictatorships in Latin America: Emergence, Survival, and Fall* de Scott Mainwaring y Aníbal Pérez-Liñán <span class="citation">(<a href="referencias.html#ref-mainwaringDemocraciesDictatorshipsLatin2013" role="doc-biblioref">2013</a>)</span>. A lo largo del libro, los autores analizan qué variables ayudan a explicar por qué y cuando se produjeron quiebres democráticos en América Latina a lo largo del siglo XX y principios del XXI. En el capítulo 4, los autores exploran qué factores explican la supervivencia de los regímenes políticos y, mientras que prueban varios modelos complejos, algunos logísticos y otros de supervivencia (los que trataremos en este libro en el próximo capítulo); ilustraremos un ejemplo muy sencillo para que nos acompañes desde tu computador paso a paso. Para cargar la base de datos del capítulo, utiliza nuestro paquete <code>paqueteadp</code>.</p>
<p>Entonces, cargaremos la base de datos llamada, <code>quiebre_democracia</code>.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="logit.html#cb249-1"></a><span class="kw">library</span>(paqueteadp)</span></code></pre></div>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="logit.html#cb250-1"></a><span class="kw">data</span>(<span class="st">&quot;quiebre_democracia&quot;</span>)</span></code></pre></div>
<p>Ahora, la base de datos se ha cargado en nuestra sesión R:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="logit.html#cb251-1"></a><span class="kw">ls</span>()</span>
<span id="cb251-2"><a href="logit.html#cb251-2"></a><span class="co">## [1] &quot;quiebre_democracia&quot;</span></span></code></pre></div>
<p>Asumiendo que la variable dependiente tiene el valor ‘1’ si el país sufre el colapso de su régimen político democrático y ‘0’ si no, podemos hacer un par de preguntas. ¿Qué efecto tiene el hecho de tener una constitución nacional que otorga grandes poderes constitucionales al poder ejecutivo en la probabilidad de un colapso democrático? si esos poderes son pequeños, ¿la probabilidad de un colapso democrático es mayor o menor? Como argumentan los autores, estos poderes pueden ser medidos por medio de un índice creado por <span class="citation">Shugart and Carey (<a href="referencias.html#ref-shugartPresidentsAssembliesConstitutional1992" role="doc-biblioref">1992</a>)</span><a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a></p>
<p>Primero que nada, quieres explorar tus datos. Queremos ver cuántos países han sufrido una quiebre democrático en la muestra y cómo se distribuye el índice de poderes del ejecutivo. ¿Recuerdas lo que se explicó en el capítulo <a href="dataviz.html#datos">3.2.1.1</a>? Empezamos cargando el <code>tidyverse</code> y luego usamos <code>count()</code>. El país con el mayor número de quiebres democráticos es Perú con 6, seguido de Argentina y Panamá, con 5 cada uno.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="logit.html#cb252-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="logit.html#cb253-1"></a>quiebre_democracia <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(quiebre_democracia <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(pais_nombre)</span>
<span id="cb253-2"><a href="logit.html#cb253-2"></a><span class="co">## # A tibble: 18 x 2</span></span>
<span id="cb253-3"><a href="logit.html#cb253-3"></a><span class="co">##   pais_nombre     n</span></span>
<span id="cb253-4"><a href="logit.html#cb253-4"></a><span class="co">##   &lt;chr&gt;       &lt;int&gt;</span></span>
<span id="cb253-5"><a href="logit.html#cb253-5"></a><span class="co">## 1 Argentina       5</span></span>
<span id="cb253-6"><a href="logit.html#cb253-6"></a><span class="co">## 2 Bolivia         2</span></span>
<span id="cb253-7"><a href="logit.html#cb253-7"></a><span class="co">## 3 Brasil          1</span></span>
<span id="cb253-8"><a href="logit.html#cb253-8"></a><span class="co">## # … with 15 more rows</span></span></code></pre></div>
<p>El primer modelo que vamos a probar tiene la variable dependiente de el quiebre democrático (<code>quiebre_democracia</code>) siendo predicha por el índice de <span class="citation">Shugart and Carey (<a href="referencias.html#ref-shugartPresidentsAssembliesConstitutional1992" role="doc-biblioref">1992</a>)</span> de los poderes ejecutivos (<code>poder_presid</code>). La función <code>glm</code> requiere que definamos nuestros datos y el modelo, porque con la misma función para los Modelos Lineales Generalizados se puede usar Probit, Poisson y otras <a href="https://www.rdocumentation.org/packages/stats%20/versions/3.5.1/topics/family">funciones menos comunes</a> en Ciencia Política.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="logit.html#cb254-1"></a>model_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">glm</span>(quiebre_democracia <span class="op">~</span><span class="st"> </span>poder_presid, <span class="co"># variables dependientes e independientes separadas por ~</span></span>
<span id="cb254-2"><a href="logit.html#cb254-2"></a>                <span class="dt">data   =</span> quiebre_democracia, <span class="co">#tus datos</span></span>
<span id="cb254-3"><a href="logit.html#cb254-3"></a>                <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>)) <span class="co">#usamos la función de enlace “logit”</span></span></code></pre></div>
<p>Como vimos en los capítulos anteriores, la función <code>summary</code> nos permite ver rápidamente los resultados de un modelo de regresión:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="logit.html#cb255-1"></a><span class="kw">summary</span>(model_<span class="dv">1</span>)</span>
<span id="cb255-2"><a href="logit.html#cb255-2"></a><span class="co">## </span></span>
<span id="cb255-3"><a href="logit.html#cb255-3"></a><span class="co">## Call:</span></span>
<span id="cb255-4"><a href="logit.html#cb255-4"></a><span class="co">## glm(formula = quiebre_democracia ~ poder_presid, family = binomial(&quot;logit&quot;), </span></span>
<span id="cb255-5"><a href="logit.html#cb255-5"></a><span class="co">##     data = quiebre_democracia)</span></span>
<span id="cb255-6"><a href="logit.html#cb255-6"></a><span class="co">## </span></span>
<span id="cb255-7"><a href="logit.html#cb255-7"></a><span class="co">## Deviance Residuals: </span></span>
<span id="cb255-8"><a href="logit.html#cb255-8"></a><span class="co">##    Min      1Q  Median      3Q     Max  </span></span>
<span id="cb255-9"><a href="logit.html#cb255-9"></a><span class="co">## -0.727  -0.295  -0.269  -0.223   2.792  </span></span>
<span id="cb255-10"><a href="logit.html#cb255-10"></a><span class="co">## </span></span>
<span id="cb255-11"><a href="logit.html#cb255-11"></a><span class="co">## Coefficients:</span></span>
<span id="cb255-12"><a href="logit.html#cb255-12"></a><span class="co">##              Estimate Std. Error z value Pr(&gt;|z|)   </span></span>
<span id="cb255-13"><a href="logit.html#cb255-13"></a><span class="co">## (Intercept)   -0.2393     0.9638   -0.25   0.8039   </span></span>
<span id="cb255-14"><a href="logit.html#cb255-14"></a><span class="co">## poder_presid  -0.1914     0.0648   -2.96   0.0031 **</span></span>
<span id="cb255-15"><a href="logit.html#cb255-15"></a><span class="co">## ---</span></span>
<span id="cb255-16"><a href="logit.html#cb255-16"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb255-17"><a href="logit.html#cb255-17"></a><span class="co">## </span></span>
<span id="cb255-18"><a href="logit.html#cb255-18"></a><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb255-19"><a href="logit.html#cb255-19"></a><span class="co">## </span></span>
<span id="cb255-20"><a href="logit.html#cb255-20"></a><span class="co">##     Null deviance: 217.84  on 643  degrees of freedom</span></span>
<span id="cb255-21"><a href="logit.html#cb255-21"></a><span class="co">## Residual deviance: 209.56  on 642  degrees of freedom</span></span>
<span id="cb255-22"><a href="logit.html#cb255-22"></a><span class="co">##   (1572 observations deleted due to missingness)</span></span>
<span id="cb255-23"><a href="logit.html#cb255-23"></a><span class="co">## AIC: 213.6</span></span>
<span id="cb255-24"><a href="logit.html#cb255-24"></a><span class="co">## </span></span>
<span id="cb255-25"><a href="logit.html#cb255-25"></a><span class="co">## Number of Fisher Scoring iterations: 6</span></span></code></pre></div>
<p>El coeficiente de la variable <code>poder_presid</code> está asociado negativamente a la probabilidad de que ocurra un quiebre de régimen <code>(-0.191)</code>, y es estadísticamente significativo <code>(p=0.00312)</code>. Ahora bien, a diferencia de los modelos MCO -donde podíamos usar los coeficientes de regresión para interpretar directamente el efecto de la variable independiente sobre la variable dependiente- en el caso de las regresiones logísticas esto no es tan sencillo. Debemos transformar los coeficientes en probabilidades o chances. Dado que la función de enlace logístico es el logaritmo del cociente de chances (<em>odds</em>), tenemos que:
<span class="math display">\[ln(\frac {p}{1 - p}) = \beta_{0} + \beta_{1}x_{1}\]</span></p>
<p>Despejando <span class="math inline">\(ln\)</span>, obtenemos:</p>
<p><span class="math display">\[(\frac {p}{1 - p}) = e^{\beta_{0}+\beta_{1}x_{1}}\]</span></p>
<p>Y despejando los términos, una vez más, obtenemos:</p>
<p><span class="math display">\[\hat{p} = \frac {e^{\beta_{0}+\beta_{1}x_{1}}}{1 + e^{\beta_{0}+\beta_{1}x_{1}}}\]</span></p>
<p>Lo que queremos, entonces, es transformar los coeficientes de la misma manera en que R los reporta en una probabilidad, con la variable dependiente asumiendo el valor ‘1’. Sabemos que la variable independiente <code>poder_presid</code> es un índice que a un valor más alto significa mayor concentración de poder para el ejecutivo <em>vis a vis</em> el legislativo, por lo tanto el coeficiente de regresión indica que a menor concentración de poder del ejecutivo, mayor probabilidad de quiebre de régimen. Los regímenes de presidentes fuertes serían más resistentes. La muestra del libro abarca 20 países de América Latina entre 1900 y 2010, y el índice oscila entre un mínimo de 5 (Haití, en varios años) y un máximo de 25 (Brasil en 1945, en años de Getúlio Vargas) (ver la figura <a href="logit.html#fig:bin-shugarthist">8.4</a>.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="logit.html#cb256-1"></a>quiebre_democracia <span class="op">%&gt;%</span></span>
<span id="cb256-2"><a href="logit.html#cb256-2"></a><span class="st">  </span><span class="kw">select</span>(pais_nombre, anio, poder_presid) <span class="op">%&gt;%</span></span>
<span id="cb256-3"><a href="logit.html#cb256-3"></a><span class="st">  </span><span class="kw">arrange</span>(poder_presid) <span class="op">%&gt;%</span></span>
<span id="cb256-4"><a href="logit.html#cb256-4"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span>)</span>
<span id="cb256-5"><a href="logit.html#cb256-5"></a><span class="co">## # A tibble: 1 x 3</span></span>
<span id="cb256-6"><a href="logit.html#cb256-6"></a><span class="co">##   pais_nombre  anio poder_presid</span></span>
<span id="cb256-7"><a href="logit.html#cb256-7"></a><span class="co">##   &lt;chr&gt;       &lt;dbl&gt;        &lt;dbl&gt;</span></span>
<span id="cb256-8"><a href="logit.html#cb256-8"></a><span class="co">## 1 Haití        1987            5</span></span></code></pre></div>
<blockquote>
<p>Consejo: Si ponemos un (-) antes de la variable dentro de la función <code>arrange()</code>, ordena de mayor a menor.</p>
</blockquote>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="logit.html#cb257-1"></a>quiebre_democracia <span class="op">%&gt;%</span></span>
<span id="cb257-2"><a href="logit.html#cb257-2"></a><span class="st">  </span><span class="kw">select</span>(pais_nombre, anio, poder_presid) <span class="op">%&gt;%</span></span>
<span id="cb257-3"><a href="logit.html#cb257-3"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>poder_presid) <span class="op">%&gt;%</span></span>
<span id="cb257-4"><a href="logit.html#cb257-4"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span>)</span>
<span id="cb257-5"><a href="logit.html#cb257-5"></a><span class="co">## # A tibble: 1 x 3</span></span>
<span id="cb257-6"><a href="logit.html#cb257-6"></a><span class="co">##   pais_nombre  anio poder_presid</span></span>
<span id="cb257-7"><a href="logit.html#cb257-7"></a><span class="co">##   &lt;chr&gt;       &lt;dbl&gt;        &lt;dbl&gt;</span></span>
<span id="cb257-8"><a href="logit.html#cb257-8"></a><span class="co">## 1 Brasil       1945           25</span></span></code></pre></div>
<p>Podemos ver la distribución de la variable trazando un histograma. La mayoría de las observaciones tienen valores de 16 en el índice y la variable asume una distribución normal.
Haremos un histograma con <code>ggplot2</code>, como hemos tratado a fondo en el capítulo <a href="dataviz.html#dataviz">3</a>. Además, añadiremos una escala de colores para visualizar mejor los valores más frecuentes.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="logit.html#cb258-1"></a>shugart_plot&lt;-<span class="st"> </span><span class="kw">ggplot</span>(quiebre_democracia, <span class="kw">aes</span>(poder_presid)) <span class="op">+</span></span>
<span id="cb258-2"><a href="logit.html#cb258-2"></a><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> ..count..), <span class="dt">binwidth =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb258-3"><a href="logit.html#cb258-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="st">&quot; Índice de Poder Presidencial&quot;</span>) <span class="op">+</span></span>
<span id="cb258-4"><a href="logit.html#cb258-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Conteo&quot;</span>)</span>
<span id="cb258-5"><a href="logit.html#cb258-5"></a>shugart_plot</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-shugarthist"></span>
<img src="08-logit_es_files/figure-html/bin-shugarthist-1.png" alt=" Histograma del índice Shugart y Carey" width="672" />
<p class="caption">
Figura 8.4:  Histograma del índice Shugart y Carey
</p>
</div>
<p>¿Cómo podemos calcular cuánto cambia la probabilidad de un quiebre democrático si el nivel de concentración del poder ejecutivo “salta” de una puntuación de 5 (el mínimo observado) a una de 25 (el máximo observado), dado que no controlamos por nada más en la regresión? Para hacer este cálculo podemos sustituir los valores de nuestra última fórmula, en la que aislamos en el lado izquierdo de la fórmula un <span class="math inline">\(\hat{p}\)</span>. Primero debemos calcular cuál es la probabilidad de sufrir un quiebre de régimen a un índice Shugart y Carey de 5 y a un nivel 25, respectivamente. Luego calculamos la diferencia de ambas probabilidades. Por lo tanto, tenemos para un índice de 5 que</p>
<p><span class="math display">\[\hat{p} = \frac {e^{(0+(-0.019*5))}}{1 + e^{(0+(-0.019*5))}}\]</span></p>
<p>Notarán que el valor correspondiente al intercepto es igual a 0 porque ese coeficiente no es estadísticamente significativo. Sabemos que para un índice Shugart y Carey de 5, después de hacer el cálculo en la fórmula anterior, la probabilidad de un quiebre es igual a 0,47 o 47%.</p>
<blockquote>
<p><strong>Tip.</strong> Recomendamos que dejes de leer por un segundo y hagas el cálculo de la función en lápiz y papel.</p>
</blockquote>
<p>Si repetimos el proceso para un valor <code>poder_presid</code> de 25, la probabilidad baja al 38%. Con las probabilidades podemos calcular las chances o <em>odds</em>, que son simplemente <span class="math inline">\(\frac{p}{1-p}\)</span>. Así, el impar para un valor 5 del índice Shugart y Carey es 0.0, mientras que para un índice Shugart y Carey de 25 es 0.62.</p>
<p><span class="math display">\[odd_a = \frac {0.47}{1 - 0.47}\]</span>
<span class="math display">\[odd_b = \frac {0.38}{1 - 0.38}\]</span></p>
<p>La utilidad de los <em>odds</em> es que permiten calcular los odds ratios (cuya traducción es horrible: razón de momios) ¿Cuál es el punto de calcular un odds ratio? Veamos.</p>
<p>Cuando calculamos la probabilidad de un cambio en el índice de Shugart y Carey de 23 a 24, la magnitud de esta probabilidad será diferente a un cambio en la probabilidad dado que el índice va de, supongamos, 12 a 13. Esto se debe a que los efectos de la variable independiente sobre la probabilidad de que la variable dependiente sea <code>=1</code> no son lineales (recordemos la función “S” de la Figura <a href="logit.html#fig:bin-invlogit">8.3</a>). Sin embargo, las razones de probabilidad tienen la propiedad útil de poder reflejar los cambios independientemente de la curvatura de la función, es decir, son cambios “constantes”. Así, podemos expresar el efecto de la variable sin tener que especificar un valor determinado para ella. Por lo tanto, en muchos artículos se verán resultados expresados como <em>odds ratios</em> así como en cambios de probabilidad. Ambos se complementan bien, de hecho.</p>
<p>Veamos cómo se vería el cálculo de <em>odds ratios</em> al seguir el ejemplo usando la base de datos de Mainwaring y Pérez-Liñan. Dijimos que las chances <em>odds</em> vienen dadas por <span class="math inline">\(\frac{p}{1-p}\)</span>. Por lo tanto, una razón de chances <em>odds ratio</em> se expresa como <span class="math inline">\(\frac {p_1}{1-p_1}}{\frac {p_2}{1-p_2}\)</span>.</p>
<p>Supongamos que en 1992 un país tenía un índice Shugart de 15, y que en 1993 ese índice pasó a 16. ¿Cuánto cambiará la probabilidad de un quiebre democrático si se asume que todo lo demás permaneció constante?
<span class="math display">\[ Pr(quiebre){_{pais,1992}} = \frac {e^{(0+(-0.019*15))}}{1 + e^{((0+(-0.019*15))}} = 0.42\]</span></p>
<p><span class="math display">\[ Pr(quiebre){_{pais,1993}} = \frac {e^{(0+(-0.019*16))}}{1 + e^{(0+(-0.019*16))}} = 0.43\]</span></p>
<p>La probabilidad difiere poco, cayendo un 2,4%, lo que parece ser un efecto pequeño. El <em>odds ratio</em> se calcula como la proporción de ambas chances, por lo que obtenemos</p>
<p><span class="math display">\[\frac {0.42}{0.43}=0.97\]</span></p>
<p>De esta manera, un <em>odds ratio</em> mayor que 1 expresa un cambio positivo, mientras que si es menor que 1 (entre 0 y 1) representa un cambio negativo en las probabilidades estimadas. Si hiciéramos el mismo ejercicio para otros valores del índice de poderes presidenciales, por ejemplo, un cambio de 3 a 4 o de 23 a 24, el <em>odds ratio</em> también daría 0.97. He ahí su atractivo.</p>
<blockquote>
<p><strong>Ejercicio 8A.</strong> Tomate un minuto para hacer un ejercicio antes de continuar.
1. Abre la base de datos <code>latinobarometro</code> del paquete del libro: <code>data (latinobarometro)</code>. Esta es una encuesta de 2018 de la opinión pública latinoamericana sobre temas políticos.
2. La variable <code>pro_dem</code> es 1 si la persona cree que la democracia es, a pesar de sus problemas, la mejor forma de gobierno existente. Calcula cuánto cambia la probabilidad de que esta respuesta sea 1 dependiendo de los años de educación del encuestado (<code>educ</code>).
3. ¿Cuál es el odds ratio de un año más de educación? ¿En qué país es mayor el efecto, en Brasil o en México?</p>
</blockquote>
<p>R ofrece paquetes para facilitar este análisis. Podemos graficar fácilmente los <em>odds ratios</em> usando <code>ggplot2</code> combinado con <code>margins</code> y <code>prediction</code>. Podemos calcular las probabilidades predichas, y también podemos realizar pruebas fáciles para saber la capacidad explicativa de nuestros modelos. Utilizando la misma base de datos, te daremos un ejemplo de una rutina típica, que puedes replicar en tu computador utilizando tus propios datos.</p>
<p>Los pasos a seguir son: a) estimar tus modelos, b) crear tablas formateadas para incluirlas en tus artículos, c) crear figuras para visualizar la magnitud de los coeficientes por medio de <em>odds ratios</em>, d) graficar las probabilidades predichas para las variables de interés y explorar interacciones, y e) calcular la capacidad explicativa de los modelos (porcentaje correctamente previsto, AIC, BIC, curvas ROC, puntajes de Brier o <em>separation plots</em>, que explicaremos más adelante).</p>
</div>
<div id="estimación-de-los-modelos" class="section level2">
<h2><span class="header-section-number">8.4</span> Estimación de los modelos</h2>
<p>Para ejemplificar este paso, estimaremos dos modelos más, aparte del modelo 1. El modelo 2 tendrá como variables independientes el índice de poder presidencial de Shugart y Carey y la edad (<code>edad_regimen</code>) del régimen político, medida en años. Veamos la distribución de la variable <code>edad_regimen</code>:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="logit.html#cb259-1"></a>age_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(quiebre_democracia, <span class="kw">aes</span>(edad_regimen)) <span class="op">+</span></span>
<span id="cb259-2"><a href="logit.html#cb259-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> ..count..), <span class="dt">binwidth =</span> <span class="dv">5</span>) <span class="op">+</span></span>
<span id="cb259-3"><a href="logit.html#cb259-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="st">&quot; Edad del régimen político &quot;</span>) <span class="op">+</span></span>
<span id="cb259-4"><a href="logit.html#cb259-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Conteo&quot;</span>)</span>
<span id="cb259-5"><a href="logit.html#cb259-5"></a></span>
<span id="cb259-6"><a href="logit.html#cb259-6"></a>age_plot</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-10"></span>
<img src="08-logit_es_files/figure-html/unnamed-chunk-10-1.png" alt=" Histograma de la edad del régimen político " width="672" />
<p class="caption">
Figura 3.9:  Histograma de la edad del régimen político
</p>
</div>
<p>Veamos el modelo con esta nueva variable:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="logit.html#cb260-1"></a>model_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">glm</span>(quiebre_democracia <span class="op">~</span><span class="st"> </span>poder_presid <span class="op">+</span><span class="st"> </span>edad_regimen,</span>
<span id="cb260-2"><a href="logit.html#cb260-2"></a>                <span class="dt">data   =</span> quiebre_democracia,</span>
<span id="cb260-3"><a href="logit.html#cb260-3"></a>                <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>))</span></code></pre></div>
<p>Después de correr la regresión, con <code>summary</code> obtenemos los coeficientes:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="logit.html#cb261-1"></a><span class="kw">summary</span>(model_<span class="dv">2</span>)</span>
<span id="cb261-2"><a href="logit.html#cb261-2"></a><span class="co">## </span></span>
<span id="cb261-3"><a href="logit.html#cb261-3"></a><span class="co">## Call:</span></span>
<span id="cb261-4"><a href="logit.html#cb261-4"></a><span class="co">## glm(formula = quiebre_democracia ~ poder_presid + edad_regimen, </span></span>
<span id="cb261-5"><a href="logit.html#cb261-5"></a><span class="co">##     family = binomial(&quot;logit&quot;), data = quiebre_democracia)</span></span>
<span id="cb261-6"><a href="logit.html#cb261-6"></a><span class="co">## </span></span>
<span id="cb261-7"><a href="logit.html#cb261-7"></a><span class="co">## Deviance Residuals: </span></span>
<span id="cb261-8"><a href="logit.html#cb261-8"></a><span class="co">##    Min      1Q  Median      3Q     Max  </span></span>
<span id="cb261-9"><a href="logit.html#cb261-9"></a><span class="co">## -0.734  -0.302  -0.266  -0.218   2.828  </span></span>
<span id="cb261-10"><a href="logit.html#cb261-10"></a><span class="co">## </span></span>
<span id="cb261-11"><a href="logit.html#cb261-11"></a><span class="co">## Coefficients:</span></span>
<span id="cb261-12"><a href="logit.html#cb261-12"></a><span class="co">##              Estimate Std. Error z value Pr(&gt;|z|)   </span></span>
<span id="cb261-13"><a href="logit.html#cb261-13"></a><span class="co">## (Intercept)  -0.22220    0.96764   -0.23   0.8184   </span></span>
<span id="cb261-14"><a href="logit.html#cb261-14"></a><span class="co">## poder_presid -0.18897    0.06581   -2.87   0.0041 **</span></span>
<span id="cb261-15"><a href="logit.html#cb261-15"></a><span class="co">## edad_regimen -0.00408    0.01961   -0.21   0.8350   </span></span>
<span id="cb261-16"><a href="logit.html#cb261-16"></a><span class="co">## ---</span></span>
<span id="cb261-17"><a href="logit.html#cb261-17"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb261-18"><a href="logit.html#cb261-18"></a><span class="co">## </span></span>
<span id="cb261-19"><a href="logit.html#cb261-19"></a><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb261-20"><a href="logit.html#cb261-20"></a><span class="co">## </span></span>
<span id="cb261-21"><a href="logit.html#cb261-21"></a><span class="co">##     Null deviance: 217.84  on 643  degrees of freedom</span></span>
<span id="cb261-22"><a href="logit.html#cb261-22"></a><span class="co">## Residual deviance: 209.52  on 641  degrees of freedom</span></span>
<span id="cb261-23"><a href="logit.html#cb261-23"></a><span class="co">##   (1572 observations deleted due to missingness)</span></span>
<span id="cb261-24"><a href="logit.html#cb261-24"></a><span class="co">## AIC: 215.5</span></span>
<span id="cb261-25"><a href="logit.html#cb261-25"></a><span class="co">## </span></span>
<span id="cb261-26"><a href="logit.html#cb261-26"></a><span class="co">## Number of Fisher Scoring iterations: 6</span></span></code></pre></div>
<p>El modelo 3 añade una tercera variable, <code>calidad_democracia</code>, que corresponde al <a href="https://freedomhouse.org/report/methodology-freedom-world-2017">puntaje de Freedom House</a> de calidad de la democracia. Cuanto más alta sea la puntuación, mejor el rendimiento de la democracia de un país.</p>
<blockquote>
<p>Nota: Estos son modelos de ejemplo; no nos preocupa demostrar causalidad.</p>
</blockquote>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="logit.html#cb262-1"></a>fh_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(quiebre_democracia, <span class="kw">aes</span>(calidad_democracia)) <span class="op">+</span></span>
<span id="cb262-2"><a href="logit.html#cb262-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> ..count..), <span class="dt">binwidth =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb262-3"><a href="logit.html#cb262-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Indice de Freedom House&quot;</span>) <span class="op">+</span></span>
<span id="cb262-4"><a href="logit.html#cb262-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Conteo&quot;</span>)</span>
<span id="cb262-5"><a href="logit.html#cb262-5"></a>fh_plot</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fhhist"></span>
<img src="08-logit_es_files/figure-html/fhhist-1.png" alt=" Histograma del índice de democracia de Freedom House " width="672" />
<p class="caption">
Figura 8.5:  Histograma del índice de democracia de Freedom House
</p>
</div>
<p>Seguramente querrás añadir una matriz de correlación a tu análisis para diagnosticar cómo se relacionan las variables independientes antes de incluirlas en el modelo. Para ello, podemos utilizar el paquete <code>ggcorrplot</code>. Vemos que la correlación entre <code>edad_regimen</code>, <code>calidad_democracia</code> y <code>poder_presid</code> es muy baja, pero ligeramente positiva.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="logit.html#cb263-1"></a><span class="kw">library</span>(ggcorrplot)</span>
<span id="cb263-2"><a href="logit.html#cb263-2"></a></span>
<span id="cb263-3"><a href="logit.html#cb263-3"></a>corr_selected &lt;-<span class="st"> </span>quiebre_democracia <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-4"><a href="logit.html#cb263-4"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(edad_regimen, calidad_democracia, poder_presid) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-5"><a href="logit.html#cb263-5"></a><span class="st">  </span><span class="co"># calculate correlation matrix and round to 1 decimal place:</span></span>
<span id="cb263-6"><a href="logit.html#cb263-6"></a><span class="st">  </span><span class="kw">cor</span>(<span class="dt">use =</span> <span class="st">&quot;pairwise&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-7"><a href="logit.html#cb263-7"></a><span class="st">  </span><span class="kw">round</span>(<span class="dv">1</span>)</span>
<span id="cb263-8"><a href="logit.html#cb263-8"></a></span>
<span id="cb263-9"><a href="logit.html#cb263-9"></a><span class="kw">ggcorrplot</span>(corr_selected, <span class="dt">type =</span> <span class="st">&quot;lower&quot;</span>, <span class="dt">lab =</span> T, <span class="dt">show.legend =</span> F)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-13"></span>
<img src="08-logit_es_files/figure-html/unnamed-chunk-13-1.png" alt=" Matriz de correlación de las variables seleccionadas " width="480" />
<p class="caption">
Figura 3.12:  Matriz de correlación de las variables seleccionadas
</p>
</div>
<p>El modelo 3 se verá entonces de la siguiente manera:</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="logit.html#cb264-1"></a>model_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">glm</span>(quiebre_democracia <span class="op">~</span><span class="st"> </span>poder_presid <span class="op">+</span><span class="st"> </span>edad_regimen <span class="op">+</span><span class="st"> </span>calidad_democracia,</span>
<span id="cb264-2"><a href="logit.html#cb264-2"></a>                <span class="dt">data   =</span> quiebre_democracia,</span>
<span id="cb264-3"><a href="logit.html#cb264-3"></a>                <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="logit.html#cb265-1"></a><span class="kw">summary</span>(model_<span class="dv">3</span>)</span>
<span id="cb265-2"><a href="logit.html#cb265-2"></a><span class="co">## </span></span>
<span id="cb265-3"><a href="logit.html#cb265-3"></a><span class="co">## Call:</span></span>
<span id="cb265-4"><a href="logit.html#cb265-4"></a><span class="co">## glm(formula = quiebre_democracia ~ poder_presid + edad_regimen + </span></span>
<span id="cb265-5"><a href="logit.html#cb265-5"></a><span class="co">##     calidad_democracia, family = binomial(&quot;logit&quot;), data = quiebre_democracia)</span></span>
<span id="cb265-6"><a href="logit.html#cb265-6"></a><span class="co">## </span></span>
<span id="cb265-7"><a href="logit.html#cb265-7"></a><span class="co">## Deviance Residuals: </span></span>
<span id="cb265-8"><a href="logit.html#cb265-8"></a><span class="co">##     Min       1Q   Median       3Q      Max  </span></span>
<span id="cb265-9"><a href="logit.html#cb265-9"></a><span class="co">## -1.7864  -0.0008  -0.0001   0.0000   1.8940  </span></span>
<span id="cb265-10"><a href="logit.html#cb265-10"></a><span class="co">## </span></span>
<span id="cb265-11"><a href="logit.html#cb265-11"></a><span class="co">## Coefficients:</span></span>
<span id="cb265-12"><a href="logit.html#cb265-12"></a><span class="co">##                    Estimate Std. Error z value Pr(&gt;|z|)  </span></span>
<span id="cb265-13"><a href="logit.html#cb265-13"></a><span class="co">## (Intercept)          15.360      6.584    2.33    0.020 *</span></span>
<span id="cb265-14"><a href="logit.html#cb265-14"></a><span class="co">## poder_presid         -0.217      0.166   -1.31    0.189  </span></span>
<span id="cb265-15"><a href="logit.html#cb265-15"></a><span class="co">## edad_regimen          0.166      0.112    1.48    0.138  </span></span>
<span id="cb265-16"><a href="logit.html#cb265-16"></a><span class="co">## calidad_democracia   -3.748      1.505   -2.49    0.013 *</span></span>
<span id="cb265-17"><a href="logit.html#cb265-17"></a><span class="co">## ---</span></span>
<span id="cb265-18"><a href="logit.html#cb265-18"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb265-19"><a href="logit.html#cb265-19"></a><span class="co">## </span></span>
<span id="cb265-20"><a href="logit.html#cb265-20"></a><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb265-21"><a href="logit.html#cb265-21"></a><span class="co">## </span></span>
<span id="cb265-22"><a href="logit.html#cb265-22"></a><span class="co">##     Null deviance: 71.271  on 421  degrees of freedom</span></span>
<span id="cb265-23"><a href="logit.html#cb265-23"></a><span class="co">## Residual deviance: 12.113  on 418  degrees of freedom</span></span>
<span id="cb265-24"><a href="logit.html#cb265-24"></a><span class="co">##   (1794 observations deleted due to missingness)</span></span>
<span id="cb265-25"><a href="logit.html#cb265-25"></a><span class="co">## AIC: 20.11</span></span>
<span id="cb265-26"><a href="logit.html#cb265-26"></a><span class="co">## </span></span>
<span id="cb265-27"><a href="logit.html#cb265-27"></a><span class="co">## Number of Fisher Scoring iterations: 12</span></span></code></pre></div>
<p>Ahora la variable <code>poder_presid</code> ya no es estadísticamente significativa, sin embargo, ambas <code>calidad_democracia</code> y el intercepto son significativas.</p>
</div>
<div id="creando-tablas" class="section level2">
<h2><span class="header-section-number">8.5</span> Creando tablas</h2>
<p>Aquí veremos cómo crear tablas editables para artículos académicos usando el paquete <code>texreg</code> de <a href="https://www.rdocumentation.org/collaborators/name/Philip%20Leifeld">Philip Leifeld</a>. Básicamente, la función contiene tres paquetes, uno para exportar tablas a html (<code>htmlreg()</code>), otro para exportar tablas a  y un tercero para verlas en RStudio (llamado <code>screenreg()</code>).</p>
<p>A través de <code>htmlreg</code> podemos exportar nuestras tablas formateadas en html y desde allí incorporarlas a nuestros artículos directamente.</p>
<p>Una vez que estimamos los modelos que irán en la tabla, los agrupamos en una lista usando la función <code>list</code>. Esto ahorra tiempo, porque en lugar de tener que escribir el nombre de los modelos, simplemente nos referiremos a la lista <code>mp_models</code>:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="logit.html#cb266-1"></a><span class="kw">library</span>(texreg)</span>
<span id="cb266-2"><a href="logit.html#cb266-2"></a>mp_models &lt;-<span class="st"> </span><span class="kw">list</span>(model_<span class="dv">1</span>, model_<span class="dv">2</span>, model_<span class="dv">3</span>)</span></code></pre></div>
<p>Para exportar la tabla a html debemos definir la opción <code>file</code> y un nombre para el archivo html. En este ejemplo lo llamaremos “tabla_1”. Este archivo html puede ser arrastrado a tu Word para insertar las tablas directamente en el artículo. En el ejemplo, usaremos dos opciones de función para mejorar aún más la tabla. La primera es <code>custom.model.names</code> que permite nombrar los modelos y la segunda es <code>custom.coef.names</code> que permite nombrar los coeficientes. Entonces, el comando completo sería:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="logit.html#cb267-1"></a><span class="kw">htmlreg</span>(mp_models,</span>
<span id="cb267-2"><a href="logit.html#cb267-2"></a>          <span class="dt">custom.model.names =</span> <span class="kw">c</span>(<span class="st">&quot;Modelo 1&quot;</span>, <span class="st">&quot;Modelo 2&quot;</span>, <span class="st">&quot;Modelo 3&quot;</span>),</span>
<span id="cb267-3"><a href="logit.html#cb267-3"></a>          <span class="dt">custom.coef.names =</span> <span class="kw">c</span>(<span class="st">&quot;Intercepto&quot;</span>, <span class="st">&quot;Poder presidencial (Shugart &amp; Carey)&quot;</span>, </span>
<span id="cb267-4"><a href="logit.html#cb267-4"></a>                                <span class="st">&quot;Edad del régimen&quot;</span>, <span class="st">&quot;Democracia (Freedom House&quot;</span>),</span>
<span id="cb267-5"><a href="logit.html#cb267-5"></a>          <span class="dt">file=</span><span class="st">&quot;tabla_1.html&quot;</span>) <span class="co"># nombre de su archivo html. Se guardará en tu </span></span>
<span id="cb267-6"><a href="logit.html#cb267-6"></a><span class="co">#directorio de trabajo por defecto.</span></span></code></pre></div>
<p>Esta línea crea un archivo html en tu carpeta de proyecto. Si haces un clic derecho en el archivo, puedes abrirlo en Word o en cualquier procesador de texto.</p>
<p>Antes de exportarlo, también podemos ver una versión en pantalla de la tabla usando <code>screenreg</code>. En este caso, veamos cómo se ve sin la opción <code>custom.coef.names</code>. Puedes usar este comando en tus proyectos de trabajo, y una vez que te decidas por la mejor tabla, la exportas con <code>htmlreg</code>.</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="logit.html#cb268-1"></a><span class="kw">screenreg</span>(mp_models,</span>
<span id="cb268-2"><a href="logit.html#cb268-2"></a>          <span class="dt">custom.model.names =</span> <span class="kw">c</span>(<span class="st">&quot;Modelo 1&quot;</span>, <span class="st">&quot;Modelo 2&quot;</span>, <span class="st">&quot;Modelo 3&quot;</span>),</span>
<span id="cb268-3"><a href="logit.html#cb268-3"></a>          <span class="dt">custom.coef.names =</span> <span class="kw">c</span>(<span class="st">&quot;Intercepto&quot;</span>, <span class="st">&quot; Poder presidencial (Shugart &amp; Carey)&quot;</span>,</span>
<span id="cb268-4"><a href="logit.html#cb268-4"></a>                                <span class="st">&quot;Edad del régimen&quot;</span>, <span class="st">&quot;Democracia (Freedom House)&quot;</span>)</span>
<span id="cb268-5"><a href="logit.html#cb268-5"></a>          )</span>
<span id="cb268-6"><a href="logit.html#cb268-6"></a><span class="co">## </span></span>
<span id="cb268-7"><a href="logit.html#cb268-7"></a><span class="co">## =======================================================================</span></span>
<span id="cb268-8"><a href="logit.html#cb268-8"></a><span class="co">##                                        Modelo 1    Modelo 2    Modelo 3</span></span>
<span id="cb268-9"><a href="logit.html#cb268-9"></a><span class="co">## -----------------------------------------------------------------------</span></span>
<span id="cb268-10"><a href="logit.html#cb268-10"></a><span class="co">## Intercepto                               -0.24       -0.22      15.36 *</span></span>
<span id="cb268-11"><a href="logit.html#cb268-11"></a><span class="co">##                                          (0.96)      (0.97)     (6.58) </span></span>
<span id="cb268-12"><a href="logit.html#cb268-12"></a><span class="co">##  Poder presidencial (Shugart &amp; Carey)    -0.19 **    -0.19 **   -0.22  </span></span>
<span id="cb268-13"><a href="logit.html#cb268-13"></a><span class="co">##                                          (0.06)      (0.07)     (0.17) </span></span>
<span id="cb268-14"><a href="logit.html#cb268-14"></a><span class="co">## Edad del régimen                                     -0.00       0.17  </span></span>
<span id="cb268-15"><a href="logit.html#cb268-15"></a><span class="co">##                                                      (0.02)     (0.11) </span></span>
<span id="cb268-16"><a href="logit.html#cb268-16"></a><span class="co">## Democracia (Freedom House)                                      -3.75 *</span></span>
<span id="cb268-17"><a href="logit.html#cb268-17"></a><span class="co">##                                                                 (1.51) </span></span>
<span id="cb268-18"><a href="logit.html#cb268-18"></a><span class="co">## -----------------------------------------------------------------------</span></span>
<span id="cb268-19"><a href="logit.html#cb268-19"></a><span class="co">## AIC                                     213.56      215.52      20.11  </span></span>
<span id="cb268-20"><a href="logit.html#cb268-20"></a><span class="co">## BIC                                     222.50      228.92      36.29  </span></span>
<span id="cb268-21"><a href="logit.html#cb268-21"></a><span class="co">## Log Likelihood                         -104.78     -104.76      -6.06  </span></span>
<span id="cb268-22"><a href="logit.html#cb268-22"></a><span class="co">## Deviance                                209.56      209.52      12.11  </span></span>
<span id="cb268-23"><a href="logit.html#cb268-23"></a><span class="co">## Num. obs.                               644         644        422     </span></span>
<span id="cb268-24"><a href="logit.html#cb268-24"></a><span class="co">## =======================================================================</span></span>
<span id="cb268-25"><a href="logit.html#cb268-25"></a><span class="co">## *** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05</span></span></code></pre></div>
<p>Noten que <code>poder_presid</code> deja de ser estadísticamente significativa cuando controlamos por <code>calidad_democracia</code> en el Modelo 3. En este modelo, <code>calidad_democracia</code> se convierte en la única variable estadísticamente significativa. Además, noten que el número de observaciones disminuye significativamente al incluir la variable <code>calidad_democracia</code>, lo que dificulta la comparación de los modelos.</p>
<p>La función <code>skimr:skim()</code>será muy útil para detectar valores perdidos, como podemos ver en la Figura <a href="logit.html#fig:skim-logit">8.6</a>. Las tres variables tienen un número muy alto de valores faltantes, para <code>calidad_democracia</code> de casi <span class="math inline">\(2/3\)</span> del total de las observaciones (1436 de 2216).<a href="#fn41" class="footnote-ref" id="fnref41"><sup>41</sup></a></p>
<div class="figure" style="text-align: center"><span id="fig:skim-logit"></span>
<img src="00-images/logit/skim_logit.png" alt="Skim de nuestra base de datos" width="100%" />
<p class="caption">
Figura 8.6: Skim de nuestra base de datos
</p>
</div>
<p>En el muy recomendable libro <em>The Chicago Guide to Writing about Multivariate Analysis</em>, Jane Miller <span class="citation">(<a href="referencias.html#ref-millerChicagoGuideWriting2013" role="doc-biblioref">2013</a>)</span> pone mucho énfasis en la importancia de entender la diferencia entre la significancia <em>estadística</em> y la significancia <em>sustantiva</em> de los efectos cuando se interpretan las regresiones: no porque sea una variable estadísticamente significativa la magnitud del efecto será la esperada, ni significa que el hallazgo sea científicamente relevante. ¿Cuáles son algunas buenas opciones para comprender la magnitud de nuestros efectos? En MCO se suelen estandarizar los coeficientes. En regresiones logísiticas, los <em>odds ratio</em> y graficar las probabilidades predichas son buenas opciones.</p>
<p>Para utilizar los <em>odds ratios</em> queremos mostrarte cómo puedes cambiar los coeficientes que obtienes directamente de la tabla, que son <em>log odds</em>, y reemplazarlos por <em>odds ratios</em>. Para ello, puedes usar los argumentos <code>override.coef</code>,<code>override.se</code> y <code>override.pvalues</code> de <code>screenreg()</code>. Los <em>odds ratios</em>, como vimos antes, son simplemente los coeficientes exponenciados. El cálculo de sus errores estándar y los valores p, mientras tanto, es un poco más complejo: necesitamos acceder a la matriz de varianza-covarianza del modelo. Afortunadamente esto ya lo ha hecho <a href="https://www.andrewheiss.com/blog/2016/04/25/convert-logistic-regression-standard-errors-to-odds-ratios-with-r/">Andrew Heiss</a>, a quien agradecemos por compartir la función. Adaptamos ligeramente estas funciones, que pueden ser introducidas fácilmente en el análisis siempre que se haya cargado el paquete de libro, <code>paqueteadp</code>.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="logit.html#cb269-1"></a><span class="kw">screenreg</span>(model_<span class="dv">3</span>,</span>
<span id="cb269-2"><a href="logit.html#cb269-2"></a>          <span class="dt">custom.model.names =</span> <span class="st">&quot;Modelo 3 - Odds Ratios&quot;</span>,</span>
<span id="cb269-3"><a href="logit.html#cb269-3"></a>          <span class="dt">override.coef    =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(model_<span class="dv">3</span>)),</span>
<span id="cb269-4"><a href="logit.html#cb269-4"></a>          <span class="co"># la siguiente función, odds_*, están en el paquete del libro</span></span>
<span id="cb269-5"><a href="logit.html#cb269-5"></a>          <span class="dt">override.se      =</span> <span class="kw">odds_se</span>(model_<span class="dv">3</span>),</span>
<span id="cb269-6"><a href="logit.html#cb269-6"></a>          <span class="dt">override.pvalues =</span> <span class="kw">odds_pvalues</span>(model_<span class="dv">3</span>),</span>
<span id="cb269-7"><a href="logit.html#cb269-7"></a>          <span class="co"># además, omitiremos el coeficiente del intercepto</span></span>
<span id="cb269-8"><a href="logit.html#cb269-8"></a>          <span class="dt">omit.coef =</span> <span class="st">&quot;Inter&quot;</span>)</span>
<span id="cb269-9"><a href="logit.html#cb269-9"></a><span class="co">## </span></span>
<span id="cb269-10"><a href="logit.html#cb269-10"></a><span class="co">## ==========================================</span></span>
<span id="cb269-11"><a href="logit.html#cb269-11"></a><span class="co">##                     Modelo 3 - Odds Ratios</span></span>
<span id="cb269-12"><a href="logit.html#cb269-12"></a><span class="co">## ------------------------------------------</span></span>
<span id="cb269-13"><a href="logit.html#cb269-13"></a><span class="co">## poder_presid          0.80 ***            </span></span>
<span id="cb269-14"><a href="logit.html#cb269-14"></a><span class="co">##                      (0.13)               </span></span>
<span id="cb269-15"><a href="logit.html#cb269-15"></a><span class="co">## edad_regimen          1.18 ***            </span></span>
<span id="cb269-16"><a href="logit.html#cb269-16"></a><span class="co">##                      (0.13)               </span></span>
<span id="cb269-17"><a href="logit.html#cb269-17"></a><span class="co">## calidad_democracia    0.02                </span></span>
<span id="cb269-18"><a href="logit.html#cb269-18"></a><span class="co">##                      (0.04)               </span></span>
<span id="cb269-19"><a href="logit.html#cb269-19"></a><span class="co">## ------------------------------------------</span></span>
<span id="cb269-20"><a href="logit.html#cb269-20"></a><span class="co">## AIC                  20.11                </span></span>
<span id="cb269-21"><a href="logit.html#cb269-21"></a><span class="co">## BIC                  36.29                </span></span>
<span id="cb269-22"><a href="logit.html#cb269-22"></a><span class="co">## Log Likelihood       -6.06                </span></span>
<span id="cb269-23"><a href="logit.html#cb269-23"></a><span class="co">## Deviance             12.11                </span></span>
<span id="cb269-24"><a href="logit.html#cb269-24"></a><span class="co">## Num. obs.           422                   </span></span>
<span id="cb269-25"><a href="logit.html#cb269-25"></a><span class="co">## ==========================================</span></span>
<span id="cb269-26"><a href="logit.html#cb269-26"></a><span class="co">## *** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05</span></span></code></pre></div>
<p>Al obtener una tabla como la que acabamos de crear, nos encontramos con dos retos que abordaremos en las próximas subsecciones: El primero es saber si la magnitud de los efectos es sustantiva desde el punto de vista científico. Por ejemplo, ¿qué diríamos si la variable <code>calidad_democracia</code> es estadísticamente significativa y sin embargo encontramos que si un país pasa de la peor puntuación (0) a la mejor puntuación (12) en <code>calidad_democracia</code>, la probabilidad de un quiebre democrático cae sólo en un 0,03%? Probablemente diríamos que, a pesar de tener un efecto estadísticamente significativo, nuestra variable no tiene un efecto sustantivo.</p>
<p>El segundo desafío que enfrentaremos es comparar nuestros modelos para decidir cuál es el que mejor se ajusta, es decir, cuál tiene la mejor capacidad explicativa. A diferencia de MCO, no tenemos <span class="math inline">\(R^2\)</span>, por lo que se utilizan otras medidas. ¡Veamos!</p>
<blockquote>
<p><strong>Ejercicio 8B.</strong> Usando la base de datos del Latinobarometro, escoge tres variables que creas que pueden predecir <code>pro_dem</code> e interpreta el modelo con <code>summary</code>. Si te atreves, crea tablas con <code>texreg</code>. Las variables disponibles son: <code>edad_regimen</code> (edad del encuestado), <code>ideol</code> (donde 1 es la extrema izquierda y 10 la extrema derecha), <code>educ</code> (años de educación del encuestado) y <code>socioecon_status</code> (1, muy bueno - 5, muy malo).</p>
</blockquote>
</div>
<div id="representación-visual-de-los-resultados" class="section level2">
<h2><span class="header-section-number">8.6</span> Representación visual de los resultados</h2>
<p>Podemos representar visualmente la tabla que hicimos con <code>texreg</code> usando los paquetes de <code>prediction</code> y <code>margins</code>. Si has usado Stata en el pasado, este comando será familiar.</p>
<p>Para visualizar las magnitudes, una figura es mucho más intuitiva que una tabla. La figura <a href="logit.html#fig:bin-m1pr">8.7</a> muestra la probabilidad predicha de un quiebre democrático según el índice de poderes presidenciales.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="logit.html#cb270-1"></a><span class="kw">library</span>(margins)</span>
<span id="cb270-2"><a href="logit.html#cb270-2"></a><span class="kw">library</span>(prediction)</span>
<span id="cb270-3"><a href="logit.html#cb270-3"></a></span>
<span id="cb270-4"><a href="logit.html#cb270-4"></a>predict_model_<span class="dv">2</span> &lt;-<span class="st"> </span>prediction<span class="op">::</span><span class="kw">prediction</span>(</span>
<span id="cb270-5"><a href="logit.html#cb270-5"></a>  model_<span class="dv">2</span>, <span class="dt">at =</span> <span class="kw">list</span>(<span class="dt">poder_presid =</span> <span class="kw">unique</span>(<span class="kw">model.frame</span>(model_<span class="dv">2</span>)<span class="op">$</span>poder_presid))</span>
<span id="cb270-6"><a href="logit.html#cb270-6"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="logit.html#cb271-1"></a><span class="kw">summary</span>(predict_model_<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 15 x 7
##   `at(poder_presid)` Prediction     SE     z       p    lower upper
##                &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1                  5      0.227 0.117   1.95 0.0512  -0.00119 0.456
## 2                  8      0.143 0.0587  2.43 0.0149   0.0279  0.258
## 3                  9      0.121 0.0449  2.71 0.00681  0.0335  0.209
## # … with 12 more rows</code></pre>
<p>El resumen nos ofrece un <em>tibble</em> donde tenemos la probabilidad prevista de nuestra variable dependiente para cada valor observado de <code>poder_presid</code> y su significado estadístico. Esto se convierte fácilmente en una cifra, y para ello hay dos alternativas que recomendamos.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="logit.html#cb273-1"></a><span class="co">#option 1</span></span>
<span id="cb273-2"><a href="logit.html#cb273-2"></a>figure_op_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">summary</span>(predict_model_<span class="dv">2</span>),</span>
<span id="cb273-3"><a href="logit.html#cb273-3"></a>                 <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">`</span><span class="dt">at(poder_presid)</span><span class="st">`</span>, <span class="dt">y =</span> Prediction,</span>
<span id="cb273-4"><a href="logit.html#cb273-4"></a>                     <span class="dt">ymin =</span> lower, <span class="dt">ymax =</span> upper,</span>
<span id="cb273-5"><a href="logit.html#cb273-5"></a>                     <span class="dt">group =</span> <span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb273-6"><a href="logit.html#cb273-6"></a><span class="st">   </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb273-7"><a href="logit.html#cb273-7"></a><span class="st">  </span><span class="kw">geom_errorbar</span>(<span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb273-8"><a href="logit.html#cb273-8"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>)) <span class="op">+</span></span>
<span id="cb273-9"><a href="logit.html#cb273-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot; Poder presidencial&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Pr(quiebre democrático)&quot;</span>)</span>
<span id="cb273-10"><a href="logit.html#cb273-10"></a></span>
<span id="cb273-11"><a href="logit.html#cb273-11"></a>figure_op_<span class="dv">1</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m1pr"></span>
<img src="08-logit_es_files/figure-html/bin-m1pr-1.png" alt=" Opción 1. Modelo 2 basado en Mainwaring y Pérez Liñan (2013), probabilidad predicha de una ruptura democrática " width="672" />
<p class="caption">
Figura 8.7:  Opción 1. Modelo 2 basado en Mainwaring y Pérez Liñan (2013), probabilidad predicha de una ruptura democrática
</p>
</div>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="logit.html#cb274-1"></a><span class="co">#option 2</span></span>
<span id="cb274-2"><a href="logit.html#cb274-2"></a>cdat &lt;-<span class="st"> </span><span class="kw">cplot</span>(model_<span class="dv">2</span>, <span class="st">&quot;poder_presid&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;prediction&quot;</span>,</span>
<span id="cb274-3"><a href="logit.html#cb274-3"></a>              <span class="dt">main =</span> <span class="st">&quot;Pr(quiebre democrático)&quot;</span>, <span class="dt">draw =</span> F)</span>
<span id="cb274-4"><a href="logit.html#cb274-4"></a><span class="co">##   xvals yvals upper   lower</span></span>
<span id="cb274-5"><a href="logit.html#cb274-5"></a><span class="co">## 1   5.0  0.23  0.46 -0.0017</span></span>
<span id="cb274-6"><a href="logit.html#cb274-6"></a><span class="co">## 2   5.7  0.20  0.40  0.0066</span></span>
<span id="cb274-7"><a href="logit.html#cb274-7"></a><span class="co">## 3   6.4  0.18  0.35  0.0141</span></span>
<span id="cb274-8"><a href="logit.html#cb274-8"></a><span class="co">## 4   7.1  0.16  0.31  0.0207</span></span>
<span id="cb274-9"><a href="logit.html#cb274-9"></a><span class="co">## 5   7.8  0.15  0.27  0.0263</span></span>
<span id="cb274-10"><a href="logit.html#cb274-10"></a><span class="co">##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 15 rows ]</span></span>
<span id="cb274-11"><a href="logit.html#cb274-11"></a></span>
<span id="cb274-12"><a href="logit.html#cb274-12"></a><span class="kw">ggplot</span>(cdat, <span class="kw">aes</span>(<span class="dt">x =</span> xvals)) <span class="op">+</span></span>
<span id="cb274-13"><a href="logit.html#cb274-13"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> yvals)) <span class="op">+</span></span>
<span id="cb274-14"><a href="logit.html#cb274-14"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> upper), <span class="dt">linetype =</span> <span class="dv">2</span>)<span class="op">+</span></span>
<span id="cb274-15"><a href="logit.html#cb274-15"></a><span class="st">     </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> lower), <span class="dt">linetype =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb274-16"><a href="logit.html#cb274-16"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb274-17"><a href="logit.html#cb274-17"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Pr. Quiebre democrático&quot;</span>,</span>
<span id="cb274-18"><a href="logit.html#cb274-18"></a>       <span class="dt">x =</span> <span class="st">&quot;Poder presidencial&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Prob. predicha&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m2pr"></span>
<img src="08-logit_es_files/figure-html/bin-m2pr-1.png" alt=" Opción 2. Modelo 2 basado en Mainwaring y Pérez Liñán (2013), probabilidad predicha de una ruptura democrática" width="672" />
<p class="caption">
Figura 8.8:  Opción 2. Modelo 2 basado en Mainwaring y Pérez Liñán (2013), probabilidad predicha de una ruptura democrática
</p>
</div>
<p>Ambas opciones conducen al mismo resultado, el formato de la figura puede ser personalizado a tu preferencia con la sintaxis de <code>ggplot2</code>. ¿Qué dirías sobre este efecto en términos de importancia científica? Si tuviéramos que interpretar la magnitud del índice de poderes presidenciales sobre la probabilidad de un quiebre de régimen, probablemente diríamos que su caída produce un efecto considerable en los países que se encuentran entre los valores 6 y 10 del índice, pero para los valores superiores a 10 el aumento del índice casi no afecta a la probabilidad de un quiebre. De hecho, para los países con un índice de poder presidencial superior a 10, la probabilidad de un quiebre democrático es muy baja.</p>
<p>¿Cuál es el efecto medio del aumento de una unidad de la variable independiente en la probabilidad de que se produzca la variable dependiente? El Efecto Marginal Promedio (AME, por sus siglas en inglés) se utiliza para ver estos efectos, y se logra con el comando <code>plot</code> del paquete de <code>margins</code>.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="logit.html#cb275-1"></a>marginal_ef &lt;-<span class="st"> </span><span class="kw">margins</span>(model_<span class="dv">2</span>)</span>
<span id="cb275-2"><a href="logit.html#cb275-2"></a></span>
<span id="cb275-3"><a href="logit.html#cb275-3"></a><span class="kw">plot</span>(marginal_ef, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Edad del régimen&quot;</span>,<span class="st">&quot;índice de poder presidencial&quot;</span>),</span>
<span id="cb275-4"><a href="logit.html#cb275-4"></a>      <span class="dt">ylab =</span> <span class="st">&quot;AME&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m2avg"></span>
<img src="08-logit_es_files/figure-html/bin-m2avg-1.png" alt=" Efecto marginal medio del Modelo 2 basado en Mainwaring y Pérez Liñán (2013)" width="672" />
<p class="caption">
Figura 8.9:  Efecto marginal medio del Modelo 2 basado en Mainwaring y Pérez Liñán (2013)
</p>
</div>
<p>También podemos estar interesados, no en el efecto promedio, sino en el efecto marginal completo de una variable. Dada la no linealidad de estos modelos, el efecto marginal de una variable sobre la probabilidad de ocurrencia de la variable dependiente no es constante ni es significativo en toda la variable. Para ello utilizamos la función <code>cplot</code> del paquete <code>margins</code> y luego lo personalizamos con las opciones de <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="logit.html#cb276-1"></a>marginal_shugart &lt;-<span class="st"> </span><span class="kw">cplot</span>(model_<span class="dv">2</span>, <span class="st">&quot;poder_presid&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;effect&quot;</span>, </span>
<span id="cb276-2"><a href="logit.html#cb276-2"></a>                          <span class="dt">main =</span> <span class="st">&quot;Ef.Marg(Quiebre)&quot;</span>,</span>
<span id="cb276-3"><a href="logit.html#cb276-3"></a>                          <span class="dt">draw =</span> F)</span>
<span id="cb276-4"><a href="logit.html#cb276-4"></a></span>
<span id="cb276-5"><a href="logit.html#cb276-5"></a><span class="kw">ggplot</span>(marginal_shugart, <span class="kw">aes</span>(<span class="dt">x =</span> xvals)) <span class="op">+</span></span>
<span id="cb276-6"><a href="logit.html#cb276-6"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> yvals)) <span class="op">+</span></span>
<span id="cb276-7"><a href="logit.html#cb276-7"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> upper), <span class="dt">linetype =</span> <span class="dv">2</span>)<span class="op">+</span></span>
<span id="cb276-8"><a href="logit.html#cb276-8"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> lower), <span class="dt">linetype =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb276-9"><a href="logit.html#cb276-9"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb276-10"><a href="logit.html#cb276-10"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Modelo 2&quot;</span>,</span>
<span id="cb276-11"><a href="logit.html#cb276-11"></a>       <span class="dt">x =</span> <span class="st">&quot;Indice de poder presidencial&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Efecto marginal&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m2arg"></span>
<img src="08-logit_es_files/figure-html/bin-m2arg-1.png" alt="Efecto marginal de `poder_presid` en el modelo 2 en Mainwaring y Perez Liñan (2013)" width="384" />
<p class="caption">
Figura 8.10: Efecto marginal de <code>poder_presid</code> en el modelo 2 en Mainwaring y Perez Liñan (2013)
</p>
</div>
<p>También podemos graficar los coeficientes como <em>odds ratios</em>: recuerda que los <em>odds ratios</em> menores que 1 son efectos negativos y mayores que 1 son positivos. El coeficiente se expresa como su valor medio y su intervalo de confianza del 95%. Si el coeficiente es estadísticamente significativo, su intervalo de confianza no pasará de la línea en 1. Si, por el contrario, no son significativos, el efecto cruzará la línea. Comparemos los tres modelos: Para graficar los <em>odds ratios</em> usamos el paquete <code>jtools</code> de nuevo, esta vez con su función <code>plot_summs</code>. Como la opción <code>exp=T</code> es verdadera, estamos exponiendo los coeficientes. Si hiciéramos <code>exp=F</code>, veríamos las probabilidades logarítmicas de la tabla.</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="logit.html#cb277-1"></a><span class="co"># Es probable que para ejecutar este comando sea necesario</span></span>
<span id="cb277-2"><a href="logit.html#cb277-2"></a><span class="co">#instalar estos dos paquetes antes.</span></span>
<span id="cb277-3"><a href="logit.html#cb277-3"></a><span class="co">#install.packages(&quot;ggstance&quot;)</span></span>
<span id="cb277-4"><a href="logit.html#cb277-4"></a><span class="co">#install.packages(&quot;huxtable&quot;)</span></span>
<span id="cb277-5"><a href="logit.html#cb277-5"></a></span>
<span id="cb277-6"><a href="logit.html#cb277-6"></a><span class="kw">library</span>(jtools)</span>
<span id="cb277-7"><a href="logit.html#cb277-7"></a>name_models &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Modelo 1&quot;</span>, <span class="st">&quot;Modelo 2&quot;</span>, <span class="st">&quot;Modelo 3&quot;</span>)</span>
<span id="cb277-8"><a href="logit.html#cb277-8"></a></span>
<span id="cb277-9"><a href="logit.html#cb277-9"></a>odds_ratios &lt;-<span class="st"> </span><span class="kw">plot_summs</span>(model_<span class="dv">1</span>, model_<span class="dv">2</span>, model_<span class="dv">3</span>, <span class="dt">exp=</span>T, <span class="dt">scale =</span> F,</span>
<span id="cb277-10"><a href="logit.html#cb277-10"></a>                          <span class="dt">inner_ci_level =</span> <span class="fl">.9</span>,</span>
<span id="cb277-11"><a href="logit.html#cb277-11"></a>                          <span class="dt">coefs =</span> <span class="kw">c</span>(<span class="st">&quot;Indice de poder presidencial&quot;</span> =<span class="st">  &quot;poder_presid&quot;</span>,</span>
<span id="cb277-12"><a href="logit.html#cb277-12"></a>                                    <span class="st">&quot;Edad del regímen&quot;</span> =<span class="st"> &quot;edad_regimen&quot;</span>,</span>
<span id="cb277-13"><a href="logit.html#cb277-13"></a>                                    <span class="st">&quot;Indice de democracia&quot;</span> =<span class="st"> &quot;calidad_democracia&quot;</span>),</span>
<span id="cb277-14"><a href="logit.html#cb277-14"></a>                          <span class="dt">model.names =</span> name_models)</span>
<span id="cb277-15"><a href="logit.html#cb277-15"></a></span>
<span id="cb277-16"><a href="logit.html#cb277-16"></a>odds_ratios <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Coeficientes exponenciados&quot;</span>, <span class="dt">y =</span> <span class="ot">NULL</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m3or"></span>
<img src="08-logit_es_files/figure-html/bin-m3or-1.png" alt="Odds ratios del Modelo 3, basado en Mainwaring y Pérez Liñán (2013)" width="672" />
<p class="caption">
Figura 8.11: Odds ratios del Modelo 3, basado en Mainwaring y Pérez Liñán (2013)
</p>
</div>
<p>Cada vez es más común encontrar este tipo de figuras en lugar de tablas, y personalmente creemos que son preferibles. Un precursor en la disciplina del uso de figuras e infografías fue <a href="http://pages.mtu.edu/~hcking/Tufte_hKing.pdf">Edward Tufte</a>, quien fue mencionado en el Capítulo <a href="dataviz.html#dataviz">3</a>. Sin embargo, las ciencias políticas no habían prestado mucha atención a la presentación de los resultados a través de las figuras hasta hace unos dos decenios. Hoy en día, la <a href="https://www.princeton.edu/~jkastell/Tables2Graphs/graphs%20.pdf">tendencia</a> en la disciplina es evitar el uso de tablas cuando no son esenciales. Paquetes como <code>margins</code> y <code>jtools</code> han facilitado esta tarea.</p>
<p>Veamos las probabilidades predichas para la puntuación de democracia según Freedom House: observamos que la relación entre la probabilidad de que ocurra un colapso democrático y la puntuación de calidad democrática es negativa. Cuando un país tiene un puntaje de 2.5 en el índice, la probabilidad de un quiebre democrática es del 100%. Cuando la puntuación es de 5, la probabilidad es casi nula. Por lo tanto, un pequeño cambio en este índice afectará enormemente la probabilidad de un quiebre de régimen.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="logit.html#cb278-1"></a>cdat &lt;-<span class="st"> </span><span class="kw">cplot</span>(model_<span class="dv">3</span>, <span class="st">&quot;calidad_democracia&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;prediction&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Pr(Quiebre)&quot;</span>)</span>
<span id="cb278-2"><a href="logit.html#cb278-2"></a><span class="co">##   xvals yvals upper lower</span></span>
<span id="cb278-3"><a href="logit.html#cb278-3"></a><span class="co">## 1   2.0  1.00   1.0  0.99</span></span>
<span id="cb278-4"><a href="logit.html#cb278-4"></a><span class="co">## 2   2.4  1.00   1.0  0.97</span></span>
<span id="cb278-5"><a href="logit.html#cb278-5"></a><span class="co">## 3   2.8  0.98   1.1  0.89</span></span>
<span id="cb278-6"><a href="logit.html#cb278-6"></a><span class="co">## 4   3.2  0.90   1.2  0.64</span></span>
<span id="cb278-7"><a href="logit.html#cb278-7"></a><span class="co">## 5   3.7  0.65   1.1  0.19</span></span>
<span id="cb278-8"><a href="logit.html#cb278-8"></a><span class="co">##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 15 rows ]</span></span>
<span id="cb278-9"><a href="logit.html#cb278-9"></a></span>
<span id="cb278-10"><a href="logit.html#cb278-10"></a><span class="kw">ggplot</span>(cdat, <span class="kw">aes</span>(<span class="dt">x =</span> xvals)) <span class="op">+</span></span>
<span id="cb278-11"><a href="logit.html#cb278-11"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> yvals)) <span class="op">+</span></span>
<span id="cb278-12"><a href="logit.html#cb278-12"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> upper), <span class="dt">linetype =</span> <span class="dv">2</span>)<span class="op">+</span></span>
<span id="cb278-13"><a href="logit.html#cb278-13"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> lower), <span class="dt">linetype =</span> <span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb278-14"><a href="logit.html#cb278-14"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb278-15"><a href="logit.html#cb278-15"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot; Probabilidad de quiebre democrático&quot;</span>,</span>
<span id="cb278-16"><a href="logit.html#cb278-16"></a>       <span class="dt">x =</span> <span class="st">&quot;Indice de Freedom House&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Prob. predicha&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m3prpr-avgs"></span>
<img src="08-logit_es_files/figure-html/bin-m3prpr-avgs-1.png" alt=" Probabilidades predichas de FH en el Modelo 3, basadas en Mainwaring y Pérez Liñán (2013)" width="384" /><img src="08-logit_es_files/figure-html/bin-m3prpr-avgs-2.png" alt=" Probabilidades predichas de FH en el Modelo 3, basadas en Mainwaring y Pérez Liñán (2013)" width="384" />
<p class="caption">
Figura 8.12:  Probabilidades predichas de FH en el Modelo 3, basadas en Mainwaring y Pérez Liñán (2013)
</p>
</div>
<blockquote>
<p><strong>Ejercicio 8C.</strong> Con las regresiones que has corrido usando los datos del Latinobarometro, crea tres gráficos para visualizar los efectos, ya sean probabilidades predichas, efectos marginales o coeficientes expresados como <em>odds ratios</em>. ¿Sus hallazgos tienen una significancia sustantiva?</p>
</blockquote>
<div id="visualización-de-las-interacciones-entre-las-variables" class="section level3">
<h3><span class="header-section-number">8.6.1</span> Visualización de las interacciones entre las variables</h3>
<p>Este tema puede ser útil si ya se tienes algún conocimiento sobre lo que es una variable interactiva y para qué se utilizan. Si no es así, y no te interesa saberlo, puedes pasar a la siguiente sección sobre el ajuste de los modelos sin problemas.
¿Cómo se vería una hipótesis interactiva en los modelos logísticos? Supongamos que después de meses de explorar las variables políticas que predicen la ocurrencia de un quiebre de régimen en América Latina (<code>edad_regimen</code>, <code>poder_presid</code> y <code>calidad_democracia</code>), decidimos explorar si las variables económicas pueden tener poder explicativo. Después de estudiar extensamente la literatura existente, se formula la hipótesis de que la desigualdad económica en la sociedad (que mediremos con el índice de Gini como hicimos en el capítulo de MCO) afecta positivamente la probabilidad de un quiebre democrático. Para ello seguimos utilizando la base de datos <code>quiebre_democracia</code>, ahora con las variables económicas (<code>crecim_10a</code>, <code>x_miner_petrol</code> y <code>gini</code>). Construyamos un nuevo modelo, esta vez incorporando el índice de Gini:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="logit.html#cb279-1"></a>model_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw">glm</span>(quiebre_democracia <span class="op">~</span><span class="st">  </span>gini,</span>
<span id="cb279-2"><a href="logit.html#cb279-2"></a>               <span class="dt">data =</span> quiebre_democracia,</span>
<span id="cb279-3"><a href="logit.html#cb279-3"></a>               <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>))</span>
<span id="cb279-4"><a href="logit.html#cb279-4"></a><span class="kw">summary</span>(model_<span class="dv">4</span>)</span>
<span id="cb279-5"><a href="logit.html#cb279-5"></a><span class="co">## </span></span>
<span id="cb279-6"><a href="logit.html#cb279-6"></a><span class="co">## Call:</span></span>
<span id="cb279-7"><a href="logit.html#cb279-7"></a><span class="co">## glm(formula = quiebre_democracia ~ gini, family = binomial(&quot;logit&quot;), </span></span>
<span id="cb279-8"><a href="logit.html#cb279-8"></a><span class="co">##     data = quiebre_democracia)</span></span>
<span id="cb279-9"><a href="logit.html#cb279-9"></a><span class="co">## </span></span>
<span id="cb279-10"><a href="logit.html#cb279-10"></a><span class="co">## Deviance Residuals: </span></span>
<span id="cb279-11"><a href="logit.html#cb279-11"></a><span class="co">##    Min      1Q  Median      3Q     Max  </span></span>
<span id="cb279-12"><a href="logit.html#cb279-12"></a><span class="co">## -0.334  -0.253  -0.226  -0.204   2.898  </span></span>
<span id="cb279-13"><a href="logit.html#cb279-13"></a><span class="co">## </span></span>
<span id="cb279-14"><a href="logit.html#cb279-14"></a><span class="co">## Coefficients:</span></span>
<span id="cb279-15"><a href="logit.html#cb279-15"></a><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)</span></span>
<span id="cb279-16"><a href="logit.html#cb279-16"></a><span class="co">## (Intercept)  -1.2591     2.4405   -0.52     0.61</span></span>
<span id="cb279-17"><a href="logit.html#cb279-17"></a><span class="co">## gini         -0.0460     0.0488   -0.94     0.35</span></span>
<span id="cb279-18"><a href="logit.html#cb279-18"></a><span class="co">## </span></span>
<span id="cb279-19"><a href="logit.html#cb279-19"></a><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb279-20"><a href="logit.html#cb279-20"></a><span class="co">## </span></span>
<span id="cb279-21"><a href="logit.html#cb279-21"></a><span class="co">##     Null deviance: 110.28  on 442  degrees of freedom</span></span>
<span id="cb279-22"><a href="logit.html#cb279-22"></a><span class="co">## Residual deviance: 109.40  on 441  degrees of freedom</span></span>
<span id="cb279-23"><a href="logit.html#cb279-23"></a><span class="co">##   (1773 observations deleted due to missingness)</span></span>
<span id="cb279-24"><a href="logit.html#cb279-24"></a><span class="co">## AIC: 113.4</span></span>
<span id="cb279-25"><a href="logit.html#cb279-25"></a><span class="co">## </span></span>
<span id="cb279-26"><a href="logit.html#cb279-26"></a><span class="co">## Number of Fisher Scoring iterations: 6</span></span></code></pre></div>
<p>Pero eso no es todo, porque también formulamos una hipótesis interactiva, que sostiene que el efecto de la desigualdad económica en la sociedad sobre la probabilidad de un quiebre democrático <em>dependerá</em> de cuánto haya crecido la “torta” para a distribuida (es decir, del crecimiento de la economía reciente). Por lo tanto, interactuaremos <code>gini</code> con <code>crecim_10a</code> que mide el crecimiento económico en los diez años anteriores al quiebre democrático. También añadiremos algunos controles, que no merecen demasiada discusión.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="logit.html#cb280-1"></a>model_<span class="dv">5</span> &lt;-<span class="st"> </span><span class="kw">glm</span>(quiebre_democracia <span class="op">~</span><span class="st"> </span>crecim_10a <span class="op">*</span><span class="st"> </span>gini <span class="op">+</span><span class="st"> </span>x_miner_petrol <span class="op">+</span><span class="st"> </span>poder_presid,</span>
<span id="cb280-2"><a href="logit.html#cb280-2"></a>               <span class="dt">data =</span> quiebre_democracia,</span>
<span id="cb280-3"><a href="logit.html#cb280-3"></a>               <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="st">&quot;logit&quot;</span>))</span>
<span id="cb280-4"><a href="logit.html#cb280-4"></a></span>
<span id="cb280-5"><a href="logit.html#cb280-5"></a><span class="kw">summary</span>(model_<span class="dv">5</span>)</span>
<span id="cb280-6"><a href="logit.html#cb280-6"></a><span class="co">## </span></span>
<span id="cb280-7"><a href="logit.html#cb280-7"></a><span class="co">## Call:</span></span>
<span id="cb280-8"><a href="logit.html#cb280-8"></a><span class="co">## glm(formula = quiebre_democracia ~ crecim_10a * gini + x_miner_petrol + </span></span>
<span id="cb280-9"><a href="logit.html#cb280-9"></a><span class="co">##     poder_presid, family = binomial(&quot;logit&quot;), data = quiebre_democracia)</span></span>
<span id="cb280-10"><a href="logit.html#cb280-10"></a><span class="co">## </span></span>
<span id="cb280-11"><a href="logit.html#cb280-11"></a><span class="co">## Deviance Residuals: </span></span>
<span id="cb280-12"><a href="logit.html#cb280-12"></a><span class="co">##    Min      1Q  Median      3Q     Max  </span></span>
<span id="cb280-13"><a href="logit.html#cb280-13"></a><span class="co">## -0.581  -0.226  -0.178  -0.143   3.009  </span></span>
<span id="cb280-14"><a href="logit.html#cb280-14"></a><span class="co">## </span></span>
<span id="cb280-15"><a href="logit.html#cb280-15"></a><span class="co">## Coefficients:</span></span>
<span id="cb280-16"><a href="logit.html#cb280-16"></a><span class="co">##                  Estimate Std. Error z value Pr(&gt;|z|)  </span></span>
<span id="cb280-17"><a href="logit.html#cb280-17"></a><span class="co">## (Intercept)        6.5797     4.8787    1.35    0.177  </span></span>
<span id="cb280-18"><a href="logit.html#cb280-18"></a><span class="co">## crecim_10a      -256.1668   128.7769   -1.99    0.047 *</span></span>
<span id="cb280-19"><a href="logit.html#cb280-19"></a><span class="co">## gini              -0.1371     0.0788   -1.74    0.082 .</span></span>
<span id="cb280-20"><a href="logit.html#cb280-20"></a><span class="co">## x_miner_petrol    -1.6673     4.7359   -0.35    0.725  </span></span>
<span id="cb280-21"><a href="logit.html#cb280-21"></a><span class="co">##  [ reached getOption(&quot;max.print&quot;) -- omitted 2 rows ]</span></span>
<span id="cb280-22"><a href="logit.html#cb280-22"></a><span class="co">## ---</span></span>
<span id="cb280-23"><a href="logit.html#cb280-23"></a><span class="co">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb280-24"><a href="logit.html#cb280-24"></a><span class="co">## </span></span>
<span id="cb280-25"><a href="logit.html#cb280-25"></a><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span id="cb280-26"><a href="logit.html#cb280-26"></a><span class="co">## </span></span>
<span id="cb280-27"><a href="logit.html#cb280-27"></a><span class="co">##     Null deviance: 94.80  on 425  degrees of freedom</span></span>
<span id="cb280-28"><a href="logit.html#cb280-28"></a><span class="co">## Residual deviance: 87.54  on 420  degrees of freedom</span></span>
<span id="cb280-29"><a href="logit.html#cb280-29"></a><span class="co">##   (1790 observations deleted due to missingness)</span></span>
<span id="cb280-30"><a href="logit.html#cb280-30"></a><span class="co">## AIC: 99.54</span></span>
<span id="cb280-31"><a href="logit.html#cb280-31"></a><span class="co">## </span></span>
<span id="cb280-32"><a href="logit.html#cb280-32"></a><span class="co">## Number of Fisher Scoring iterations: 7</span></span></code></pre></div>
<p>Como pueden ver, la interacción de <code>crecim_10a*gini</code> es estadísticamente significativa. ¿Cómo interpretamos este coeficiente? Allí vamos:
La necesidad de incluir variables interactivas para probar las hipótesis condicionales en los modelos binarios ha sido objeto de un gran debate académico en los últimos años. A diferencia de los modelos lineales estimados a partir de MCO, donde hay consenso sobre esta necesidad <span class="citation">(en parte a partir de Brambor, Clark, and Golder <a href="referencias.html#ref-bramborUnderstandingInteractionModels2006" role="doc-biblioref">2006</a>)</span>. En el MCO, debido a la construcción del propio estimador y al supuesto de linealidad en los parámetros, los efectos de las variables independientes sobre la variable dependiente son siempre efectos constantes e independientes del valor tomado por las otras covariables del modelo.</p>
<p>Los modelos logísticos, por otra parte, son interactivos por naturaleza: el efecto de una variable independiente sobre la probabilidad de que ocurra la variable dependiente depende de los valores de las otras covariables del modelo, como se ejemplifica con el Modelo 1 al principio del capítulo. Hay dos opiniones al respecto en la ciencia política: Según <span class="citation">Berry, DeMeritt, and Esarey (<a href="referencias.html#ref-berryTestingInteractionBinary2010" role="doc-biblioref">2010</a>)</span>, la inclusión o no de un término interactivo en una regresión logística dependerá en gran medida de la hipótesis o teoría que prediga el efecto de la interacción. En particular, dependerá de si la hipótesis predice un efecto sobre la variable dependiente latente, o si se trata de la probabilidad de que ocurra el evento. Si la hipótesis se refiere al primer escenario, entonces no hay más discusión en la literatura, ya que la situación es análoga al caso de una variable dependiente continúa estimada con una regresión MCO. Por lo tanto, es necesario incorporar un término de multiplicación con su respectivo coeficiente para evaluar la interacción.</p>
<p><span class="citation">Rainey (<a href="referencias.html#ref-raineyCompressionConditionalEffects2016" role="doc-biblioref">2016</a>)</span>, por su parte, sostiene que incluso cuando la hipótesis de interacción sobre la probabilidad de ocurrencia de la variable dependiente se basa en la noción de compresión, es necesario incorporar términos de interacción en los modelos. La recomendación de Rainey <span class="citation">(<a href="referencias.html#ref-raineyCompressionConditionalEffects2016" role="doc-biblioref">2016</a>)</span> es incorporar siempre términos de interacción porque si no incluyen el modelo de regresión logística, no puede representar situaciones razonables que serían inconsistentes con la teoría interactiva.</p>
<p>Aunque este debate sigue abierto, en este capítulo recomendamos que <em>siempre se incluyan las interacciones si se tienen razones teóricas para hacerlo</em>. A efectos prácticos, el paquete de <code>margins</code> que utilizaremos para visualizar este tipo de efectos interactivos requiere este término.</p>
<p>¿Cómo interpretamos este coeficiente? Los resultados muestran que la desigualdad de la sociedad aumenta la probabilidad de un quiebre democrático sólo cuando la economía ha crecido en los últimos diez años. También confirmamos que en las recesiones económicas la probabilidad de un quiebre democrático aumenta fuertemente pero sólo si la sociedad tiene un índice de Gini de menos de 50 puntos, es decir, en sociedades más equitativas. Para graficar estos hallazgos utilizamos la función <code>persp()</code> del paquete de <code>margins</code> de nuestro modelo que tiene la interacción.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="logit.html#cb281-1"></a><span class="kw">persp</span>(model_<span class="dv">5</span>, <span class="st">&quot;crecim_10a&quot;</span>, <span class="st">&quot;gini&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;prediction&quot;</span>,</span>
<span id="cb281-2"><a href="logit.html#cb281-2"></a>      <span class="dt">ylab =</span> <span class="st">&quot;Desigualdad&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;Crecimiento económico&quot;,</span></span>
<span id="cb281-3"><a href="logit.html#cb281-3"></a><span class="st">      zlab = &quot;</span>Probabilidad predicha<span class="st">&quot; )</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m3prpr-medias"></span>
<img src="08-logit_es_files/figure-html/bin-m3prpr-medias-1.png" alt=" Interacción entre el coeficiente de Gini y el crecimiento del PBI en tres dimensiones" width="480" />
<p class="caption">
Figura 8.13:  Interacción entre el coeficiente de Gini y el crecimiento del PBI en tres dimensiones
</p>
</div>
<p>Una forma alternativa de ver los resultados de la interacción es en dos dimensiones. Para ello utilizamos la función <code>image</code>. Ambas son equivalentes, dependerá de nuestra preferencia estética.</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="logit.html#cb282-1"></a><span class="kw">image</span>(model_<span class="dv">5</span>, <span class="st">&quot;crecim_10a&quot;</span>, <span class="st">&quot;gini&quot;</span>,</span>
<span id="cb282-2"><a href="logit.html#cb282-2"></a>      <span class="dt">xlab =</span> <span class="st">&quot;Crecimiento económico&quot;, ylab = &quot;</span>Desigualdad<span class="st">&quot;,</span></span>
<span id="cb282-3"><a href="logit.html#cb282-3"></a><span class="st">      zlab = &quot;</span>Probabilidad predicha<span class="st">&quot;)</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-m3prpr-medias-2d"></span>
<img src="08-logit_es_files/figure-html/bin-m3prpr-medias-2d-1.png" alt=" Interacción entre el coeficiente de Gini y el crecimiento del PIB en dos dimensiones " width="480" />
<p class="caption">
Figura 8.14:  Interacción entre el coeficiente de Gini y el crecimiento del PIB en dos dimensiones
</p>
</div>
</div>
</div>
<div id="medidas-para-evaluar-el-ajuste-de-los-modelos" class="section level2">
<h2><span class="header-section-number">8.7</span> Medidas para evaluar el ajuste de los modelos</h2>
<p>Una vez que se haya analizado la importancia sustantiva de los modelos mediante tablas y trazando las probabilidades previstas y los efectos marginales, podría interesarte el ajuste de los modelos. Al igual que en la MCO, cuando se utilizan <span class="math inline">\(R^2\)</span> y el error medio de la raíz cuadrada, hay una serie de estadísticas diseñadas para saber cuál de los modelos logísticos tiene el mejor ajuste.</p>
<div id="pseudo-r2" class="section level4">
<h4><span class="header-section-number">8.7.0.1</span> Pseudo-<span class="math inline">\(R^2\)</span></h4>
<p>Muchas veces, verás que las regresiones logísticas van acompañadas de Pseudo-<span class="math inline">\(R^2\)</span>. No es nuestra medida favorita para los modelos logísticos, pero se usa habitualmente. Para entender cómo se interpreta el Pseudo-<span class="math inline">\(R^2\)</span> (normalmente se usa el de McFadden) es importante entender cómo se diferencia de un <span class="math inline">\(R^2\)</span> en las regresiones lineales (puedes usar <a href="http://setosa.io/ev/ordinary-least-squares-regression/">este enlace</a> para acompañar su interpretación en el capítulo de MCO). La fórmula, en este caso es</p>
<p><span class="math inline">\(psR^2 = 1-\frac{ln\hat{L}(Modelo completo)}{ln\hat{L}(Modelo solo con intercepto)}\)</span></p>
<p>Donde <span class="math inline">\(\hat{L}\)</span> es la probabilidad estimada por el modelo. Básicamente, lo que hace la fórmula es comparar el modelo con todas nuestras covariables con el modelo que apenas tiene el intercepto, para ver cuánto mejora la capacidad explicativa del mismo si incluimos variables independientes. Dado que <span class="math inline">\(L\)</span> oscila entre 0 y 1, su logaritmo es menor o igual a 0. Por lo tanto, cuanto menor sea la relación, mayor será la diferencia entre el modelo elegido y el modelo que sólo tiene intercepto. La función se toma del paquete <code>pscl</code>. Los modelos 1 y 2 tienen casi la misma capacidad explicativa, aunque se ha incorporado una variable más en el segundo modelo. En cambio, al añadir <code>calidad_democracia</code> al modelo 3, nuestro Pseudo-<span class="math inline">\(R^2\)</span> salta a 0,96.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="logit.html#cb283-1"></a><span class="kw">library</span>(pscl)</span>
<span id="cb283-2"><a href="logit.html#cb283-2"></a><span class="kw">pR2</span>(model_<span class="dv">1</span>)[[<span class="st">&quot;McFadden&quot;</span>]]</span>
<span id="cb283-3"><a href="logit.html#cb283-3"></a><span class="co">## fitting null model for pseudo-r2</span></span>
<span id="cb283-4"><a href="logit.html#cb283-4"></a><span class="co">## [1] 0.038</span></span>
<span id="cb283-5"><a href="logit.html#cb283-5"></a><span class="kw">pR2</span>(model_<span class="dv">2</span>)[[<span class="st">&quot;McFadden&quot;</span>]]</span>
<span id="cb283-6"><a href="logit.html#cb283-6"></a><span class="co">## fitting null model for pseudo-r2</span></span>
<span id="cb283-7"><a href="logit.html#cb283-7"></a><span class="co">## [1] 0.038</span></span>
<span id="cb283-8"><a href="logit.html#cb283-8"></a><span class="kw">pR2</span>(model_<span class="dv">3</span>)[[<span class="st">&quot;McFadden&quot;</span>]]</span>
<span id="cb283-9"><a href="logit.html#cb283-9"></a><span class="co">## fitting null model for pseudo-r2</span></span>
<span id="cb283-10"><a href="logit.html#cb283-10"></a><span class="co">## [1] 0.83</span></span></code></pre></div>
<p>También se podría implementar un <span class="math inline">\(pseudo-R^2\)</span> ajustado. Ajustado significa que es una versión que penaliza la cantidad de covariables. Al igual que en el <span class="math inline">\(R^2\)</span> ajustado, añadimos a la fórmula el término <span class="math inline">\(c\)</span>, que es la cantidad de covariables, y por lo tanto tenemos
<span class="math inline">\(Pseudo-R^2=1-\frac{ln\hat{L}(Modelo completo)-c}{ln\hat{L}(Modelo solo con intercepto)}\)</span></p>
<p>Aunque el <span class="math inline">\(R^2\)</span> siempre aumenta cuando se añaden covariables al modelo, si utilizamos medidas ajustadas, tendremos en cuenta este aspecto.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="logit.html#cb284-1"></a><span class="kw">library</span>(DescTools)</span>
<span id="cb284-2"><a href="logit.html#cb284-2"></a><span class="kw">PseudoR2</span>(model_<span class="dv">1</span>, <span class="kw">c</span>(<span class="st">&quot;McFadden&quot;</span>))</span>
<span id="cb284-3"><a href="logit.html#cb284-3"></a><span class="co">## McFadden </span></span>
<span id="cb284-4"><a href="logit.html#cb284-4"></a><span class="co">##     0.43</span></span>
<span id="cb284-5"><a href="logit.html#cb284-5"></a><span class="kw">PseudoR2</span>(model_<span class="dv">2</span>, <span class="kw">c</span>(<span class="st">&quot;McFadden&quot;</span>))</span>
<span id="cb284-6"><a href="logit.html#cb284-6"></a><span class="co">## McFadden </span></span>
<span id="cb284-7"><a href="logit.html#cb284-7"></a><span class="co">##     0.43</span></span>
<span id="cb284-8"><a href="logit.html#cb284-8"></a><span class="kw">PseudoR2</span>(model_<span class="dv">3</span>, <span class="kw">c</span>(<span class="st">&quot;McFadden&quot;</span>))</span>
<span id="cb284-9"><a href="logit.html#cb284-9"></a><span class="co">## McFadden </span></span>
<span id="cb284-10"><a href="logit.html#cb284-10"></a><span class="co">##     0.97</span></span></code></pre></div>
</div>
<div id="aic" class="section level4">
<h4><span class="header-section-number">8.7.0.2</span> AIC</h4>
<p>Casi siempre, las tablas con modelos de regresión logística informan sobre el Criterio de Información de Akaike (AIC, por sus siglas en inglés). Éstos permiten la comparación de diferentes modelos ejecutados para la misma muestra y decidir cuál tiene un mejor poder explicativo. El AIC, al igual que el <span class="math inline">\(Pseudo-R^2\)</span>, utiliza información de <span class="math inline">\(ln(\hat{L})\)</span>. Lo que hace la AIC es medir la “distancia” que existe entre los parámetros verdaderos y los estimadores del modelo, mediante una distancia matemática llamada divergencia Kullback-Leibler. Cuanto más pequeña sea esta distancia, mejor será el modelo. Es muy útil cuando se comparan diferentes modelos para argumentar cuál debe tomarse como referencia, y se calcula como</p>
<p><span class="math inline">\(AIC = 2p-2ln(\hat {L})\)</span></p>
<p><span class="math inline">\(p\)</span> es el número de regresores incluyendo la intercepción, y <span class="math inline">\(hat{L}\)</span> es la probabilidad estimada por el modelo. De los tres modelos, claramente el que mejor se ajusta a este criterio es el tercero.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="logit.html#cb285-1"></a><span class="kw">AIC</span>(model_<span class="dv">1</span>)</span>
<span id="cb285-2"><a href="logit.html#cb285-2"></a><span class="co">## [1] 214</span></span>
<span id="cb285-3"><a href="logit.html#cb285-3"></a><span class="kw">AIC</span>(model_<span class="dv">2</span>)</span>
<span id="cb285-4"><a href="logit.html#cb285-4"></a><span class="co">## [1] 216</span></span>
<span id="cb285-5"><a href="logit.html#cb285-5"></a><span class="kw">AIC</span>(model_<span class="dv">3</span>)</span>
<span id="cb285-6"><a href="logit.html#cb285-6"></a><span class="co">## [1] 20</span></span></code></pre></div>
</div>
<div id="bic" class="section level4">
<h4><span class="header-section-number">8.7.0.3</span> BIC</h4>
<p>El Criterio de Información Bayesiana (BIC, por sus siglas en inglés), al igual que el AIC, es un criterio para comparar los modelos según su ajuste. A efectos prácticos, y para no entrar en las diferencias entre el AIC y el BIC, es importante saber que el BIC penaliza la complejidad del modelo más rigurosamente que el AIC, ya que su fórmula es</p>
<p><span class="math inline">\(BIC=ln(n)p-2ln(\hat {L})\)</span></p>
<p>donde se añade a la fórmula <span class="math inline">\(n\)</span>, que es el número de observaciones en la muestra. Los resultados son similares a los que obtuvimos a través de la AIC, es decir, el tercer modelo muestra el mejor ajuste.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="logit.html#cb286-1"></a><span class="kw">BIC</span>(model_<span class="dv">1</span>)</span>
<span id="cb286-2"><a href="logit.html#cb286-2"></a><span class="co">## [1] 222</span></span>
<span id="cb286-3"><a href="logit.html#cb286-3"></a><span class="kw">BIC</span>(model_<span class="dv">2</span>)</span>
<span id="cb286-4"><a href="logit.html#cb286-4"></a><span class="co">## [1] 229</span></span>
<span id="cb286-5"><a href="logit.html#cb286-5"></a><span class="kw">BIC</span>(model_<span class="dv">3</span>)</span>
<span id="cb286-6"><a href="logit.html#cb286-6"></a><span class="co">## [1] 36</span></span></code></pre></div>
<p>A efectos prácticos, se recomienda utilizar el AIC o el BIC, pero no es necesario informar de ambos en un cuadro con varios modelos.</p>
</div>
<div id="porcentaje-de-predicciones-correctas" class="section level4">
<h4><span class="header-section-number">8.7.0.4</span> Porcentaje de predicciones correctas</h4>
<p>Tal vez, un nombre mejor para ello sería “Porcentaje de clasificaciones correctas”. Este es uno de nuestros diagnósticos favoritos por la bondad de encajar en los modelos Logit, ya que es el más intuitivo de todos. Para entender el porcentaje de predicciones correctas en un modelo, es importante tener claro que un modelo produce cuatro combinaciones posibles para cada observación:</p>
<div class="figure" style="text-align: center"><span id="fig:perc-pred"></span>
<img src="00-images/logit/perc_pred.png" alt=" Tabla de clasificación a partir de la cual se calcula el porcentaje de predicciones correctas" width="60%" />
<p class="caption">
Figura 8.15:  Tabla de clasificación a partir de la cual se calcula el porcentaje de predicciones correctas
</p>
</div>
<p>Cualquier observación se clasificará como “correcta” si corresponde al cuadro superior izquierdo (verdadero positivo) o al inferior derecho (verdadero negativo). El porcentaje de observaciones que pertenecen a estos dos recuadros determina el porcentaje de predicciones correctas en el modelo. Como criterio estándar, si la probabilidad estimada de una observación es mayor o igual al 50%, se estima que es una probabilidad positiva, y si es menor del 50%, será una probabilidad negativa.</p>
<p>Para calcular las predicciones correctas, necesitamos hacer varios pasos, pero si utilizas los comandos que te ofrecemos a continuación, podrás hacerlo con tu propia base de datos cuando trabajes solo. En primer lugar, necesitamos usar el paquete <code>broom</code>, que transforma los modelos que hemos guardado en bases de datos en formato <code>tidy</code>, como vimos en el Capítulo <a href="linear.html#linear">5</a>. Calcularemos los valores predichos del modelo 3 como un ejemplo que puede ser repetido para los otros modelos. Lo primero que necesitamos son los valores predichos, es decir, la probabilidad asignada a cada observación de que <code>Y=1</code>. En el orden que obtuvimos usando <code>broom</code> esta variable se llama <code>.fitted</code>.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="logit.html#cb287-1"></a><span class="kw">library</span>(broom)</span>
<span id="cb287-2"><a href="logit.html#cb287-2"></a></span>
<span id="cb287-3"><a href="logit.html#cb287-3"></a>pred_model_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">augment</span>(model_<span class="dv">3</span>, <span class="dt">type.predict =</span> <span class="st">&quot;response&quot;</span>)</span>
<span id="cb287-4"><a href="logit.html#cb287-4"></a>pred_model_<span class="dv">3</span></span>
<span id="cb287-5"><a href="logit.html#cb287-5"></a><span class="co">## # A tibble: 422 x 11</span></span>
<span id="cb287-6"><a href="logit.html#cb287-6"></a><span class="co">##   .rownames quiebre_democra… poder_presid edad_regimen calidad_democra…</span></span>
<span id="cb287-7"><a href="logit.html#cb287-7"></a><span class="co">##   &lt;chr&gt;                &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;            &lt;dbl&gt;</span></span>
<span id="cb287-8"><a href="logit.html#cb287-8"></a><span class="co">## 1 75                       0           19            1                8</span></span>
<span id="cb287-9"><a href="logit.html#cb287-9"></a><span class="co">## 2 76                       0           19            2                8</span></span>
<span id="cb287-10"><a href="logit.html#cb287-10"></a><span class="co">## 3 77                       1           19            3                3</span></span>
<span id="cb287-11"><a href="logit.html#cb287-11"></a><span class="co">## # … with 419 more rows, and 6 more variables</span></span></code></pre></div>
<p>La función <code>dplyr</code> nos permite transformar nuestra nueva base obtenida a través de <code>broom</code>. Una de las funciones básicas de <code>dplyr</code> es <code>select</code>, que nos permite elegir las variables por sus nombres. Necesitamos identificar los valores predichos y la variable dependiente (en este caso <code>quiebre_democracia</code>) para comparar la probabilidad asignada por el modelo con el valor real de la variable. La función <code>mutate</code> de <code>dplyr</code> nos permitirá crear una variable binaria para saber si el modelo ha predicho correctamente cada observación. El punto de corte es 0,5, es decir, si la probabilidad estimada es igual o superior a 0,5, se considera que el modelo ha predicho la ocurrencia del evento, y si es inferior a ese valor, se considera que ha predicho la no ocurrencia del evento. Trabajar con valores de corte arbitrarios tiene desventajas, que como veremos a continuación se resuelven con los ROC. Finalmente, creamos una variable que llamamos <code>pcp</code> (<em>p</em>orcentaje de <em>c</em>orrectamente <em>p</em>redicho) que muestra la proporción de verdaderos positivos y verdaderos negativos estimados por el modelo 3. El resultado muestra que de las 422 observaciones del modelo 3, el 99,5% se han predicho correctamente.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="logit.html#cb288-1"></a>pred_model_<span class="dv">3</span> <span class="op">%&gt;%</span></span>
<span id="cb288-2"><a href="logit.html#cb288-2"></a><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(.rownames, quiebre_democracia, .fitted) <span class="op">%&gt;%</span></span>
<span id="cb288-3"><a href="logit.html#cb288-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">predict_binary =</span> <span class="kw">if_else</span>(.fitted <span class="op">&gt;=</span><span class="st"> </span><span class="fl">0.5</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb288-4"><a href="logit.html#cb288-4"></a>                      <span class="dt">predict_binary =</span> <span class="kw">if_else</span>(quiebre_democracia <span class="op">==</span></span>
<span id="cb288-5"><a href="logit.html#cb288-5"></a><span class="st">                                                 </span>predict_binary, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">%&gt;%</span></span>
<span id="cb288-6"><a href="logit.html#cb288-6"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">pcp =</span> <span class="kw">mean</span>(predict_binary))</span>
<span id="cb288-7"><a href="logit.html#cb288-7"></a><span class="co">## # A tibble: 1 x 1</span></span>
<span id="cb288-8"><a href="logit.html#cb288-8"></a><span class="co">##     pcp</span></span>
<span id="cb288-9"><a href="logit.html#cb288-9"></a><span class="co">##   &lt;dbl&gt;</span></span>
<span id="cb288-10"><a href="logit.html#cb288-10"></a><span class="co">## 1 0.995</span></span></code></pre></div>
</div>
<div id="puntaje-brier" class="section level4">
<h4><span class="header-section-number">8.7.0.5</span> Puntaje Brier</h4>
<p>Esta es otra medida de ajuste, menos frecuente en Ciencias Políticas pero muy útil. Cuanto más se acerque el puntaje Brier a 0, mejor será el ajuste del modelo. En general, no se utilizan todas las medidas que estamos revisando (AIC, BIC, Brier, etc.), sino que se eligen dos o tres que sean de su agrado. Pensamos que las situaciones en las que se quiere “castigar” las predicciones erróneas es una alternativa ideal ya que su fórmula viene dada por <span class="math display">\[BS=\frac{1}{N}\sum(\hat{p}-x)^2\]</span>
donde <span class="math inline">\(N\)</span> es el número de observaciones, <span class="math inline">\(hat{p}\)</span> es la probabilidad predicha para cada observación, y <span class="math inline">\(x\)</span> es el valor real de la observación en nuestra base de datos. La puntuación es el promedio de todas las observaciones de la muestra. ¿Cuál de los tres modelos tiene la puntuación más baja?</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="logit.html#cb289-1"></a><span class="kw">BrierScore</span>(model_<span class="dv">1</span>)</span>
<span id="cb289-2"><a href="logit.html#cb289-2"></a><span class="co">## [1] 0.038</span></span>
<span id="cb289-3"><a href="logit.html#cb289-3"></a><span class="kw">BrierScore</span>(model_<span class="dv">2</span>)</span>
<span id="cb289-4"><a href="logit.html#cb289-4"></a><span class="co">## [1] 0.038</span></span>
<span id="cb289-5"><a href="logit.html#cb289-5"></a><span class="kw">BrierScore</span>(model_<span class="dv">3</span>)</span>
<span id="cb289-6"><a href="logit.html#cb289-6"></a><span class="co">## [1] 0.0048</span></span></code></pre></div>
</div>
<div id="roc-plot" class="section level4">
<h4><span class="header-section-number">8.7.0.6</span> ROC Plot</h4>
<p>Otra de nuestras medidas favoritas por su versatilidad es el ROC. Comparadas con el porcentaje de observaciones correctamente predichas, las curvas ROC tienen la ventaja de no definir un límite arbitrario a partir del cual se pueda decidir si la observación ha sido clasificada correcta o incorrectamente. Su desventaja es que se trata de una figura adicional que debe incluirse en el documento, que tal vez prefieras añadir a un apéndice. Para interpretar estas figuras, lo que más importa es el área debajo de la curva diagonal que cruza la figura. Cuanto mayor sea el área bajo la curva, mejor será el ajuste del modelo. Si quieres leer más sobre ello, el área forma una puntuación llamada puntuación AUC, por sus siglas en inglés (que significa <em>Area Bajo la Curva</em>). Construyámosla con la función <code>geom_roc()</code> del paquete <code>plotROC</code>. Lo que haremos primero es crear una base de datos con los resultados de los tres modelos de regresión. Llamaremos a la base <code>pred_models</code>.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="logit.html#cb290-1"></a><span class="kw">library</span>(plotROC)</span>
<span id="cb290-2"><a href="logit.html#cb290-2"></a><span class="kw">library</span>(broom)</span>
<span id="cb290-3"><a href="logit.html#cb290-3"></a></span>
<span id="cb290-4"><a href="logit.html#cb290-4"></a>pred_models &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(<span class="kw">augment</span>(model_<span class="dv">1</span>, <span class="dt">response.type =</span> <span class="st">&quot;pred&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb290-5"><a href="logit.html#cb290-5"></a><span class="st">                           </span><span class="kw">mutate</span>(<span class="dt">model =</span> <span class="st">&quot;Modelo 1&quot;</span>),</span>
<span id="cb290-6"><a href="logit.html#cb290-6"></a>                         <span class="kw">augment</span>(model_<span class="dv">2</span>, <span class="dt">response.type =</span> <span class="st">&quot;pred&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb290-7"><a href="logit.html#cb290-7"></a><span class="st">                           </span><span class="kw">mutate</span>(<span class="dt">model =</span> <span class="st">&quot;Modelo 2&quot;</span>),</span>
<span id="cb290-8"><a href="logit.html#cb290-8"></a>                         <span class="kw">augment</span>(model_<span class="dv">3</span>, <span class="dt">response.type =</span> <span class="st">&quot;pred&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb290-9"><a href="logit.html#cb290-9"></a><span class="st">                           </span><span class="kw">mutate</span>(<span class="dt">model =</span> <span class="st">&quot;Modelo 3&quot;</span>))</span></code></pre></div>
<p>Una vez creado el objeto con la información de los tres modelos, procedemos a crear la figura usando <code>ggplot2</code>, que aprendiste en el capítulo <a href="dataviz.html#dataviz">3</a>. En el eje vertical tenemos la <em>sensibilidad</em> del modelo, mientras que en el eje horizontal tenemos (1-<em>especificidad</em>) del modelo. La sensibilidad es la relación entre los verdaderos positivos (es decir, las observaciones predichas como “1”, que en realidad eran “1” en la base de datos), y la suma de los verdaderos positivos más los falsos negativos (los predichos como “0”, que en realidad eran “1”). La especificidad es la relación entre los verdaderos negativos (las observaciones predichas como “0” que eran “0” en la base de datos) y la suma de los falsos positivos (las observaciones predichas como “1” que realmente eran “0”) sumados a los verdaderos negativos.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="logit.html#cb291-1"></a>roc &lt;-<span class="st"> </span><span class="kw">ggplot</span>(pred_models, <span class="kw">aes</span>(<span class="dt">d =</span> quiebre_democracia, <span class="dt">m =</span> .fitted, <span class="dt">color =</span> model)) <span class="op">+</span></span>
<span id="cb291-2"><a href="logit.html#cb291-2"></a><span class="st">  </span><span class="kw">geom_roc</span>(<span class="dt">n.cuts =</span> <span class="dv">0</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb291-3"><a href="logit.html#cb291-3"></a><span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb291-4"><a href="logit.html#cb291-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;1 - especificidad&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Sensibilidad&quot;</span>)</span>
<span id="cb291-5"><a href="logit.html#cb291-5"></a></span>
<span id="cb291-6"><a href="logit.html#cb291-6"></a>roc</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-rocplot"></span>
<img src="08-logit_es_files/figure-html/bin-rocplot-1.png" alt="ROCs de nuestros modelos" width="672" />
<p class="caption">
Figura 8.16: ROCs de nuestros modelos
</p>
</div>
<p>Para obtener el AUC, usamos la función <code>calc_auc</code> encima del objeto que llamamos <code>roc</code>.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="logit.html#cb292-1"></a><span class="kw">calc_auc</span>(roc)</span>
<span id="cb292-2"><a href="logit.html#cb292-2"></a><span class="co">##   PANEL group  AUC</span></span>
<span id="cb292-3"><a href="logit.html#cb292-3"></a><span class="co">## 1     1     1 0.64</span></span>
<span id="cb292-4"><a href="logit.html#cb292-4"></a><span class="co">## 2     1     2 0.64</span></span>
<span id="cb292-5"><a href="logit.html#cb292-5"></a><span class="co">## 3     1     3 1.00</span></span></code></pre></div>
<blockquote>
<p><strong>Ejercicio 8D.</strong>
1. Usa la base de datos <code>latinobarometro</code> del paquete del libro: <code>data (latinobarometro)</code>.
2. La variable<code>pro_dem</code> asume 1 si la persona cree que la democracia es, a pesar de sus problemas, la mejor forma de gobierno existente. Dependiendo de los años de educación del encuestado <code>educ</code>, calcula cuánto cambia la probabilidad de que esta respuesta sea 1.
3. Estima un modelo que prediga, lo mejor que puedas, la variable dependiente.
4. 4. Traza la curva ROC del modelo.</p>
</blockquote>
</div>
<div id="plots-de-separación" class="section level4">
<h4><span class="header-section-number">8.7.0.7</span> Plots de separación</h4>
<p>Los <em>separation plots</em> fueron propuestos por tres politólogos en 2011 <span class="citation">(Greenhill, Ward, and Sacks <a href="referencias.html#ref-greenhillSeparationPlotNew2011" role="doc-biblioref">2011</a>)</span> y se refiere a la idea que mencionamos al principio del capítulo. Esta idea es que los modelos logísticos son modelos de clasificación. El plot de separación mezcla la utilidad tanto de los porcentajes correctamente predichos como de los ROC. Son cifras que nos permiten ver la información en una tabla de clasificación, pero donde también podemos identificar qué observaciones son las peor predichas.</p>
<p>¿Cómo interpretamos la figura? Si el modelo predijera perfectamente nuestra variable dependiente, todas las observaciones en amarillo estarían en el lado izquierdo, y todas las observaciones en rojo en el lado derecho, ya que en el eje horizontal de la figura tenemos la probabilidad predicha para cada observación.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="logit.html#cb293-1"></a><span class="kw">library</span>(separationplot)</span>
<span id="cb293-2"><a href="logit.html#cb293-2"></a><span class="kw">separationplot</span>(</span>
<span id="cb293-3"><a href="logit.html#cb293-3"></a>  <span class="dt">pred    =</span> <span class="kw">predict.glm</span>(model_<span class="dv">1</span>, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>),</span>
<span id="cb293-4"><a href="logit.html#cb293-4"></a>  <span class="dt">actual  =</span> <span class="kw">as.vector</span>(model_<span class="dv">1</span><span class="op">$</span>y),</span>
<span id="cb293-5"><a href="logit.html#cb293-5"></a>  <span class="dt">type    =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">show.expected =</span> T,</span>
<span id="cb293-6"><a href="logit.html#cb293-6"></a>  <span class="dt">newplot =</span> F, <span class="dt">line =</span> F,</span>
<span id="cb293-7"><a href="logit.html#cb293-7"></a>  <span class="dt">heading =</span> <span class="st">&quot;Model 1&quot;</span></span>
<span id="cb293-8"><a href="logit.html#cb293-8"></a>)</span>
<span id="cb293-9"><a href="logit.html#cb293-9"></a></span>
<span id="cb293-10"><a href="logit.html#cb293-10"></a><span class="kw">separationplot</span>(</span>
<span id="cb293-11"><a href="logit.html#cb293-11"></a>  <span class="dt">pred    =</span> <span class="kw">predict.glm</span>(model_<span class="dv">3</span>, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>),</span>
<span id="cb293-12"><a href="logit.html#cb293-12"></a>  <span class="dt">actual  =</span> <span class="kw">as.vector</span>(model_<span class="dv">3</span><span class="op">$</span>y),</span>
<span id="cb293-13"><a href="logit.html#cb293-13"></a>  <span class="dt">type    =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">show.expected =</span> T,</span>
<span id="cb293-14"><a href="logit.html#cb293-14"></a>  <span class="dt">newplot =</span> F, <span class="dt">line =</span> F,</span>
<span id="cb293-15"><a href="logit.html#cb293-15"></a>  <span class="dt">heading =</span> <span class="st">&quot;Model 3&quot;</span></span>
<span id="cb293-16"><a href="logit.html#cb293-16"></a>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bin-sepplots"></span>
<img src="08-logit_es_files/figure-html/bin-sepplots-1.png" alt="Separation plots de modelos 1 y 3" width="70%" /><img src="08-logit_es_files/figure-html/bin-sepplots-2.png" alt="Separation plots de modelos 1 y 3" width="70%" />
<p class="caption">
Figura 8.17: Separation plots de modelos 1 y 3
</p>
</div>
<p>La ventaja del plot de separación es que cada observación se incluye en la figura en forma de una línea vertical que será amarilla si la observación asume <code>quiebre_democracia = 0</code> y roja si <code>quiebre_democracia = 1</code>. Fíjate en cómo usamos el argumento <code>type = "line"</code> en las opciones, de modo que cada observación se incluye como una línea. Una crítica que se puede hacer a esta hermosa herramienta visual es que cuanto mayor es el número de observaciones en nuestra muestra, más difícil se hace interpretar la figura. Si las observaciones fueran demasiadas, sería aconsejable utilizar el argumento <code>type = "band"</code>, que facilita la lectura para los modelos con muestras muy grandes.</p>
<p>El pequeño triángulo negro que vemos debajo de la figura es el punto desde el que deberían comenzar las observaciones rojas si estuvieran perfectamente clasificadas de las amarillas. Si observas el plot de separación del modelo 1, verás que hay líneas rojas en el lado izquierdo de la figura. Estas son observaciones para las cuales <code>quiebre_democracia = 1</code> y sin embargo se ha estimado que tienen una probabilidad muy baja de un desglose democrático. El modelo 1, sólo con una variable independiente (<code>poder_presid</code>) predice bastante mal la realidad de los quiebres democráticos en América Latina. Notarán que el modelo 3 ha calificado las observaciones mucho mejor que el modelo 1. De hecho, el modelo 3, con sólo 3 variables independientes, ha sido capaz de clasificar la variable dependiente casi perfectamente.</p>
<blockquote>
<p><strong>Ejercicio 8E.</strong>
- Añade dos variables independientes al modelo 3 que revisamos en el capítulo e interpreta los coeficientes como <em>odds ratios</em>.
- Gráfica estos coeficientes usando <code>ggplot2</code>.
- Diagnostica el ajuste del modelo con un ROC y un plot de separación.</p>
</blockquote>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="39">
<li id="fn39"><p>E-mail: furdinez@uc.cl<a href="logit.html#fnref39" class="footnote-back">↩︎</a></p></li>
<li id="fn40"><p>En el capítulo <a href="indexes.html#indexes">15</a> ejemplificaremos cómo crear índices en R<a href="logit.html#fnref40" class="footnote-back">↩︎</a></p></li>
<li id="fn41"><p>Esto podría ser problemático, pero a veces no hay nada que podemos hacer con los datos que faltan. Sin embargo, cubrimos algunas soluciones posibles en el capítulo <a href="adv-data.html#adv-data">11</a>.<a href="logit.html#fnref41" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="panel.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="surv.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/arcruz0/libroadp/edit/master/08-logit_es.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
