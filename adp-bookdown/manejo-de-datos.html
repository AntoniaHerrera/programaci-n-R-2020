<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AnalizaR datos políticos</title>
  <meta name="description" content="Proyecto de libro">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="AnalizaR datos políticos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Proyecto de libro" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="AnalizaR datos políticos" />
  
  <meta name="twitter:description" content="Proyecto de libro" />
  

<meta name="author" content="Francisco Urdinez y Andrés Cruz Labrín (editores)">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="prev" href="rbas.html">
<link rel="next" href="dataviz.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><b><a href="./index.html">analizaR datos políticos</a></b></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Tabla de contenidos</a></li>
<li class="chapter" data-level="1" data-path="prefacio.html"><a href="prefacio.html"><i class="fa fa-check"></i><b>1</b> Prefacio</a><ul>
<li class="chapter" data-level="1.1" data-path="prefacio.html"><a href="prefacio.html#agradecimientos"><i class="fa fa-check"></i><b>1.1</b> Agradecimientos</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>2</b> Introducción</a><ul>
<li class="chapter" data-level="2.1" data-path="introduccion.html"><a href="introduccion.html#organizacion-del-libro"><i class="fa fa-check"></i><b>2.1</b> Organización del libro</a></li>
<li class="chapter" data-level="2.2" data-path="introduccion.html"><a href="introduccion.html#prerrequisitos"><i class="fa fa-check"></i><b>2.2</b> Prerrequisitos</a></li>
</ul></li>
<li class="part"><span><b>I Introducción a R</b></span></li>
<li class="chapter" data-level="3" data-path="rbas.html"><a href="rbas.html"><i class="fa fa-check"></i><b>3</b> R básico</a><ul>
<li class="chapter" data-level="3.1" data-path="rbas.html"><a href="rbas.html#instalacion"><i class="fa fa-check"></i><b>3.1</b> Instalación</a><ul>
<li class="chapter" data-level="3.1.1" data-path="rbas.html"><a href="rbas.html#r"><i class="fa fa-check"></i><b>3.1.1</b> R</a></li>
<li class="chapter" data-level="3.1.2" data-path="rbas.html"><a href="rbas.html#rstudio"><i class="fa fa-check"></i><b>3.1.2</b> RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rbas.html"><a href="rbas.html#partes-de-rstudio"><i class="fa fa-check"></i><b>3.2</b> Partes de RStudio</a><ul>
<li class="chapter" data-level="3.2.1" data-path="rbas.html"><a href="rbas.html#consola"><i class="fa fa-check"></i><b>3.2.1</b> Consola</a></li>
<li class="chapter" data-level="3.2.2" data-path="rbas.html"><a href="rbas.html#script"><i class="fa fa-check"></i><b>3.2.2</b> Script</a></li>
<li class="chapter" data-level="3.2.3" data-path="rbas.html"><a href="rbas.html#objetos"><i class="fa fa-check"></i><b>3.2.3</b> Objetos</a></li>
<li class="chapter" data-level="3.2.4" data-path="rbas.html"><a href="rbas.html#archivos-graficos-paquetes-ayuda"><i class="fa fa-check"></i><b>3.2.4</b> Archivos / gráficos / paquetes / ayuda</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rbas.html"><a href="rbas.html#ejercicios"><i class="fa fa-check"></i><b>3.3</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html"><i class="fa fa-check"></i><b>4</b> Manejo de datos</a><ul>
<li class="chapter" data-level="4.1" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#nuestra-base-de-datos"><i class="fa fa-check"></i><b>4.1</b> Nuestra base de datos</a></li>
<li class="chapter" data-level="4.2" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#describir-la-base"><i class="fa fa-check"></i><b>4.2</b> Describir la base</a></li>
<li class="chapter" data-level="4.3" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#ordenar-la-base-con-arrange"><i class="fa fa-check"></i><b>4.3</b> Ordenar la base con <code>arrange()</code></a></li>
<li class="chapter" data-level="4.4" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#seleccionar-columnas-de-la-base-con-select"><i class="fa fa-check"></i><b>4.4</b> Seleccionar columnas de la base con <code>select()</code></a></li>
<li class="chapter" data-level="4.5" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#renombrar-columnas-de-la-base-con-rename"><i class="fa fa-check"></i><b>4.5</b> Renombrar columnas de la base con <code>rename()</code></a></li>
<li class="chapter" data-level="4.6" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#filtrar-observaciones-de-la-base-con-filter"><i class="fa fa-check"></i><b>4.6</b> Filtrar observaciones de la base con <code>filter()</code></a></li>
<li class="chapter" data-level="4.7" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#crear-nuevas-variables-en-la-base-con-mutate"><i class="fa fa-check"></i><b>4.7</b> Crear nuevas variables en la base con <code>mutate()</code></a></li>
<li class="chapter" data-level="4.8" data-path="manejo-de-datos.html"><a href="manejo-de-datos.html#concatenar-comandos-las-pipes"><i class="fa fa-check"></i><b>4.8</b> Concatenar comandos: las pipes (<code>%&gt;%</code>)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>5</b> Visualización de datos</a><ul>
<li class="chapter" data-level="5.1" data-path="dataviz.html"><a href="dataviz.html#por-que-quiero-visualizar-mis-datos"><i class="fa fa-check"></i><b>5.1</b> ¿Por qué quiero visualizar mis datos?</a></li>
<li class="chapter" data-level="5.2" data-path="dataviz.html"><a href="dataviz.html#primeros-pasos"><i class="fa fa-check"></i><b>5.2</b> Primeros pasos</a><ul>
<li class="chapter" data-level="5.2.1" data-path="dataviz.html"><a href="dataviz.html#las-capas-del-multiverso-ggplotidiano"><i class="fa fa-check"></i><b>5.2.1</b> Las capas del multiverso ggplotidiano</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dataviz.html"><a href="dataviz.html#elecciones-locales-y-visualizacion-de-datos"><i class="fa fa-check"></i><b>5.3</b> Elecciones locales y visualización de datos</a><ul>
<li class="chapter" data-level="5.3.1" data-path="dataviz.html"><a href="dataviz.html#grafico-de-barras"><i class="fa fa-check"></i><b>5.3.1</b> Gráfico de barras</a></li>
<li class="chapter" data-level="5.3.2" data-path="dataviz.html"><a href="dataviz.html#boxplot"><i class="fa fa-check"></i><b>5.3.2</b> Boxplot</a></li>
<li class="chapter" data-level="5.3.3" data-path="dataviz.html"><a href="dataviz.html#relacion-entre-variables"><i class="fa fa-check"></i><b>5.3.3</b> Relación entre variables</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="dataviz.html"><a href="dataviz.html#para-seguir-aprendiendo"><i class="fa fa-check"></i><b>5.4</b> Para seguir aprendiendo</a><ul>
<li class="chapter" data-level="5.4.1" data-path="dataviz.html"><a href="dataviz.html#otros-paquetes"><i class="fa fa-check"></i><b>5.4.1</b> Otros paquetes:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="carga-flujo.html"><a href="carga-flujo.html"><i class="fa fa-check"></i><b>6</b> Carga de bases y flujo de trabajo</a></li>
<li class="part"><span><b>II Modelos</b></span></li>
<li class="chapter" data-level="7" data-path="stats.html"><a href="stats.html"><i class="fa fa-check"></i><b>7</b> Estadística inferencial básica</a></li>
<li class="chapter" data-level="8" data-path="lineal.html"><a href="lineal.html"><i class="fa fa-check"></i><b>8</b> Modelos lineales</a><ul>
<li class="chapter" data-level="8.1" data-path="lineal.html"><a href="lineal.html#introduccion-1"><i class="fa fa-check"></i><b>8.1</b> Introducción</a></li>
<li class="chapter" data-level="8.2" data-path="lineal.html"><a href="lineal.html#aplicacion-en-r"><i class="fa fa-check"></i><b>8.2</b> Aplicación en R</a><ul>
<li class="chapter" data-level="8.2.1" data-path="lineal.html"><a href="lineal.html#estadisticos-descriptivos"><i class="fa fa-check"></i><b>8.2.1</b> Estadísticos Descriptivos</a></li>
<li class="chapter" data-level="8.2.2" data-path="lineal.html"><a href="lineal.html#estadisticos-descriptivos-y-distribucion-de-las-variables-del-modelo"><i class="fa fa-check"></i><b>8.2.2</b> Estadísticos descriptivos y distribución de las variables del modelo</a></li>
<li class="chapter" data-level="8.2.3" data-path="lineal.html"><a href="lineal.html#matriz-de-correlacion-de-variables-independientes"><i class="fa fa-check"></i><b>8.2.3</b> Matriz de correlación de variables independientes</a></li>
<li class="chapter" data-level="8.2.4" data-path="lineal.html"><a href="lineal.html#distribucion-de-las-variables-de-interes"><i class="fa fa-check"></i><b>8.2.4</b> Distribución de las variables de interés</a></li>
<li class="chapter" data-level="8.2.5" data-path="lineal.html"><a href="lineal.html#relacion-entre-la-variable-dependiente-e-independiente"><i class="fa fa-check"></i><b>8.2.5</b> Relación entre la variable dependiente e independiente</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="lineal.html"><a href="lineal.html#modelo-bivariado-regresion-lineal-simple"><i class="fa fa-check"></i><b>8.3</b> Modelo bivariado: regresión lineal simple</a><ul>
<li class="chapter" data-level="8.3.1" data-path="lineal.html"><a href="lineal.html#estimando-un-modelo-lineal-en-r"><i class="fa fa-check"></i><b>8.3.1</b> Estimando un modelo lineal en R</a></li>
<li class="chapter" data-level="8.3.2" data-path="lineal.html"><a href="lineal.html#representacion-grafica."><i class="fa fa-check"></i><b>8.3.2</b> Representación gráfica.</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="lineal.html"><a href="lineal.html#modelo-multivariado-regresion-multiple"><i class="fa fa-check"></i><b>8.4</b> Modelo multivariado: regresión múltiple</a><ul>
<li class="chapter" data-level="8.4.1" data-path="lineal.html"><a href="lineal.html#ajuste-del-modelo"><i class="fa fa-check"></i><b>8.4.1</b> Ajuste del modelo</a></li>
<li class="chapter" data-level="8.4.2" data-path="lineal.html"><a href="lineal.html#inferencia-en-modelos-lineales-multiples"><i class="fa fa-check"></i><b>8.4.2</b> Inferencia en modelos lineales múltiples</a></li>
<li class="chapter" data-level="8.4.3" data-path="lineal.html"><a href="lineal.html#supuestos-de-ols"><i class="fa fa-check"></i><b>8.4.3</b> Supuestos de OLS</a></li>
<li class="chapter" data-level="8.4.4" data-path="lineal.html"><a href="lineal.html#errores-estandares-robustos"><i class="fa fa-check"></i><b>8.4.4</b> Errores estándares robustos</a></li>
<li class="chapter" data-level="8.4.5" data-path="lineal.html"><a href="lineal.html#un-caso-especial-de-heterocedasticidad-la-varianza-del-error-asociada-a-clusters"><i class="fa fa-check"></i><b>8.4.5</b> Un caso especial de Heterocedasticidad: la varianza del error asociada a clusters</a></li>
<li class="chapter" data-level="8.4.6" data-path="lineal.html"><a href="lineal.html#un-supuesto-adicional-para-poder-realizar-inferencia"><i class="fa fa-check"></i><b>8.4.6</b> Un supuesto adicional para poder realizar <strong>inferencia</strong></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="lineal.html"><a href="lineal.html#seleccion-de-casos"><i class="fa fa-check"></i><b>8.5</b> Selección de casos</a><ul>
<li class="chapter" data-level="8.5.1" data-path="lineal.html"><a href="lineal.html#que-casos-seleccionar"><i class="fa fa-check"></i><b>8.5.1</b> ¿Qué casos seleccionar?</a></li>
<li class="chapter" data-level="8.5.2" data-path="lineal.html"><a href="lineal.html#casos-tipicos"><i class="fa fa-check"></i><b>8.5.2</b> Casos Típicos</a></li>
<li class="chapter" data-level="8.5.3" data-path="lineal.html"><a href="lineal.html#casos-desviados"><i class="fa fa-check"></i><b>8.5.3</b> Casos desviados</a></li>
<li class="chapter" data-level="8.5.4" data-path="lineal.html"><a href="lineal.html#casos-influyentes"><i class="fa fa-check"></i><b>8.5.4</b> Casos Influyentes</a></li>
<li class="chapter" data-level="8.5.5" data-path="lineal.html"><a href="lineal.html#casos-extremos"><i class="fa fa-check"></i><b>8.5.5</b> Casos extremos</a></li>
<li class="chapter" data-level="8.5.6" data-path="lineal.html"><a href="lineal.html#casos-mas-similares"><i class="fa fa-check"></i><b>8.5.6</b> Casos más similares</a></li>
<li class="chapter" data-level="8.5.7" data-path="lineal.html"><a href="lineal.html#casos-mas-diferentes"><i class="fa fa-check"></i><b>8.5.7</b> Casos más diferentes</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="lineal.html"><a href="lineal.html#la-relevancia-de-combinar-metodos"><i class="fa fa-check"></i><b>8.6</b> La relevancia de combinar métodos</a></li>
<li class="chapter" data-level="8.7" data-path="lineal.html"><a href="lineal.html#referencias"><i class="fa fa-check"></i><b>8.7</b> Referencias</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="logit.html"><a href="logit.html"><i class="fa fa-check"></i><b>9</b> Modelos binarios</a><ul>
<li class="chapter" data-level="9.1" data-path="logit.html"><a href="logit.html#nociones-basicas"><i class="fa fa-check"></i><b>9.1</b> Nociones básicas</a></li>
<li class="chapter" data-level="9.2" data-path="logit.html"><a href="logit.html#aplicacion-en-r-1"><i class="fa fa-check"></i><b>9.2</b> Aplicación en R</a><ul>
<li class="chapter" data-level="9.2.1" data-path="logit.html"><a href="logit.html#estimar-los-modelos"><i class="fa fa-check"></i><b>9.2.1</b> Estimar los modelos</a></li>
<li class="chapter" data-level="9.2.2" data-path="logit.html"><a href="logit.html#crear-tablas"><i class="fa fa-check"></i><b>9.2.2</b> Crear tablas</a></li>
<li class="chapter" data-level="9.2.3" data-path="logit.html"><a href="logit.html#visualizacion-de-resultados"><i class="fa fa-check"></i><b>9.2.3</b> Visualización de resultados</a></li>
<li class="chapter" data-level="9.2.4" data-path="logit.html"><a href="logit.html#ajuste-de-los-modelos"><i class="fa fa-check"></i><b>9.2.4</b> Ajuste de los modelos</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="logit.html"><a href="logit.html#proximos-pasos"><i class="fa fa-check"></i><b>9.3</b> Próximos pasos</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="surv.html"><a href="surv.html"><i class="fa fa-check"></i><b>10</b> Modelos de supervivencia</a><ul>
<li class="chapter" data-level="10.1" data-path="surv.html"><a href="surv.html#nociones-basicas-1"><i class="fa fa-check"></i><b>10.1</b> Nociones básicas</a></li>
<li class="chapter" data-level="10.2" data-path="surv.html"><a href="surv.html#el-modelo-cox-de-riesgos-proporcionales"><i class="fa fa-check"></i><b>10.2</b> El modelo Cox de riesgos proporcionales</a></li>
<li class="chapter" data-level="10.3" data-path="surv.html"><a href="surv.html#aplicacion-en-r-2"><i class="fa fa-check"></i><b>10.3</b> Aplicación en R</a><ul>
<li class="chapter" data-level="10.3.1" data-path="surv.html"><a href="surv.html#replicar-la-tabla-1.2-de-altman-e-interpretar-sus-coeficientes-como-hazard-ratios."><i class="fa fa-check"></i><b>10.3.1</b> Replicar la tabla 1.2 de Altman e interpretar sus coeficientes como Hazard Ratios.</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Aplicaciones</b></span></li>
<li class="chapter" data-level="11" data-path="manejo-av.html"><a href="manejo-av.html"><i class="fa fa-check"></i><b>11</b> Manejo avanzado de datos políticos</a><ul>
<li class="chapter" data-level="11.1" data-path="manejo-av.html"><a href="manejo-av.html#introduccion-2"><i class="fa fa-check"></i><b>11.1</b> Introducción</a></li>
<li class="chapter" data-level="11.2" data-path="manejo-av.html"><a href="manejo-av.html#como-aprovechar-countrycode"><i class="fa fa-check"></i><b>11.2</b> ¿Cómo aprovechar ´countrycode´?</a></li>
<li class="chapter" data-level="11.3" data-path="manejo-av.html"><a href="manejo-av.html#como-imputar-datos"><i class="fa fa-check"></i><b>11.3</b> ¿Cómo imputar datos?</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>12</b> Creación de índices con Análisis de Componentes Principales (PCA)</a><ul>
<li class="chapter" data-level="12.1" data-path="pca.html"><a href="pca.html#conceptos-importantes"><i class="fa fa-check"></i><b>12.1</b> Conceptos importantes</a></li>
<li class="chapter" data-level="12.2" data-path="pca.html"><a href="pca.html#aplicacion-en-r-3"><i class="fa fa-check"></i><b>12.2</b> Aplicación en R</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="web-mining.html"><a href="web-mining.html"><i class="fa fa-check"></i><b>13</b> Mínería de datos</a></li>
<li class="chapter" data-level="14" data-path="redes.html"><a href="redes.html"><i class="fa fa-check"></i><b>14</b> Análisis de redes</a><ul>
<li class="chapter" data-level="14.1" data-path="redes.html"><a href="redes.html#introduccion-3"><i class="fa fa-check"></i><b>14.1</b> Introducción</a></li>
<li class="chapter" data-level="14.2" data-path="redes.html"><a href="redes.html#conceptos-basicos-de-redes"><i class="fa fa-check"></i><b>14.2</b> Conceptos básicos de redes</a><ul>
<li class="chapter" data-level="14.2.1" data-path="redes.html"><a href="redes.html#nodos-y-enlaces"><i class="fa fa-check"></i><b>14.2.1</b> Nodos y enlaces</a></li>
<li class="chapter" data-level="14.2.2" data-path="redes.html"><a href="redes.html#matriz-de-adyacencia"><i class="fa fa-check"></i><b>14.2.2</b> Matriz de adyacencia</a></li>
<li class="chapter" data-level="14.2.3" data-path="redes.html"><a href="redes.html#pesos-y-direccion"><i class="fa fa-check"></i><b>14.2.3</b> Pesos y dirección</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="redes.html"><a href="redes.html#generar-una-base-de-datos-de-redes"><i class="fa fa-check"></i><b>14.3</b> Generar una base de datos de redes</a></li>
<li class="chapter" data-level="14.4" data-path="redes.html"><a href="redes.html#disposicion-de-los-puntos-en-el-espacio"><i class="fa fa-check"></i><b>14.4</b> Disposición de los puntos en el espacio</a></li>
<li class="chapter" data-level="14.5" data-path="redes.html"><a href="redes.html#calcular-medidas-de-centralidad-basicas"><i class="fa fa-check"></i><b>14.5</b> Calcular medidas de centralidad básicas</a></li>
<li class="chapter" data-level="14.6" data-path="redes.html"><a href="redes.html#detectar-comunidades-en-las-redes"><i class="fa fa-check"></i><b>14.6</b> Detectar comunidades en las redes</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="qta.html"><a href="qta.html"><i class="fa fa-check"></i><b>15</b> Análisis cuantitativo de textos</a><ul>
<li class="chapter" data-level="15.1" data-path="qta.html"><a href="qta.html#introduccion-4"><i class="fa fa-check"></i><b>15.1</b> Introducción</a></li>
<li class="chapter" data-level="15.2" data-path="qta.html"><a href="qta.html#bases-de-datos"><i class="fa fa-check"></i><b>15.2</b> Bases de datos</a></li>
<li class="chapter" data-level="15.3" data-path="qta.html"><a href="qta.html#calculo-de-frecuencias"><i class="fa fa-check"></i><b>15.3</b> Cálculo de frecuencias</a><ul>
<li class="chapter" data-level="15.3.1" data-path="qta.html"><a href="qta.html#hashtags-mas-usados-de-las-cuentas-de-los-diputados"><i class="fa fa-check"></i><b>15.3.1</b> 10 hashtags mas usados de las cuentas de los diputados</a></li>
<li class="chapter" data-level="15.3.2" data-path="qta.html"><a href="qta.html#frecuencias-por-genero-cantidad-de-hashtags-usados-por-los-diputados-en-total"><i class="fa fa-check"></i><b>15.3.2</b> Frecuencias por género: cantidad de hashtags usados por los diputados en total</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="qta.html"><a href="qta.html#wordcloud-de-hashtags"><i class="fa fa-check"></i><b>15.4</b> Wordcloud de hashtags</a></li>
<li class="chapter" data-level="15.5" data-path="qta.html"><a href="qta.html#hashtags-mas-usados-por-genero"><i class="fa fa-check"></i><b>15.5</b> Hashtags más usados por género</a><ul>
<li class="chapter" data-level="15.5.1" data-path="qta.html"><a href="qta.html#entre-las-diputadas"><i class="fa fa-check"></i><b>15.5.1</b> Entre las diputadas</a></li>
<li class="chapter" data-level="15.5.2" data-path="qta.html"><a href="qta.html#entre-las-diputadas-1"><i class="fa fa-check"></i><b>15.5.2</b> Entre las diputadas</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="qta.html"><a href="qta.html#hashtags-de-genero-por-caracteristicas-del-diputado"><i class="fa fa-check"></i><b>15.6</b> Hashtags de género por características del diputado</a><ul>
<li class="chapter" data-level="15.6.1" data-path="qta.html"><a href="qta.html#por-el-genero-del-diputado"><i class="fa fa-check"></i><b>15.6.1</b> Por el género del diputado</a></li>
<li class="chapter" data-level="15.6.2" data-path="qta.html"><a href="qta.html#por-la-coalicion-de-los-diputados"><i class="fa fa-check"></i><b>15.6.2</b> Por la coalición de los diputados</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="qta.html"><a href="qta.html#variacion-temporal-del-uso-de-estos-hashtags"><i class="fa fa-check"></i><b>15.7</b> Variación temporal del uso de estos hashtags</a><ul>
<li class="chapter" data-level="15.7.1" data-path="qta.html"><a href="qta.html#frecuencia-semanal-de-olafeminista"><i class="fa fa-check"></i><b>15.7.1</b> Frecuencia semanal de #olafeminista</a></li>
<li class="chapter" data-level="15.7.2" data-path="qta.html"><a href="qta.html#frecuencia-semanal-de-tres-hashtags-de-genero"><i class="fa fa-check"></i><b>15.7.2</b> Frecuencia semanal de tres hashtags de género</a></li>
<li class="chapter" data-level="15.7.3" data-path="qta.html"><a href="qta.html#grafiquemos-los-hashtags-de-genero-por-semana"><i class="fa fa-check"></i><b>15.7.3</b> Grafiquemos los hashtags de género por semana</a></li>
<li class="chapter" data-level="15.7.4" data-path="qta.html"><a href="qta.html#ponderamos-en-relacion-al-total-de-hashtags-por-semana"><i class="fa fa-check"></i><b>15.7.4</b> Ponderamos en relación al total de hashtags por semana</a></li>
<li class="chapter" data-level="15.7.5" data-path="qta.html"><a href="qta.html#grafiquemos-los-hashtags-interesantes-ponderados-por-el-total-semanal"><i class="fa fa-check"></i><b>15.7.5</b> Grafiquemos los hashtags interesantes ponderados por el total semanal</a></li>
<li class="chapter" data-level="15.7.6" data-path="qta.html"><a href="qta.html#diputadas"><i class="fa fa-check"></i><b>15.7.6</b> Diputadas</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="qta.html"><a href="qta.html#hashtags-de-genero-por-semana-a-nivel-de-diputados-ponderados-por-semana"><i class="fa fa-check"></i><b>15.8</b> Hashtags de género por semana a nivel de diputados (ponderados por semana)</a></li>
<li class="chapter" data-level="15.9" data-path="qta.html"><a href="qta.html#comentarios-finales"><i class="fa fa-check"></i><b>15.9</b> Comentarios finales</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i><b>16</b> Generación de mapas</a><ul>
<li class="chapter" data-level="16.1" data-path="mapas.html"><a href="mapas.html#datos-espaciales"><i class="fa fa-check"></i><b>16.1</b> Datos Espaciales</a><ul>
<li class="chapter" data-level="16.1.1" data-path="mapas.html"><a href="mapas.html#que-son"><i class="fa fa-check"></i><b>16.1.1</b> ¿Qué son?</a></li>
<li class="chapter" data-level="16.1.2" data-path="mapas.html"><a href="mapas.html#estructura-de-los-datos-espaciales"><i class="fa fa-check"></i><b>16.1.2</b> Estructura de los Datos Espaciales</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="mapas.html"><a href="mapas.html#datos-espaciales-en-r"><i class="fa fa-check"></i><b>16.2</b> Datos Espaciales en R</a></li>
<li class="chapter" data-level="16.3" data-path="mapas.html"><a href="mapas.html#special-features-en-r"><i class="fa fa-check"></i><b>16.3</b> Special Features en R</a><ul>
<li class="chapter" data-level="16.3.1" data-path="mapas.html"><a href="mapas.html#estructura"><i class="fa fa-check"></i><b>16.3.1</b> Estructura</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="mapas.html"><a href="mapas.html#manejo-de-datos-espaciales"><i class="fa fa-check"></i><b>16.4</b> Manejo de Datos Espaciales</a><ul>
<li class="chapter" data-level="16.4.1" data-path="mapas.html"><a href="mapas.html#modificaciones"><i class="fa fa-check"></i><b>16.4.1</b> Modificaciones</a></li>
<li class="chapter" data-level="16.4.2" data-path="mapas.html"><a href="mapas.html#crear-nuevos-shapefiles-con-st_write"><i class="fa fa-check"></i><b>16.4.2</b> .4 Crear nuevos shapefiles con <code>st_write</code></a></li>
<li class="chapter" data-level="16.4.3" data-path="mapas.html"><a href="mapas.html#incorporar-datos-de-otras-bases-con-merge"><i class="fa fa-check"></i><b>16.4.3</b> Incorporar datos de otras bases con <code>merge</code></a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="mapas.html"><a href="mapas.html#mapear-en-r"><i class="fa fa-check"></i><b>16.5</b> Mapear en R</a></li>
<li class="chapter" data-level="16.6" data-path="mapas.html"><a href="mapas.html#mapeando-variables"><i class="fa fa-check"></i><b>16.6</b> Mapeando variables</a><ul>
<li class="chapter" data-level="16.6.1" data-path="mapas.html"><a href="mapas.html#mapas-animados-con-gganimate"><i class="fa fa-check"></i><b>16.6.1</b> Mapas animados con gganimate</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="mapas.html"><a href="mapas.html#inferencia-a-partir-de-datos-espaciales"><i class="fa fa-check"></i><b>16.7</b> Inferencia a partir de Datos Espaciales</a><ul>
<li class="chapter" data-level="16.7.1" data-path="mapas.html"><a href="mapas.html#indicadores-locales-de-asociacion-espacial-lisa"><i class="fa fa-check"></i><b>16.7.1</b> Indicadores locales de asociación espacial (LISA)</a></li>
<li class="chapter" data-level="16.7.2" data-path="mapas.html"><a href="mapas.html#matriz-de-pesos-espaciales"><i class="fa fa-check"></i><b>16.7.2</b> Matriz de Pesos Espaciales</a></li>
<li class="chapter" data-level="16.7.3" data-path="mapas.html"><a href="mapas.html#morans-i"><i class="fa fa-check"></i><b>16.7.3</b> Moran’s I</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AnalizaR datos políticos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="manejo-de-datos" class="section level1">
<h1><span class="header-section-number">Capítulo 4</span> Manejo de datos</h1>
<p><em>Por Andrés Cruz Labrín</em></p>
<p>Cuando hablamos de análisis de datos, casi siempre nos referimos a análisis de <em>bases de datos</em>. Aunque hay varios formatos de bases de datos disponibles, en ciencias sociales generalmente usamos y creamos <em>bases de datos tabulares</em>, que son las que este libro tratará. Muy probablemente el lector estará familiarizado con la estructura básica de este tipo de bases, gracias a las planillas de Microsoft Excel, Google Spreadsheets y/o LibreOffice Calc. La primera fila suele ser un <strong>header</strong> o encabezado, que indica qué datos registran las celdas de esa columna.
En general, queremos que nuestras bases de datos tabulares tengan una estructura <em>tidy</em>, como la siguiente (R4DS, 2017):</p>
<p><img src="00-images/manejo_tidy-4.png" width="60%" style="display: block; margin: auto;" /></p>
<p>La idea de una base <em>tidy</em> es simple: cada columna es una variable, cada fila una observación (de acuerdo a la unidad de análisis) y, por lo tanto, cada celda es una observación. <em>(explicar que este nombre lo tomamos del dios Wickham y que es una idea tan simple que mucha gente no la va a entender. Quien solo ha trabajado con Stata o Excel nunca vio datos no-tidy)</em></p>
<div id="nuestra-base-de-datos" class="section level2">
<h2><span class="header-section-number">4.1</span> Nuestra base de datos</h2>
<p>Para este capítulo usaremos una sección de la base de datos de <em>Quality of Government</em> <a href="https://qog.pol.gu.se">(QoG, 2017)</a>, un proyecto que registra diversos datos de países. Sus primeras observaciones son las siguientes:</p>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:100%; ">
<table>
<thead>
<tr>
<th style="text-align:left;">
cname
</th>
<th style="text-align:right;">
wdi_gdppppcon2011
</th>
<th style="text-align:right;">
wdi_pop
</th>
<th style="text-align:right;">
ti_cpi
</th>
<th style="text-align:right;">
lp_muslim80
</th>
<th style="text-align:right;">
fh_ipolity2
</th>
<th style="text-align:left;">
region
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
5.8e+10
</td>
<td style="text-align:right;">
3.1e+07
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
99.3
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:left;">
Southern Asia
</td>
</tr>
<tr>
<td style="text-align:left;">
Albania
</td>
<td style="text-align:right;">
2.9e+10
</td>
<td style="text-align:right;">
2.9e+06
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
20.5
</td>
<td style="text-align:right;">
8.1
</td>
<td style="text-align:left;">
Southern Europe
</td>
</tr>
<tr>
<td style="text-align:left;">
Algeria
</td>
<td style="text-align:right;">
5.1e+11
</td>
<td style="text-align:right;">
3.8e+07
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
99.1
</td>
<td style="text-align:right;">
4.2
</td>
<td style="text-align:left;">
Northern Africa
</td>
</tr>
<tr>
<td style="text-align:left;">
Angola
</td>
<td style="text-align:right;">
1.5e+11
</td>
<td style="text-align:right;">
2.3e+07
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
3.2
</td>
<td style="text-align:left;">
Middle Africa
</td>
</tr>
<tr>
<td style="text-align:left;">
Australia
</td>
<td style="text-align:right;">
9.9e+11
</td>
<td style="text-align:right;">
2.3e+07
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:left;">
Australia and New Zealand
</td>
</tr>
<tr>
<td style="text-align:left;">
Austria
</td>
<td style="text-align:right;">
3.7e+11
</td>
<td style="text-align:right;">
8.5e+06
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
10.0
</td>
<td style="text-align:left;">
Western Europe
</td>
</tr>
</tbody>
</table>
</div>
<p>Las variables son las siguientes:</p>
<table>
<colgroup>
<col width="16%" />
<col width="83%" />
</colgroup>
<thead>
<tr class="header">
<th>variable</th>
<th>descripción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>cname</td>
<td>Nombre del país</td>
</tr>
<tr class="even">
<td>wdi_gdppppcon2011</td>
<td>GDP PPP, en dólares del 2011, según los datos de WDI (p. 635 del codebook)</td>
</tr>
<tr class="odd">
<td>wdi_pop</td>
<td>Población, según los datos de WDI (p. 665)</td>
</tr>
<tr class="even">
<td>ti_cpi</td>
<td>Índice de Percepción de la Corrupción de TI. Va de 0 a 100, con 0 lo más corrupto (p. 560)</td>
</tr>
<tr class="odd">
<td>lp_muslim80</td>
<td>Porcentaje de población de religión musulmana, para 1980, según LP (p. 447)</td>
</tr>
<tr class="even">
<td>fh_ipolity2</td>
<td>Nivel de democracia según FH. Va de 0 a 10, con 0 como menos democrático (p. 291)</td>
</tr>
<tr class="odd">
<td>region</td>
<td>Región del país, según WDI (añadida a la base)</td>
</tr>
</tbody>
</table>
<p>Para comenzar a trabajar carguemos el paquete <code>tidyverse</code>, uno de los centrales del libro, que nos dará funciones útiles para trabajar con nuestra base datos.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<p>Ahora carguemos la base de datos a nuestro ambiente de trabajo en R. Vamos a llamarla “qog_mod” (QoG modificada). El archivo está en formato .csv, por lo que utilizaremos la función del tidyverse <code>read_csv()</code></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">qog_mod &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;00-datos/manejo_04_qog_mod.csv&quot;</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="co">## Parsed with column specification:</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co">## cols(</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="co">##   cname = col_character(),</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">##   wdi_gdppppcon2011 = col_double(),</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">##   wdi_pop = col_double(),</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">##   ti_cpi = col_double(),</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">##   lp_muslim80 = col_double(),</span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">##   fh_ipolity2 = col_double(),</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">##   region = col_character()</span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="co">## )</span></a></code></pre></div>
<p>(hay que decidir cómo se va a hacer esto: desde carpeta local, url, paquete, etc.)
<em>(F:opino que creemos un url del libro y usemos los html, en el paquete ADP solo pondria funciones)</em></p>
</div>
<div id="describir-la-base" class="section level2">
<h2><span class="header-section-number">4.2</span> Describir la base</h2>
<p>(aquí podría ir <code>describe_all()</code> u otra función de descripción de la base, habría que decidir si esto tiene sentido en términos pedagógicos; otra opción es hacer otro capítulo con <code>group_by()</code>, <code>tabyl()</code>, <code>crosstab()</code>, etc; me inclino por esta última opción)</p>
<p>Para aproximarnos a nuestra base recién cargada tenemos varias opciones. Podemos, como antes, simplemente usar su nombre como un comando para un resumen rápido:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">qog_mod</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="co">##    cname  wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region  </span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co">##    &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co">##  1 Afgha…       57566228480  3.07e7      8      99.3         2.02  Souther…</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="co">##  2 Alban…       28715335680  2.90e6     31      20.5         8.08  Souther…</span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co">##  3 Alger…      507901640704  3.82e7     36      99.1         4.25  Norther…</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co">##  4 Angola      152477499392  2.34e7     23       0           3.25  Middle …</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">##  5 Austr…      990474338304  2.31e7     81       0.200      10     Austral…</span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">##  6 Austr…      373413642240  8.48e6     69       0.600      10     Western…</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co">##  7 Baham…        8497731584  3.78e5     71       0          10     Caribbe…</span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">##  8 Bahra…       56583507968  1.35e6     48      95           0.833 Western…</span></a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co">##  9 Bangl…      446835425280  1.57e8     27      85.9         6.42  Souther…</span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="co">## 10 Barba…        4333428224  2.83e5     75       0.200      10     Caribbe…</span></a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>También podemos utilizar la función <code>glimpse()</code> para tener un resumen desde otra perspectiva:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">glimpse</span>(qog_mod)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co">## Observations: 139</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="co">## Variables: 7</span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="co">## $ cname             &lt;chr&gt; &quot;Afghanistan&quot;, &quot;Albania&quot;, &quot;Algeria&quot;, &quot;Angola...</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="co">## $ wdi_gdppppcon2011 &lt;dbl&gt; 5.8e+10, 2.9e+10, 5.1e+11, 1.5e+11, 9.9e+11,...</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">## $ wdi_pop           &lt;dbl&gt; 3.1e+07, 2.9e+06, 3.8e+07, 2.3e+07, 2.3e+07,...</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="co">## $ ti_cpi            &lt;dbl&gt; 8, 31, 36, 23, 81, 69, 71, 48, 27, 75, 75, 6...</span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="co">## $ lp_muslim80       &lt;dbl&gt; 99.3, 20.5, 99.1, 0.0, 0.2, 0.6, 0.0, 95.0, ...</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="co">## $ fh_ipolity2       &lt;dbl&gt; 2.02, 8.08, 4.25, 3.25, 10.00, 10.00, 10.00,...</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="co">## $ region            &lt;chr&gt; &quot;Southern Asia&quot;, &quot;Southern Europe&quot;, &quot;Norther...</span></a></code></pre></div>
<p>Una alternativa que nos permite ver la base completa es la función <code>View()</code>, análoga a clickear nuestro objeto en la pestaña “Environment” de Rstudio:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">View</span>(qog_mod)</a></code></pre></div>
</div>
<div id="ordenar-la-base-con-arrange" class="section level2">
<h2><span class="header-section-number">4.3</span> Ordenar la base con <code>arrange()</code></h2>
<p>Una de las operaciones más comunes con bases de datos es ordenarlas de acuerdo a alguna de las variables. Esto nos puede dar insights (¿traducción?) inmediatos sobre nuestras observaciones. Por ejemplo, ordenemos la base de acuerdo a población:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">arrange</span>(qog_mod, wdi_pop)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="co">##    cname    wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="co">##  1 Dominica        722668736   72005   58         0           10    Caribb…</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">##  2 Seychel…       2229991168   89900   54         0.300        6.94 Easter…</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">##  3 Tonga           513904512  105139   31.4       0            8.59 Polyne…</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">##  4 Kiribati        183852816  108544   30.8       0           10    Micron…</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">##  5 St Lucia       1871906688  182305   71         0           10    Caribb…</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">##  6 Sao Tom…        540452288  182386   42         0            8.59 Middle…</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="co">##  7 Samoa          1047012608  190390   52         0            8.59 Polyne…</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="co">##  8 Barbados       4333428224  282503   75         0.200       10    Caribb…</span></a>
<a class="sourceLine" id="cb22-13" data-line-number="13"><span class="co">##  9 Iceland       13266284544  323764   78         0           10    Northe…</span></a>
<a class="sourceLine" id="cb22-14" data-line-number="14"><span class="co">## 10 Bahamas        8497731584  377841   71         0           10    Caribb…</span></a>
<a class="sourceLine" id="cb22-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>El lector debe notar cómo el primer argumento, “qog_mod”, toma la base de datos y los siguientes enuncian <strong>cómo</strong> ordenarla, en este caso, por “wdi_pop”, la variable de población.</p>
<p>Debe notar también cómo el comando anterior no crea ningún objeto, solo muestra los resultados en la consola. Para crear uno tenemos que seguir la fórmula típica de asignación:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">qog_mod_ordenada &lt;-<span class="st"> </span><span class="kw">arrange</span>(qog_mod, wdi_pop)</a></code></pre></div>
<p>Podemos realizar ambas operaciones, mostrar los resultados y crear el objeto, rodeando este último comando con paréntesis:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">( qog_mod_ordenada &lt;-<span class="st"> </span><span class="kw">arrange</span>(qog_mod, wdi_pop) )</a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="co">##    cname    wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="co">##  1 Dominica        722668736   72005   58         0           10    Caribb…</span></a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="co">##  2 Seychel…       2229991168   89900   54         0.300        6.94 Easter…</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="co">##  3 Tonga           513904512  105139   31.4       0            8.59 Polyne…</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">##  4 Kiribati        183852816  108544   30.8       0           10    Micron…</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="co">##  5 St Lucia       1871906688  182305   71         0           10    Caribb…</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="co">##  6 Sao Tom…        540452288  182386   42         0            8.59 Middle…</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11"><span class="co">##  7 Samoa          1047012608  190390   52         0            8.59 Polyne…</span></a>
<a class="sourceLine" id="cb24-12" data-line-number="12"><span class="co">##  8 Barbados       4333428224  282503   75         0.200       10    Caribb…</span></a>
<a class="sourceLine" id="cb24-13" data-line-number="13"><span class="co">##  9 Iceland       13266284544  323764   78         0           10    Northe…</span></a>
<a class="sourceLine" id="cb24-14" data-line-number="14"><span class="co">## 10 Bahamas        8497731584  377841   71         0           10    Caribb…</span></a>
<a class="sourceLine" id="cb24-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>La operación para ordenar realizada antes iba de menor a mayor, en términos de población. Si queremos el orden inverso (decreciente), basta con añadir un signo menos (-) antes de la variable:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">arrange</span>(qog_mod, <span class="op">-</span>wdi_pop)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="co">##    cname   wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="co">##  1 China      16023988207616  1.36e9     40       2.40         1.17 Easter…</span></a>
<a class="sourceLine" id="cb25-6" data-line-number="6"><span class="co">##  2 India       6566166134784  1.28e9     36      11.6          8.5  Southe…</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7"><span class="co">##  3 United…    16230494765056  3.16e8     73       0.800       10    Northe…</span></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"><span class="co">##  4 Indone…     2430921605120  2.51e8     32      43.4          7.83 South-…</span></a>
<a class="sourceLine" id="cb25-9" data-line-number="9"><span class="co">##  5 Brazil      3109301780480  2.04e8     42       0.100        8.67 South …</span></a>
<a class="sourceLine" id="cb25-10" data-line-number="10"><span class="co">##  6 Pakist…      810954457088  1.81e8     28      96.8          6.33 Southe…</span></a>
<a class="sourceLine" id="cb25-11" data-line-number="11"><span class="co">##  7 Nigeria      941462781952  1.73e8     25      45            5.58 Wester…</span></a>
<a class="sourceLine" id="cb25-12" data-line-number="12"><span class="co">##  8 Bangla…      446835425280  1.57e8     27      85.9          6.42 Southe…</span></a>
<a class="sourceLine" id="cb25-13" data-line-number="13"><span class="co">##  9 Japan       4535077044224  1.27e8     74       0           10    Easter…</span></a>
<a class="sourceLine" id="cb25-14" data-line-number="14"><span class="co">## 10 Mexico      1997247479808  1.24e8     34       0            7.83 Centra…</span></a>
<a class="sourceLine" id="cb25-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>¡Con eso tenemos los países con mayor población en el mundo! ¿Qué pasa si queremos los países con mayor población <strong>dentro de cada región</strong>? Tendríamos que realizar un ordenamiento en dos pasos: primero por región y luego por población. Con <code>arrange()</code> esto es simple:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">arrange</span>(qog_mod, region, <span class="op">-</span>wdi_pop)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="co">##    cname   wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region  </span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="co">##    &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="co">##  1 Austra…     990474338304  2.31e7     81       0.200       10    Austral…</span></a>
<a class="sourceLine" id="cb26-6" data-line-number="6"><span class="co">##  2 New Ze…     148189986816  4.44e6     91       0           10    Austral…</span></a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="co">##  3 Cuba        226685157376  1.14e7     46       0            1.17 Caribbe…</span></a>
<a class="sourceLine" id="cb26-8" data-line-number="8"><span class="co">##  4 Haiti        16999370752  1.04e7     19       0            4.58 Caribbe…</span></a>
<a class="sourceLine" id="cb26-9" data-line-number="9"><span class="co">##  5 Domini…     122657308672  1.03e7     29       0            8.25 Caribbe…</span></a>
<a class="sourceLine" id="cb26-10" data-line-number="10"><span class="co">##  6 Jamaica      22884503552  2.71e6     38       0.100        8.5  Caribbe…</span></a>
<a class="sourceLine" id="cb26-11" data-line-number="11"><span class="co">##  7 Trinid…      40973463552  1.35e6     38       6.5          9.17 Caribbe…</span></a>
<a class="sourceLine" id="cb26-12" data-line-number="12"><span class="co">##  8 Bahamas       8497731584  3.78e5     71       0           10    Caribbe…</span></a>
<a class="sourceLine" id="cb26-13" data-line-number="13"><span class="co">##  9 Barbad…       4333428224  2.83e5     75       0.200       10    Caribbe…</span></a>
<a class="sourceLine" id="cb26-14" data-line-number="14"><span class="co">## 10 St Luc…       1871906688  1.82e5     71       0           10    Caribbe…</span></a>
<a class="sourceLine" id="cb26-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>A propósito del resultado anterior, el lector puede deducir que cuando <code>arrange()</code> ordena variables categóricas (en vez de numéricas) lo hace alfabéticamente. Añadir un signo menos (-) antes de la variable hará que el orden sea al revés en términos del alfabeto:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">arrange</span>(qog_mod, <span class="kw">desc</span>(region), <span class="op">-</span>wdi_pop) <span class="co"># no sé por qué - no funciona, ARREGLAR</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="co">##    cname    wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="co">##  1 France …    2459435270144  6.59e7     71       3            9.75 Wester…</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6"><span class="co">##  2 Netherl…     762382450688  1.68e7     83       1           10    Wester…</span></a>
<a class="sourceLine" id="cb27-7" data-line-number="7"><span class="co">##  3 Belgium      452154359808  1.12e7     75       1.10         9.5  Wester…</span></a>
<a class="sourceLine" id="cb27-8" data-line-number="8"><span class="co">##  4 Austria      373413642240  8.48e6     69       0.600       10    Wester…</span></a>
<a class="sourceLine" id="cb27-9" data-line-number="9"><span class="co">##  5 Switzer…     444201566208  8.09e6     85       0.300       10    Wester…</span></a>
<a class="sourceLine" id="cb27-10" data-line-number="10"><span class="co">##  6 Luxembo…      48842280960  5.43e5     80       0           10    Wester…</span></a>
<a class="sourceLine" id="cb27-11" data-line-number="11"><span class="co">##  7 Turkey      1392197369856  7.50e7     50      99.2          7.67 Wester…</span></a>
<a class="sourceLine" id="cb27-12" data-line-number="12"><span class="co">##  8 Iraq         510895521792  3.38e7     16      95.8          4.5  Wester…</span></a>
<a class="sourceLine" id="cb27-13" data-line-number="13"><span class="co">##  9 Saudi A…    1478747750400  3.02e7     46      98.8          0    Wester…</span></a>
<a class="sourceLine" id="cb27-14" data-line-number="14"><span class="co">## 10 United …     560986259456  9.04e6     69      94.9          1.33 Wester…</span></a>
<a class="sourceLine" id="cb27-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
</div>
<div id="seleccionar-columnas-de-la-base-con-select" class="section level2">
<h2><span class="header-section-number">4.4</span> Seleccionar columnas de la base con <code>select()</code></h2>
<p>A veces queremos trabajar solo con algunas variables de una base de datos. Para esto existe la función <code>select()</code>. Pensemos que queremos solo el nombre de cada país (cname) y su porcentaje de población musulmana para 1980:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">select</span>(qog_mod, cname, lp_muslim80)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">## # A tibble: 139 x 2</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">##    cname       lp_muslim80</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co">##    &lt;chr&gt;             &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="co">##  1 Afghanistan      99.3  </span></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="co">##  2 Albania          20.5  </span></a>
<a class="sourceLine" id="cb28-7" data-line-number="7"><span class="co">##  3 Algeria          99.1  </span></a>
<a class="sourceLine" id="cb28-8" data-line-number="8"><span class="co">##  4 Angola            0    </span></a>
<a class="sourceLine" id="cb28-9" data-line-number="9"><span class="co">##  5 Australia         0.200</span></a>
<a class="sourceLine" id="cb28-10" data-line-number="10"><span class="co">##  6 Austria           0.600</span></a>
<a class="sourceLine" id="cb28-11" data-line-number="11"><span class="co">##  7 Bahamas           0    </span></a>
<a class="sourceLine" id="cb28-12" data-line-number="12"><span class="co">##  8 Bahrain          95    </span></a>
<a class="sourceLine" id="cb28-13" data-line-number="13"><span class="co">##  9 Bangladesh       85.9  </span></a>
<a class="sourceLine" id="cb28-14" data-line-number="14"><span class="co">## 10 Barbados          0.200</span></a>
<a class="sourceLine" id="cb28-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>Al igual que para <code>arrange()</code>, aquí el primer argumento designa la base a modificar y los demás cómo se debería hacer eso -en este caso, qué variables deben ser seleccionadas.</p>
<p>Añadir un signo menos (-) aquí indica qué variables <em>no</em> seleccionar. Por ejemplo, quitemos el porcentaje de población musulmana para 1980 de la base:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">select</span>(qog_mod, <span class="op">-</span>lp_muslim80)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="co">## # A tibble: 139 x 6</span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="co">##    cname     wdi_gdppppcon2011  wdi_pop ti_cpi fh_ipolity2 region          </span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="co">##    &lt;chr&gt;                 &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="co">##  1 Afghanis…       57566228480   3.07e7      8       2.02  Southern Asia   </span></a>
<a class="sourceLine" id="cb29-6" data-line-number="6"><span class="co">##  2 Albania         28715335680   2.90e6     31       8.08  Southern Europe </span></a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="co">##  3 Algeria        507901640704   3.82e7     36       4.25  Northern Africa </span></a>
<a class="sourceLine" id="cb29-8" data-line-number="8"><span class="co">##  4 Angola         152477499392   2.34e7     23       3.25  Middle Africa   </span></a>
<a class="sourceLine" id="cb29-9" data-line-number="9"><span class="co">##  5 Australia      990474338304   2.31e7     81      10     Australia and N…</span></a>
<a class="sourceLine" id="cb29-10" data-line-number="10"><span class="co">##  6 Austria        373413642240   8.48e6     69      10     Western Europe  </span></a>
<a class="sourceLine" id="cb29-11" data-line-number="11"><span class="co">##  7 Bahamas          8497731584   3.78e5     71      10     Caribbean       </span></a>
<a class="sourceLine" id="cb29-12" data-line-number="12"><span class="co">##  8 Bahrain         56583507968   1.35e6     48       0.833 Western Asia    </span></a>
<a class="sourceLine" id="cb29-13" data-line-number="13"><span class="co">##  9 Banglade…      446835425280   1.57e8     27       6.42  Southern Asia   </span></a>
<a class="sourceLine" id="cb29-14" data-line-number="14"><span class="co">## 10 Barbados         4333428224   2.83e5     75      10     Caribbean       </span></a>
<a class="sourceLine" id="cb29-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>Aparte de seleccionar variables específicas, <code>select()</code> es capaz de entender referencias a intervalos de variables. Por ejemplo, podemos querer las cuatro primeras variables:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">select</span>(qog_mod, cname<span class="op">:</span>ti_cpi)</a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="co">## # A tibble: 139 x 4</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="co">##    cname       wdi_gdppppcon2011   wdi_pop ti_cpi</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="co">##    &lt;chr&gt;                   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="co">##  1 Afghanistan       57566228480  30682500      8</span></a>
<a class="sourceLine" id="cb30-6" data-line-number="6"><span class="co">##  2 Albania           28715335680   2897366     31</span></a>
<a class="sourceLine" id="cb30-7" data-line-number="7"><span class="co">##  3 Algeria          507901640704  38186136     36</span></a>
<a class="sourceLine" id="cb30-8" data-line-number="8"><span class="co">##  4 Angola           152477499392  23448202     23</span></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"><span class="co">##  5 Australia        990474338304  23125868     81</span></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="co">##  6 Austria          373413642240   8479375     69</span></a>
<a class="sourceLine" id="cb30-11" data-line-number="11"><span class="co">##  7 Bahamas            8497731584    377841     71</span></a>
<a class="sourceLine" id="cb30-12" data-line-number="12"><span class="co">##  8 Bahrain           56583507968   1349427     48</span></a>
<a class="sourceLine" id="cb30-13" data-line-number="13"><span class="co">##  9 Bangladesh       446835425280 157157392     27</span></a>
<a class="sourceLine" id="cb30-14" data-line-number="14"><span class="co">## 10 Barbados           4333428224    282503     75</span></a>
<a class="sourceLine" id="cb30-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a>
<a class="sourceLine" id="cb30-16" data-line-number="16"><span class="kw">select</span>(qog_mod, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) <span class="co"># lo mismo, aunque no recomendado</span></a>
<a class="sourceLine" id="cb30-17" data-line-number="17"><span class="co">## # A tibble: 139 x 4</span></a>
<a class="sourceLine" id="cb30-18" data-line-number="18"><span class="co">##    cname       wdi_gdppppcon2011   wdi_pop ti_cpi</span></a>
<a class="sourceLine" id="cb30-19" data-line-number="19"><span class="co">##    &lt;chr&gt;                   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb30-20" data-line-number="20"><span class="co">##  1 Afghanistan       57566228480  30682500      8</span></a>
<a class="sourceLine" id="cb30-21" data-line-number="21"><span class="co">##  2 Albania           28715335680   2897366     31</span></a>
<a class="sourceLine" id="cb30-22" data-line-number="22"><span class="co">##  3 Algeria          507901640704  38186136     36</span></a>
<a class="sourceLine" id="cb30-23" data-line-number="23"><span class="co">##  4 Angola           152477499392  23448202     23</span></a>
<a class="sourceLine" id="cb30-24" data-line-number="24"><span class="co">##  5 Australia        990474338304  23125868     81</span></a>
<a class="sourceLine" id="cb30-25" data-line-number="25"><span class="co">##  6 Austria          373413642240   8479375     69</span></a>
<a class="sourceLine" id="cb30-26" data-line-number="26"><span class="co">##  7 Bahamas            8497731584    377841     71</span></a>
<a class="sourceLine" id="cb30-27" data-line-number="27"><span class="co">##  8 Bahrain           56583507968   1349427     48</span></a>
<a class="sourceLine" id="cb30-28" data-line-number="28"><span class="co">##  9 Bangladesh       446835425280 157157392     27</span></a>
<a class="sourceLine" id="cb30-29" data-line-number="29"><span class="co">## 10 Barbados           4333428224    282503     75</span></a>
<a class="sourceLine" id="cb30-30" data-line-number="30"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>Otra herramienta para complejizar nuestra selección se encuentra en las funciones de ayuda. Entre ellas, <code>starts_with</code> es de particular utilidad, permitiendo seleccionar variables que empiecen con cierto patrón. Por ejemplo, podríamos querer, a partir del nombre del país, todas las variables que provengan de los World Development Indicators (WDI) del Banco Mundial:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">select</span>(qog_mod, cname, <span class="kw">starts_with</span>(<span class="st">&quot;wdi_&quot;</span>))</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="co">## # A tibble: 139 x 3</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="co">##    cname       wdi_gdppppcon2011   wdi_pop</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="co">##    &lt;chr&gt;                   &lt;dbl&gt;     &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="co">##  1 Afghanistan       57566228480  30682500</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="co">##  2 Albania           28715335680   2897366</span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="co">##  3 Algeria          507901640704  38186136</span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="co">##  4 Angola           152477499392  23448202</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="co">##  5 Australia        990474338304  23125868</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="co">##  6 Austria          373413642240   8479375</span></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="co">##  7 Bahamas            8497731584    377841</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="co">##  8 Bahrain           56583507968   1349427</span></a>
<a class="sourceLine" id="cb31-13" data-line-number="13"><span class="co">##  9 Bangladesh       446835425280 157157392</span></a>
<a class="sourceLine" id="cb31-14" data-line-number="14"><span class="co">## 10 Barbados           4333428224    282503</span></a>
<a class="sourceLine" id="cb31-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>Otra función de ayuda útil es <code>everything()</code>, que se lee como “todas las demás variables”. Es especialmente útil para cambiar el orden de las variables en una bases de datos. Por ejemplo, pasemos región al segundo lugar entre las variables:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">select</span>(qog_mod, cname, region, <span class="kw">everything</span>())</a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="co">##    cname  region    wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co">##    &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="co">##  1 Afgha… Southern…      57566228480  3.07e7      8      99.3         2.02 </span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="co">##  2 Alban… Southern…      28715335680  2.90e6     31      20.5         8.08 </span></a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="co">##  3 Alger… Northern…     507901640704  3.82e7     36      99.1         4.25 </span></a>
<a class="sourceLine" id="cb32-8" data-line-number="8"><span class="co">##  4 Angola Middle A…     152477499392  2.34e7     23       0           3.25 </span></a>
<a class="sourceLine" id="cb32-9" data-line-number="9"><span class="co">##  5 Austr… Australi…     990474338304  2.31e7     81       0.200      10    </span></a>
<a class="sourceLine" id="cb32-10" data-line-number="10"><span class="co">##  6 Austr… Western …     373413642240  8.48e6     69       0.600      10    </span></a>
<a class="sourceLine" id="cb32-11" data-line-number="11"><span class="co">##  7 Baham… Caribbean       8497731584  3.78e5     71       0          10    </span></a>
<a class="sourceLine" id="cb32-12" data-line-number="12"><span class="co">##  8 Bahra… Western …      56583507968  1.35e6     48      95           0.833</span></a>
<a class="sourceLine" id="cb32-13" data-line-number="13"><span class="co">##  9 Bangl… Southern…     446835425280  1.57e8     27      85.9         6.42 </span></a>
<a class="sourceLine" id="cb32-14" data-line-number="14"><span class="co">## 10 Barba… Caribbean       4333428224  2.83e5     75       0.200      10    </span></a>
<a class="sourceLine" id="cb32-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
</div>
<div id="renombrar-columnas-de-la-base-con-rename" class="section level2">
<h2><span class="header-section-number">4.5</span> Renombrar columnas de la base con <code>rename()</code></h2>
<p>La notación para el GDP es un poco confusa. ¿Y si queremos cambiar el nombre de la variable? Aprovechemos también de cambiar el nombre de la variable de identificación por país.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">rename</span>(qog_mod, <span class="dt">wdi_gdp =</span> wdi_gdppppcon2011, <span class="dt">country_name =</span> cname)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="co">## # A tibble: 139 x 7</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="co">##    country_name   wdi_gdp wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region    </span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="co">##    &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="co">##  1 Afghanistan    5.76e10  3.07e7      8      99.3         2.02  Southern …</span></a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="co">##  2 Albania        2.87e10  2.90e6     31      20.5         8.08  Southern …</span></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="co">##  3 Algeria        5.08e11  3.82e7     36      99.1         4.25  Northern …</span></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="co">##  4 Angola         1.52e11  2.34e7     23       0           3.25  Middle Af…</span></a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="co">##  5 Australia      9.90e11  2.31e7     81       0.200      10     Australia…</span></a>
<a class="sourceLine" id="cb33-10" data-line-number="10"><span class="co">##  6 Austria        3.73e11  8.48e6     69       0.600      10     Western E…</span></a>
<a class="sourceLine" id="cb33-11" data-line-number="11"><span class="co">##  7 Bahamas        8.50e 9  3.78e5     71       0          10     Caribbean </span></a>
<a class="sourceLine" id="cb33-12" data-line-number="12"><span class="co">##  8 Bahrain        5.66e10  1.35e6     48      95           0.833 Western A…</span></a>
<a class="sourceLine" id="cb33-13" data-line-number="13"><span class="co">##  9 Bangladesh     4.47e11  1.57e8     27      85.9         6.42  Southern …</span></a>
<a class="sourceLine" id="cb33-14" data-line-number="14"><span class="co">## 10 Barbados       4.33e 9  2.83e5     75       0.200      10     Caribbean </span></a>
<a class="sourceLine" id="cb33-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
</div>
<div id="filtrar-observaciones-de-la-base-con-filter" class="section level2">
<h2><span class="header-section-number">4.6</span> Filtrar observaciones de la base con <code>filter()</code></h2>
<p>Es muy común el querer filtrar nuestras observaciones de acuerdo a algún tipo de criterio lógico. Para esto R cuenta con operadores lógicos. Los más comunes son los siguientes:</p>
<table>
<thead>
<tr class="header">
<th align="center">operador</th>
<th>descripción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">==</td>
<td>es igual a</td>
</tr>
<tr class="even">
<td align="center">!=</td>
<td>es distinto a</td>
</tr>
<tr class="odd">
<td align="center">&gt;</td>
<td>es mayor a</td>
</tr>
<tr class="even">
<td align="center">&lt;</td>
<td>es menor a</td>
</tr>
<tr class="odd">
<td align="center">&gt;=</td>
<td>es mayor o igual a</td>
</tr>
<tr class="even">
<td align="center">&lt;=</td>
<td>es menor o igual a</td>
</tr>
<tr class="odd">
<td align="center">&amp;</td>
<td>y (intersección)</td>
</tr>
<tr class="even">
<td align="center"></td>
<td></td>
</tr>
</tbody>
</table>
<p>Por ejemplo, podríamos querer solo los países (observaciones) sudamericanos. Hacer esto con <code>filter()</code> es simple, con la ayuda de operadores lógicos:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">filter</span>(qog_mod, region <span class="op">==</span><span class="st"> &quot;South America&quot;</span>)</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="co">## # A tibble: 11 x 7</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="co">##    cname   wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region  </span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="co">##    &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="co">##  1 Bolivia      63344840704  1.04e7     34       0            7.58 South A…</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="co">##  2 Brazil     3109301780480  2.04e8     42       0.100        8.67 South A…</span></a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="co">##  3 Chile       383162515456  1.76e7     71       0           10    South A…</span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="co">##  4 Colomb…     582488686592  4.73e7     36       0.200        7.17 South A…</span></a>
<a class="sourceLine" id="cb34-9" data-line-number="9"><span class="co">##  5 Ecuador     166412222464  1.57e7     35       0            7.08 South A…</span></a>
<a class="sourceLine" id="cb34-10" data-line-number="10"><span class="co">##  6 Guyana        5066298368  7.61e5     27       9            7.75 South A…</span></a>
<a class="sourceLine" id="cb34-11" data-line-number="11"><span class="co">##  7 Paragu…      53195030528  6.47e6     24       0            8.08 South A…</span></a>
<a class="sourceLine" id="cb34-12" data-line-number="12"><span class="co">##  8 Peru        346126876672  3.06e7     38       0            8.5  South A…</span></a>
<a class="sourceLine" id="cb34-13" data-line-number="13"><span class="co">##  9 Surina…       8388805120  5.33e5     36      13            7.92 South A…</span></a>
<a class="sourceLine" id="cb34-14" data-line-number="14"><span class="co">## 10 Uruguay      65827684352  3.41e6     73       0           10    South A…</span></a>
<a class="sourceLine" id="cb34-15" data-line-number="15"><span class="co">## 11 Venezu…     535572054016  3.03e7     20       0            5.17 South A…</span></a></code></pre></div>
<p>¿Qué pasa si queremos solo las filas de países sudamericanos con más de 10 millones de habitantes (nos quedamos con 8 de 12)?</p>
<p>¿Cuáles son los filtros que aplican los siguientes comandos?</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">filter</span>(qog_mod, fh_ipolity2 <span class="op">&gt;</span><span class="st"> </span><span class="dv">9</span>)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="co">## # A tibble: 39 x 7</span></a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="co">##    cname   wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region  </span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4"><span class="co">##    &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb35-5" data-line-number="5"><span class="co">##  1 Austra…     990474338304  2.31e7     81       0.200        10   Austral…</span></a>
<a class="sourceLine" id="cb35-6" data-line-number="6"><span class="co">##  2 Austria     373413642240  8.48e6     69       0.600        10   Western…</span></a>
<a class="sourceLine" id="cb35-7" data-line-number="7"><span class="co">##  3 Bahamas       8497731584  3.78e5     71       0            10   Caribbe…</span></a>
<a class="sourceLine" id="cb35-8" data-line-number="8"><span class="co">##  4 Barbad…       4333428224  2.83e5     75       0.200        10   Caribbe…</span></a>
<a class="sourceLine" id="cb35-9" data-line-number="9"><span class="co">##  5 Belgium     452154359808  1.12e7     75       1.10          9.5 Western…</span></a>
<a class="sourceLine" id="cb35-10" data-line-number="10"><span class="co">##  6 Canada     1484141756416  3.52e7     81       0.600        10   Norther…</span></a>
<a class="sourceLine" id="cb35-11" data-line-number="11"><span class="co">##  7 Cape V…       3109324800  5.07e5     58       0            10   Western…</span></a>
<a class="sourceLine" id="cb35-12" data-line-number="12"><span class="co">##  8 Chile       383162515456  1.76e7     71       0            10   South A…</span></a>
<a class="sourceLine" id="cb35-13" data-line-number="13"><span class="co">##  9 Costa …      65419849728  4.71e6     53       0            10   Central…</span></a>
<a class="sourceLine" id="cb35-14" data-line-number="14"><span class="co">## 10 Cyprus…      25927987200  1.14e6     63      18.5          10   Western…</span></a>
<a class="sourceLine" id="cb35-15" data-line-number="15"><span class="co">## # ... with 29 more rows</span></a>
<a class="sourceLine" id="cb35-16" data-line-number="16"></a>
<a class="sourceLine" id="cb35-17" data-line-number="17"><span class="kw">filter</span>(qog_mod, wdi_pop <span class="op">&gt;</span><span class="st"> </span><span class="fl">10e7</span>)</a>
<a class="sourceLine" id="cb35-18" data-line-number="18"><span class="co">## # A tibble: 10 x 7</span></a>
<a class="sourceLine" id="cb35-19" data-line-number="19"><span class="co">##    cname   wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb35-20" data-line-number="20"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb35-21" data-line-number="21"><span class="co">##  1 Bangla…      446835425280  1.57e8     27      85.9          6.42 Southe…</span></a>
<a class="sourceLine" id="cb35-22" data-line-number="22"><span class="co">##  2 Brazil      3109301780480  2.04e8     42       0.100        8.67 South …</span></a>
<a class="sourceLine" id="cb35-23" data-line-number="23"><span class="co">##  3 China      16023988207616  1.36e9     40       2.40         1.17 Easter…</span></a>
<a class="sourceLine" id="cb35-24" data-line-number="24"><span class="co">##  4 India       6566166134784  1.28e9     36      11.6          8.5  Southe…</span></a>
<a class="sourceLine" id="cb35-25" data-line-number="25"><span class="co">##  5 Indone…     2430921605120  2.51e8     32      43.4          7.83 South-…</span></a>
<a class="sourceLine" id="cb35-26" data-line-number="26"><span class="co">##  6 Japan       4535077044224  1.27e8     74       0           10    Easter…</span></a>
<a class="sourceLine" id="cb35-27" data-line-number="27"><span class="co">##  7 Mexico      1997247479808  1.24e8     34       0            7.83 Centra…</span></a>
<a class="sourceLine" id="cb35-28" data-line-number="28"><span class="co">##  8 Nigeria      941462781952  1.73e8     25      45            5.58 Wester…</span></a>
<a class="sourceLine" id="cb35-29" data-line-number="29"><span class="co">##  9 Pakist…      810954457088  1.81e8     28      96.8          6.33 Southe…</span></a>
<a class="sourceLine" id="cb35-30" data-line-number="30"><span class="co">## 10 United…    16230494765056  3.16e8     73       0.800       10    Northe…</span></a>
<a class="sourceLine" id="cb35-31" data-line-number="31"></a>
<a class="sourceLine" id="cb35-32" data-line-number="32"><span class="kw">filter</span>(qog_mod, cname <span class="op">!=</span><span class="st"> &quot;Albania&quot;</span>)</a>
<a class="sourceLine" id="cb35-33" data-line-number="33"><span class="co">## # A tibble: 138 x 7</span></a>
<a class="sourceLine" id="cb35-34" data-line-number="34"><span class="co">##    cname  wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region  </span></a>
<a class="sourceLine" id="cb35-35" data-line-number="35"><span class="co">##    &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb35-36" data-line-number="36"><span class="co">##  1 Afgha…       57566228480  3.07e7      8      99.3         2.02  Souther…</span></a>
<a class="sourceLine" id="cb35-37" data-line-number="37"><span class="co">##  2 Alger…      507901640704  3.82e7     36      99.1         4.25  Norther…</span></a>
<a class="sourceLine" id="cb35-38" data-line-number="38"><span class="co">##  3 Angola      152477499392  2.34e7     23       0           3.25  Middle …</span></a>
<a class="sourceLine" id="cb35-39" data-line-number="39"><span class="co">##  4 Austr…      990474338304  2.31e7     81       0.200      10     Austral…</span></a>
<a class="sourceLine" id="cb35-40" data-line-number="40"><span class="co">##  5 Austr…      373413642240  8.48e6     69       0.600      10     Western…</span></a>
<a class="sourceLine" id="cb35-41" data-line-number="41"><span class="co">##  6 Baham…        8497731584  3.78e5     71       0          10     Caribbe…</span></a>
<a class="sourceLine" id="cb35-42" data-line-number="42"><span class="co">##  7 Bahra…       56583507968  1.35e6     48      95           0.833 Western…</span></a>
<a class="sourceLine" id="cb35-43" data-line-number="43"><span class="co">##  8 Bangl…      446835425280  1.57e8     27      85.9         6.42  Souther…</span></a>
<a class="sourceLine" id="cb35-44" data-line-number="44"><span class="co">##  9 Barba…        4333428224  2.83e5     75       0.200      10     Caribbe…</span></a>
<a class="sourceLine" id="cb35-45" data-line-number="45"><span class="co">## 10 Belgi…      452154359808  1.12e7     75       1.10        9.5   Western…</span></a>
<a class="sourceLine" id="cb35-46" data-line-number="46"><span class="co">## # ... with 128 more rows</span></a>
<a class="sourceLine" id="cb35-47" data-line-number="47"></a>
<a class="sourceLine" id="cb35-48" data-line-number="48"><span class="kw">filter</span>(qog_mod, lp_muslim80 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">95</span>)</a>
<a class="sourceLine" id="cb35-49" data-line-number="49"><span class="co">## # A tibble: 15 x 7</span></a>
<a class="sourceLine" id="cb35-50" data-line-number="50"><span class="co">##    cname   wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb35-51" data-line-number="51"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb35-52" data-line-number="52"><span class="co">##  1 Afghan…       57566228480  3.07e7    8          99.3       2.02  Southe…</span></a>
<a class="sourceLine" id="cb35-53" data-line-number="53"><span class="co">##  2 Algeria      507901640704  3.82e7   36          99.1       4.25  Northe…</span></a>
<a class="sourceLine" id="cb35-54" data-line-number="54"><span class="co">##  3 Bahrain       56583507968  1.35e6   48          95         0.833 Wester…</span></a>
<a class="sourceLine" id="cb35-55" data-line-number="55"><span class="co">##  4 Iran        1236225490944  7.72e7   25          97.9       1.58  Southe…</span></a>
<a class="sourceLine" id="cb35-56" data-line-number="56"><span class="co">##  5 Iraq         510895521792  3.38e7   16          95.8       4.5   Wester…</span></a>
<a class="sourceLine" id="cb35-57" data-line-number="57"><span class="co">##  6 Kuwait       266584637440  3.59e6   43          95.1       2.42  Wester…</span></a>
<a class="sourceLine" id="cb35-58" data-line-number="58"><span class="co">##  7 Libya        122544226304  6.27e6   15          98.1       4.58  Northe…</span></a>
<a class="sourceLine" id="cb35-59" data-line-number="59"><span class="co">##  8 Maldiv…        4501654016  3.93e5   24.7        99.9       5.30  Southe…</span></a>
<a class="sourceLine" id="cb35-60" data-line-number="60"><span class="co">##  9 Maurit…       13920699392  3.87e6   30          99.4       3.25  Wester…</span></a>
<a class="sourceLine" id="cb35-61" data-line-number="61"><span class="co">## 10 Morocco      240604184576  3.35e7   37          99.4       3.58  Northe…</span></a>
<a class="sourceLine" id="cb35-62" data-line-number="62"><span class="co">## 11 Oman         151726620672  3.91e6   47          98.9       1.75  Wester…</span></a>
<a class="sourceLine" id="cb35-63" data-line-number="63"><span class="co">## 12 Pakist…      810954457088  1.81e8   28          96.8       6.33  Southe…</span></a>
<a class="sourceLine" id="cb35-64" data-line-number="64"><span class="co">## 13 Saudi …     1478747750400  3.02e7   46          98.8       0     Wester…</span></a>
<a class="sourceLine" id="cb35-65" data-line-number="65"><span class="co">## 14 Tunisia      116821843968  1.09e7   41          99.4       7.33  Northe…</span></a>
<a class="sourceLine" id="cb35-66" data-line-number="66"><span class="co">## 15 Turkey      1392197369856  7.50e7   50          99.2       7.67  Wester…</span></a>
<a class="sourceLine" id="cb35-67" data-line-number="67"></a>
<a class="sourceLine" id="cb35-68" data-line-number="68"><span class="kw">filter</span>(qog_mod, region <span class="op">==</span><span class="st"> &quot;South America&quot;</span> <span class="op">&amp;</span><span class="st"> </span>wdi_pop <span class="op">&gt;</span><span class="st"> </span><span class="fl">10e6</span>)</a>
<a class="sourceLine" id="cb35-69" data-line-number="69"><span class="co">## # A tibble: 7 x 7</span></a>
<a class="sourceLine" id="cb35-70" data-line-number="70"><span class="co">##   cname   wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region  </span></a>
<a class="sourceLine" id="cb35-71" data-line-number="71"><span class="co">##   &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;   </span></a>
<a class="sourceLine" id="cb35-72" data-line-number="72"><span class="co">## 1 Bolivia       63344840704  1.04e7     34       0            7.58 South A…</span></a>
<a class="sourceLine" id="cb35-73" data-line-number="73"><span class="co">## 2 Brazil      3109301780480  2.04e8     42       0.100        8.67 South A…</span></a>
<a class="sourceLine" id="cb35-74" data-line-number="74"><span class="co">## 3 Chile        383162515456  1.76e7     71       0           10    South A…</span></a>
<a class="sourceLine" id="cb35-75" data-line-number="75"><span class="co">## 4 Colomb…      582488686592  4.73e7     36       0.200        7.17 South A…</span></a>
<a class="sourceLine" id="cb35-76" data-line-number="76"><span class="co">## 5 Ecuador      166412222464  1.57e7     35       0            7.08 South A…</span></a>
<a class="sourceLine" id="cb35-77" data-line-number="77"><span class="co">## 6 Peru         346126876672  3.06e7     38       0            8.5  South A…</span></a>
<a class="sourceLine" id="cb35-78" data-line-number="78"><span class="co">## 7 Venezu…      535572054016  3.03e7     20       0            5.17 South A…</span></a>
<a class="sourceLine" id="cb35-79" data-line-number="79"></a>
<a class="sourceLine" id="cb35-80" data-line-number="80"><span class="kw">filter</span>(qog_mod, region <span class="op">==</span><span class="st"> &quot;South America&quot;</span> <span class="op">|</span><span class="st"> </span>region <span class="op">==</span><span class="st"> &quot;South-Eastern Asia&quot;</span>)</a>
<a class="sourceLine" id="cb35-81" data-line-number="81"><span class="co">## # A tibble: 19 x 7</span></a>
<a class="sourceLine" id="cb35-82" data-line-number="82"><span class="co">##    cname   wdi_gdppppcon2011 wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region </span></a>
<a class="sourceLine" id="cb35-83" data-line-number="83"><span class="co">##    &lt;chr&gt;               &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb35-84" data-line-number="84"><span class="co">##  1 Bolivia       63344840704  1.04e7     34       0            7.58 South …</span></a>
<a class="sourceLine" id="cb35-85" data-line-number="85"><span class="co">##  2 Brazil      3109301780480  2.04e8     42       0.100        8.67 South …</span></a>
<a class="sourceLine" id="cb35-86" data-line-number="86"><span class="co">##  3 Cambod…       44559769600  1.51e7     20       2.40         4.25 South-…</span></a>
<a class="sourceLine" id="cb35-87" data-line-number="87"><span class="co">##  4 Chile        383162515456  1.76e7     71       0           10    South …</span></a>
<a class="sourceLine" id="cb35-88" data-line-number="88"><span class="co">##  5 Colomb…      582488686592  4.73e7     36       0.200        7.17 South …</span></a>
<a class="sourceLine" id="cb35-89" data-line-number="89"><span class="co">##  6 Ecuador      166412222464  1.57e7     35       0            7.08 South …</span></a>
<a class="sourceLine" id="cb35-90" data-line-number="90"><span class="co">##  7 Guyana         5066298368  7.61e5     27       9            7.75 South …</span></a>
<a class="sourceLine" id="cb35-91" data-line-number="91"><span class="co">##  8 Indone…     2430921605120  2.51e8     32      43.4          7.83 South-…</span></a>
<a class="sourceLine" id="cb35-92" data-line-number="92"><span class="co">##  9 Laos          31582838784  6.58e6     26       1            1.17 South-…</span></a>
<a class="sourceLine" id="cb35-93" data-line-number="93"><span class="co">## 10 Malays…      690044600320  2.95e7     50      49.4          6.5  South-…</span></a>
<a class="sourceLine" id="cb35-94" data-line-number="94"><span class="co">## 11 Paragu…       53195030528  6.47e6     24       0            8.08 South …</span></a>
<a class="sourceLine" id="cb35-95" data-line-number="95"><span class="co">## 12 Peru         346126876672  3.06e7     38       0            8.5  South …</span></a>
<a class="sourceLine" id="cb35-96" data-line-number="96"><span class="co">## 13 Philip…      621044039680  9.76e7     36       4.30         7.83 South-…</span></a>
<a class="sourceLine" id="cb35-97" data-line-number="97"><span class="co">## 14 Singap…      419630612480  5.40e6     86      17.4          4.5  South-…</span></a>
<a class="sourceLine" id="cb35-98" data-line-number="98"><span class="co">## 15 Vietnam      459724881920  8.97e7     31       1            1.58 South-…</span></a>
<a class="sourceLine" id="cb35-99" data-line-number="99"><span class="co">## 16 Surina…        8388805120  5.33e5     36      13            7.92 South …</span></a>
<a class="sourceLine" id="cb35-100" data-line-number="100"><span class="co">## 17 Thaila…     1007950299136  6.75e7     35       3.90         6.75 South-…</span></a>
<a class="sourceLine" id="cb35-101" data-line-number="101"><span class="co">## 18 Uruguay       65827684352  3.41e6     73       0           10    South …</span></a>
<a class="sourceLine" id="cb35-102" data-line-number="102"><span class="co">## 19 Venezu…      535572054016  3.03e7     20       0            5.17 South …</span></a></code></pre></div>
</div>
<div id="crear-nuevas-variables-en-la-base-con-mutate" class="section level2">
<h2><span class="header-section-number">4.7</span> Crear nuevas variables en la base con <code>mutate()</code></h2>
<p>Muchas veces queremos crear nuevas variables, a partir de las que ya tenemos. Por ejemplo, podríamos querer el GDP per capita, en vez del absoluto. Tenemos los ingredientes para calcularlo: el GDP absoluto y la población. Creemos una nueva variable, entonces:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw">mutate</span>(qog_mod, <span class="dt">gdp_ppp_per_capita =</span> wdi_gdppppcon2011<span class="op">/</span>wdi_pop)</a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="co">## # A tibble: 139 x 8</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="co">##    cname wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="co">##    &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="co">##  1 Afgh…      57566228480  3.07e7      8      99.3         2.02  South…</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="co">##  2 Alba…      28715335680  2.90e6     31      20.5         8.08  South…</span></a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="co">##  3 Alge…     507901640704  3.82e7     36      99.1         4.25  North…</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="co">##  4 Ango…     152477499392  2.34e7     23       0           3.25  Middl…</span></a>
<a class="sourceLine" id="cb36-9" data-line-number="9"><span class="co">##  5 Aust…     990474338304  2.31e7     81       0.200      10     Austr…</span></a>
<a class="sourceLine" id="cb36-10" data-line-number="10"><span class="co">##  6 Aust…     373413642240  8.48e6     69       0.600      10     Weste…</span></a>
<a class="sourceLine" id="cb36-11" data-line-number="11"><span class="co">##  7 Baha…       8497731584  3.78e5     71       0          10     Carib…</span></a>
<a class="sourceLine" id="cb36-12" data-line-number="12"><span class="co">##  8 Bahr…      56583507968  1.35e6     48      95           0.833 Weste…</span></a>
<a class="sourceLine" id="cb36-13" data-line-number="13"><span class="co">##  9 Bang…     446835425280  1.57e8     27      85.9         6.42  South…</span></a>
<a class="sourceLine" id="cb36-14" data-line-number="14"><span class="co">## 10 Barb…       4333428224  2.83e5     75       0.200      10     Carib…</span></a>
<a class="sourceLine" id="cb36-15" data-line-number="15"><span class="co">## # ... with 129 more rows, and 1 more variable: gdp_ppp_per_capita &lt;dbl&gt;</span></a></code></pre></div>
<p>Otra nueva variable que podría interesarnos es el número de musulmanes por país. Con la proporción de musulmanes y la población total del país podemos hacer una buena estimación:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">mutate</span>(qog_mod, <span class="dt">n_muslim =</span> wdi_pop <span class="op">*</span><span class="st"> </span>lp_muslim80)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="co">## # A tibble: 139 x 8</span></a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="co">##    cname wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region</span></a>
<a class="sourceLine" id="cb37-4" data-line-number="4"><span class="co">##    &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="co">##  1 Afgh…      57566228480  3.07e7      8      99.3         2.02  South…</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="co">##  2 Alba…      28715335680  2.90e6     31      20.5         8.08  South…</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="co">##  3 Alge…     507901640704  3.82e7     36      99.1         4.25  North…</span></a>
<a class="sourceLine" id="cb37-8" data-line-number="8"><span class="co">##  4 Ango…     152477499392  2.34e7     23       0           3.25  Middl…</span></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"><span class="co">##  5 Aust…     990474338304  2.31e7     81       0.200      10     Austr…</span></a>
<a class="sourceLine" id="cb37-10" data-line-number="10"><span class="co">##  6 Aust…     373413642240  8.48e6     69       0.600      10     Weste…</span></a>
<a class="sourceLine" id="cb37-11" data-line-number="11"><span class="co">##  7 Baha…       8497731584  3.78e5     71       0          10     Carib…</span></a>
<a class="sourceLine" id="cb37-12" data-line-number="12"><span class="co">##  8 Bahr…      56583507968  1.35e6     48      95           0.833 Weste…</span></a>
<a class="sourceLine" id="cb37-13" data-line-number="13"><span class="co">##  9 Bang…     446835425280  1.57e8     27      85.9         6.42  South…</span></a>
<a class="sourceLine" id="cb37-14" data-line-number="14"><span class="co">## 10 Barb…       4333428224  2.83e5     75       0.200      10     Carib…</span></a>
<a class="sourceLine" id="cb37-15" data-line-number="15"><span class="co">## # ... with 129 more rows, and 1 more variable: n_muslim &lt;dbl&gt;</span></a></code></pre></div>
<p>¡Es posible crear más de una variable con el mismo comando! Creemos las dos de antes, a la vez:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">mutate</span>(qog_mod, </a>
<a class="sourceLine" id="cb38-2" data-line-number="2">       <span class="dt">gdp_ppp_per_capita =</span> wdi_gdppppcon2011<span class="op">/</span>wdi_pop,</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">       <span class="dt">n_muslim           =</span> wdi_pop <span class="op">*</span><span class="st"> </span>lp_muslim80)</a>
<a class="sourceLine" id="cb38-4" data-line-number="4"><span class="co">## # A tibble: 139 x 9</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5"><span class="co">##    cname wdi_gdppppcon20… wdi_pop ti_cpi lp_muslim80 fh_ipolity2 region</span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="co">##    &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb38-7" data-line-number="7"><span class="co">##  1 Afgh…      57566228480  3.07e7      8      99.3         2.02  South…</span></a>
<a class="sourceLine" id="cb38-8" data-line-number="8"><span class="co">##  2 Alba…      28715335680  2.90e6     31      20.5         8.08  South…</span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9"><span class="co">##  3 Alge…     507901640704  3.82e7     36      99.1         4.25  North…</span></a>
<a class="sourceLine" id="cb38-10" data-line-number="10"><span class="co">##  4 Ango…     152477499392  2.34e7     23       0           3.25  Middl…</span></a>
<a class="sourceLine" id="cb38-11" data-line-number="11"><span class="co">##  5 Aust…     990474338304  2.31e7     81       0.200      10     Austr…</span></a>
<a class="sourceLine" id="cb38-12" data-line-number="12"><span class="co">##  6 Aust…     373413642240  8.48e6     69       0.600      10     Weste…</span></a>
<a class="sourceLine" id="cb38-13" data-line-number="13"><span class="co">##  7 Baha…       8497731584  3.78e5     71       0          10     Carib…</span></a>
<a class="sourceLine" id="cb38-14" data-line-number="14"><span class="co">##  8 Bahr…      56583507968  1.35e6     48      95           0.833 Weste…</span></a>
<a class="sourceLine" id="cb38-15" data-line-number="15"><span class="co">##  9 Bang…     446835425280  1.57e8     27      85.9         6.42  South…</span></a>
<a class="sourceLine" id="cb38-16" data-line-number="16"><span class="co">## 10 Barb…       4333428224  2.83e5     75       0.200      10     Carib…</span></a>
<a class="sourceLine" id="cb38-17" data-line-number="17"><span class="co">## # ... with 129 more rows, and 2 more variables: gdp_ppp_per_capita &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb38-18" data-line-number="18"><span class="co">## #   n_muslim &lt;dbl&gt;</span></a></code></pre></div>
</div>
<div id="concatenar-comandos-las-pipes" class="section level2">
<h2><span class="header-section-number">4.8</span> Concatenar comandos: las pipes (<code>%&gt;%</code>)</h2>
<p>A menudo no queremos hacer una sola de las operaciones con bases de datos reseñadas antes, sino que una seguidilla de estas. Si quisiéramos crear una nueva base a través de, por ejemplo, (1) seleccionar las variables de país, población y GDP, (2) crear la variable de GDP per capita, y (3) ordenar los países de mayor a menor según GDP per capita, nuestro procedimiento en R sería algo como esto:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">qog_mod_seguidilla_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">select</span>(qog_mod, cname, wdi_pop, wdi_gdppppcon2011)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2">qog_mod_seguidilla_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">mutate</span>(qog_mod_seguidilla_<span class="dv">1</span>, </a>
<a class="sourceLine" id="cb39-3" data-line-number="3">                               <span class="dt">gdp_ppp_per_capita =</span> wdi_gdppppcon2011<span class="op">/</span>wdi_pop)</a>
<a class="sourceLine" id="cb39-4" data-line-number="4">qog_mod_seguidilla_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">arrange</span>(qog_mod_seguidilla_<span class="dv">2</span>, <span class="op">-</span>gdp_ppp_per_capita)</a></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">qog_mod_seguidilla_<span class="dv">3</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="co">## # A tibble: 139 x 4</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="co">##    cname                  wdi_pop wdi_gdppppcon2011 gdp_ppp_per_capita</span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4"><span class="co">##    &lt;chr&gt;                    &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="co">##  1 Qatar                  2101288      280302059520            133395.</span></a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="co">##  2 Luxembourg              543360       48842280960             89889.</span></a>
<a class="sourceLine" id="cb40-7" data-line-number="7"><span class="co">##  3 Singapore              5399200      419630612480             77721.</span></a>
<a class="sourceLine" id="cb40-8" data-line-number="8"><span class="co">##  4 Kuwait                 3593689      266584637440             74181.</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9"><span class="co">##  5 Norway                 5079623      321651408896             63322.</span></a>
<a class="sourceLine" id="cb40-10" data-line-number="10"><span class="co">##  6 United Arab Emirates   9039978      560986259456             62056.</span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="co">##  7 Switzerland            8089346      444201566208             54912.</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12"><span class="co">##  8 United States        316497536    16230494765056             51282.</span></a>
<a class="sourceLine" id="cb40-13" data-line-number="13"><span class="co">##  9 Saudi Arabia          30201052     1478747750400             48963.</span></a>
<a class="sourceLine" id="cb40-14" data-line-number="14"><span class="co">## 10 Ireland                4598294      212357021696             46182.</span></a>
<a class="sourceLine" id="cb40-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>El lector notará que esto es bastante complicado y nos deja con dos <strong>objetos intermedios</strong> que no nos interesan, “qog_mod_seguidilla_1” y “qog_mod_seguidilla_2”.</p>
<p>La solución del paquete tidyverse que estamos utilizando son <strong>las pipes</strong>. El lector notará que en las tres funciones de nuestra seguidilla anterior (select, mutate y arrange) el primer argumento es la base de datos a tratar. En vez de crear objetos intermedios podemos “chutear” la base de datos a través de nuestros comandos con pipes, omitiendo los primeros argumentos:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">qog_mod_seguidilla &lt;-<span class="st"> </span>qog_mod <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(cname, wdi_pop, wdi_gdppppcon2011) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdp_ppp_per_capita =</span> wdi_gdppppcon2011<span class="op">/</span>wdi_pop) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>gdp_ppp_per_capita)</a></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">qog_mod_seguidilla</a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="co">## # A tibble: 139 x 4</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3"><span class="co">##    cname                  wdi_pop wdi_gdppppcon2011 gdp_ppp_per_capita</span></a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="co">##    &lt;chr&gt;                    &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5"><span class="co">##  1 Qatar                  2101288      280302059520            133395.</span></a>
<a class="sourceLine" id="cb42-6" data-line-number="6"><span class="co">##  2 Luxembourg              543360       48842280960             89889.</span></a>
<a class="sourceLine" id="cb42-7" data-line-number="7"><span class="co">##  3 Singapore              5399200      419630612480             77721.</span></a>
<a class="sourceLine" id="cb42-8" data-line-number="8"><span class="co">##  4 Kuwait                 3593689      266584637440             74181.</span></a>
<a class="sourceLine" id="cb42-9" data-line-number="9"><span class="co">##  5 Norway                 5079623      321651408896             63322.</span></a>
<a class="sourceLine" id="cb42-10" data-line-number="10"><span class="co">##  6 United Arab Emirates   9039978      560986259456             62056.</span></a>
<a class="sourceLine" id="cb42-11" data-line-number="11"><span class="co">##  7 Switzerland            8089346      444201566208             54912.</span></a>
<a class="sourceLine" id="cb42-12" data-line-number="12"><span class="co">##  8 United States        316497536    16230494765056             51282.</span></a>
<a class="sourceLine" id="cb42-13" data-line-number="13"><span class="co">##  9 Saudi Arabia          30201052     1478747750400             48963.</span></a>
<a class="sourceLine" id="cb42-14" data-line-number="14"><span class="co">## 10 Ireland                4598294      212357021696             46182.</span></a>
<a class="sourceLine" id="cb42-15" data-line-number="15"><span class="co">## # ... with 129 more rows</span></a></code></pre></div>
<p>Las pipes pueden leerse como “pero luego”. Nuestra seguidilla anterior, entonces, se leería de la siguiente forma:</p>
<blockquote>
<p>qog_mod_seguilla es igual a qog_mod; pero luego seleccionamos las variables cname, wdi_pop, wdi_gdppppcon2011; pero luego creamos la variable gdp_ppp_per_capita; pero luego ordenamos la base en forma decreciente según gdp_ppp_per_capita.</p>
</blockquote>
<hr />
<p><strong>Ejercicios</strong></p>
<ul>
<li>Cree una base nueva, llamada qog_mod_2, con una nueva variable llamada “porc_muslim”, que sea el porcentaje de población musulmana del país.</li>
<li>Cree una base nueva, llamada qog_mod_3, que incluya solo países latinoamericanos, China y Sudáfrica.</li>
<li>Cree una base nueva, llamada qog_mod_4, que incluya solo países con población mayor a la media de población entre todos los países. Debe contener solo las variables de nombre del país, región y población (en ese orden). Ordene la base según población, de mayor a menor. ¡Use pipes!</li>
</ul>
<hr />

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rbas.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dataviz.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["adp-bookdown.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
