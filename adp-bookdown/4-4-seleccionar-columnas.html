<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="analizaR datos políticos" />
<meta property="og:type" content="book" />


<meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
<meta name="github-repo" content="rstudio/bookdown-demo" />

<meta name="author" content="Francisco Urdinez y Andrés Cruz" />

<meta name="date" content="2017-12-21" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">

<title>analizaR datos políticos</title>

<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#prefacio"><span class="toc-section-number">1</span> Prefacio</a><ul>
<li><a href="1-1-agradecimientos.html#agradecimientos"><span class="toc-section-number">1.1</span> Agradecimientos</a></li>
</ul></li>
<li class="has-sub"><a href="2-introduccion.html#introduccion"><span class="toc-section-number">2</span> Introducción</a><ul>
<li><a href="2-1-organizacion-del-libro.html#organizacion-del-libro"><span class="toc-section-number">2.1</span> Organización del libro</a></li>
<li><a href="2-2-prerrequisitos.html#prerrequisitos"><span class="toc-section-number">2.2</span> Prerrequisitos</a></li>
</ul></li>
<li class="has-sub"><a href="3-r-basico.html#r-basico"><span class="toc-section-number">3</span> R básico</a><ul>
<li class="has-sub"><a href="3-1-instalacion.html#instalacion"><span class="toc-section-number">3.1</span> Instalación</a><ul>
<li><a href="3-1-instalacion.html#r"><span class="toc-section-number">3.1.1</span> R</a></li>
<li><a href="3-1-instalacion.html#rstudio"><span class="toc-section-number">3.1.2</span> RStudio</a></li>
</ul></li>
<li class="has-sub"><a href="3-2-partes-de-rstudio.html#partes-de-rstudio"><span class="toc-section-number">3.2</span> Partes de RStudio</a><ul>
<li><a href="3-2-partes-de-rstudio.html#consola"><span class="toc-section-number">3.2.1</span> Consola</a></li>
<li><a href="3-2-partes-de-rstudio.html#script"><span class="toc-section-number">3.2.2</span> Script</a></li>
<li><a href="3-2-partes-de-rstudio.html#objetos"><span class="toc-section-number">3.2.3</span> Objetos</a></li>
<li><a href="3-2-partes-de-rstudio.html#archivos-graficos-paquetes-ayuda"><span class="toc-section-number">3.2.4</span> Archivos / gráficos / paquetes / ayuda</a></li>
</ul></li>
<li><a href="3-3-ejercicios.html#ejercicios"><span class="toc-section-number">3.3</span> Ejercicios</a></li>
</ul></li>
<li class="has-sub"><a href="4-manejo.html#manejo"><span class="toc-section-number">4</span> Manejo</a><ul>
<li><a href="4-1-nuestra-base-de-datos.html#nuestra-base-de-datos"><span class="toc-section-number">4.1</span> Nuestra base de datos</a></li>
<li><a href="4-2-describir-base.html#describir-base"><span class="toc-section-number">4.2</span> Describir base</a></li>
<li><a href="4-3-ordenar-la-base.html#ordenar-la-base"><span class="toc-section-number">4.3</span> Ordenar la base</a></li>
<li><a href="4-4-seleccionar-columnas.html#seleccionar-columnas"><span class="toc-section-number">4.4</span> Seleccionar columnas</a></li>
<li><a href="4-5-renombrar-columnas.html#renombrar-columnas"><span class="toc-section-number">4.5</span> Renombrar columnas</a></li>
<li><a href="4-6-filtrar-observaciones.html#filtrar-observaciones"><span class="toc-section-number">4.6</span> Filtrar observaciones</a></li>
<li><a href="4-7-crear-nuevas-variables.html#crear-nuevas-variables"><span class="toc-section-number">4.7</span> Crear nuevas variables</a></li>
<li><a href="4-8-concatenar-comandos-las-pipes.html#concatenar-comandos-las-pipes"><span class="toc-section-number">4.8</span> Concatenar comandos: las pipes</a></li>
<li><a href="4-9-ejercicios-1.html#ejercicios-1"><span class="toc-section-number">4.9</span> Ejercicios</a></li>
</ul></li>
<li class="has-sub"><a href="5-modelos-binarios.html#modelos-binarios"><span class="toc-section-number">5</span> Modelos binarios</a><ul>
<li><a href="5-modelos-binarios.html#pseudo-r2"><span class="toc-section-number">5.0.1</span> <span class="math inline">\(Pseudo-R^2\)</span></a></li>
<li><a href="5-modelos-binarios.html#aic"><span class="toc-section-number">5.0.2</span> AIC</a></li>
<li><a href="5-modelos-binarios.html#bic"><span class="toc-section-number">5.0.3</span> BIC</a></li>
<li><a href="5-modelos-binarios.html#brier-score"><span class="toc-section-number">5.0.4</span> Brier Score</a></li>
<li><a href="5-modelos-binarios.html#porcentaje-de-predicciones-correctas"><span class="toc-section-number">5.0.5</span> Porcentaje de predicciones correctas</a></li>
<li><a href="5-modelos-binarios.html#roc-plot"><span class="toc-section-number">5.0.6</span> ROC plot</a></li>
<li><a href="5-modelos-binarios.html#separation-plots"><span class="toc-section-number">5.0.7</span> Separation plots</a></li>
</ul></li>
<li class="has-sub"><a href="6-modelos-de-supervivencia.html#modelos-de-supervivencia"><span class="toc-section-number">6</span> Modelos de supervivencia</a><ul>
<li><a href="6-1-el-modelo-cox-de-riesgos-proporcionales.html#el-modelo-cox-de-riesgos-proporcionales"><span class="toc-section-number">6.1</span> El modelo Cox de riesgos proporcionales:</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="seleccionar-columnas" class="section level2">
<h2><span class="header-section-number">4.4</span> Seleccionar columnas</h2>
<p>A veces queremos trabajar solo con algunas variables de una base de datos. Para esto existe la función <code>select()</code>. Pensemos que queremos solo el nombre de cada país (cname) y su porcentaje de población musulmana para 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(qog_mod, cname, lp_muslim80)</code></pre></div>
<pre><code>## # A tibble: 139 x 2
##          cname lp_muslim80
##          &lt;chr&gt;       &lt;dbl&gt;
##  1 Afghanistan        99.3
##  2     Albania        20.5
##  3     Algeria        99.1
##  4      Angola         0.0
##  5   Australia         0.2
##  6     Austria         0.6
##  7     Bahamas         0.0
##  8     Bahrain        95.0
##  9  Bangladesh        85.9
## 10    Barbados         0.2
## # ... with 129 more rows</code></pre>
<p>Al igual que para <code>arrange()</code>, aquí el primer argumento designa la base a modificar y los demás cómo se debería hacer eso -en este caso, qué variables deben ser seleccionadas.</p>
<p>Añadir un signo menos (-) aquí indica qué variables <em>no</em> seleccionar. Por ejemplo, quitemos el porcentaje de población musulmana para 1980 de la base:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(qog_mod, <span class="op">-</span>lp_muslim80)</code></pre></div>
<pre><code>## # A tibble: 139 x 6
##          cname wdi_gdppppcon2011   wdi_pop ti_cpi fh_ipolity2
##          &lt;chr&gt;             &lt;dbl&gt;     &lt;int&gt;  &lt;dbl&gt;       &lt;dbl&gt;
##  1 Afghanistan       57566228480  30682500      8   2.0188808
##  2     Albania       28715335680   2897366     31   8.0833330
##  3     Algeria      507901640704  38186136     36   4.2500000
##  4      Angola      152477499392  23448202     23   3.2500000
##  5   Australia      990474338304  23125868     81  10.0000000
##  6     Austria      373413642240   8479375     69  10.0000000
##  7     Bahamas        8497731584    377841     71  10.0000000
##  8     Bahrain       56583507968   1349427     48   0.8333333
##  9  Bangladesh      446835425280 157157392     27   6.4166670
## 10    Barbados        4333428224    282503     75  10.0000000
## # ... with 129 more rows, and 1 more variables: region &lt;chr&gt;</code></pre>
<p>Aparte de seleccionar variables específicas, <code>select()</code> es capaz de entender referencias a intervalos de variables. Por ejemplo, podemos querer las cuatro primeras variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(qog_mod, cname<span class="op">:</span>ti_cpi)</code></pre></div>
<pre><code>## # A tibble: 139 x 4
##          cname wdi_gdppppcon2011   wdi_pop ti_cpi
##          &lt;chr&gt;             &lt;dbl&gt;     &lt;int&gt;  &lt;dbl&gt;
##  1 Afghanistan       57566228480  30682500      8
##  2     Albania       28715335680   2897366     31
##  3     Algeria      507901640704  38186136     36
##  4      Angola      152477499392  23448202     23
##  5   Australia      990474338304  23125868     81
##  6     Austria      373413642240   8479375     69
##  7     Bahamas        8497731584    377841     71
##  8     Bahrain       56583507968   1349427     48
##  9  Bangladesh      446835425280 157157392     27
## 10    Barbados        4333428224    282503     75
## # ... with 129 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(qog_mod, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) <span class="co"># lo mismo, aunque no recomendado</span></code></pre></div>
<pre><code>## # A tibble: 139 x 4
##          cname wdi_gdppppcon2011   wdi_pop ti_cpi
##          &lt;chr&gt;             &lt;dbl&gt;     &lt;int&gt;  &lt;dbl&gt;
##  1 Afghanistan       57566228480  30682500      8
##  2     Albania       28715335680   2897366     31
##  3     Algeria      507901640704  38186136     36
##  4      Angola      152477499392  23448202     23
##  5   Australia      990474338304  23125868     81
##  6     Austria      373413642240   8479375     69
##  7     Bahamas        8497731584    377841     71
##  8     Bahrain       56583507968   1349427     48
##  9  Bangladesh      446835425280 157157392     27
## 10    Barbados        4333428224    282503     75
## # ... with 129 more rows</code></pre>
<p>Otra herramienta para complejizar nuestra selección se encuentra en las funciones de ayuda. Entre ellas, <code>starts_with</code> es de particular utilidad, permitiendo seleccionar variables que empiecen con cierto patrón. Por ejemplo, podríamos querer, a partir del nombre del país, todas las variables que provengan de los World Development Indicators (WDI) del Banco Mundial:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(qog_mod, cname, <span class="kw">starts_with</span>(<span class="st">&quot;wdi_&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 139 x 3
##          cname wdi_gdppppcon2011   wdi_pop
##          &lt;chr&gt;             &lt;dbl&gt;     &lt;int&gt;
##  1 Afghanistan       57566228480  30682500
##  2     Albania       28715335680   2897366
##  3     Algeria      507901640704  38186136
##  4      Angola      152477499392  23448202
##  5   Australia      990474338304  23125868
##  6     Austria      373413642240   8479375
##  7     Bahamas        8497731584    377841
##  8     Bahrain       56583507968   1349427
##  9  Bangladesh      446835425280 157157392
## 10    Barbados        4333428224    282503
## # ... with 129 more rows</code></pre>
<p>Otra función de ayuda útil es <code>everything()</code>, que se lee como “todas las demás variables”. Es especialmente útil para cambiar el orden de las variables en una bases de datos. Por ejemplo, pasemos región al segundo lugar entre las variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(qog_mod, cname, region, <span class="kw">everything</span>())</code></pre></div>
<pre><code>## # A tibble: 139 x 7
##          cname                    region wdi_gdppppcon2011   wdi_pop
##          &lt;chr&gt;                     &lt;chr&gt;             &lt;dbl&gt;     &lt;int&gt;
##  1 Afghanistan             Southern Asia       57566228480  30682500
##  2     Albania           Southern Europe       28715335680   2897366
##  3     Algeria           Northern Africa      507901640704  38186136
##  4      Angola             Middle Africa      152477499392  23448202
##  5   Australia Australia and New Zealand      990474338304  23125868
##  6     Austria            Western Europe      373413642240   8479375
##  7     Bahamas                 Caribbean        8497731584    377841
##  8     Bahrain              Western Asia       56583507968   1349427
##  9  Bangladesh             Southern Asia      446835425280 157157392
## 10    Barbados                 Caribbean        4333428224    282503
## # ... with 129 more rows, and 3 more variables: ti_cpi &lt;dbl&gt;,
## #   lp_muslim80 &lt;dbl&gt;, fh_ipolity2 &lt;dbl&gt;</code></pre>
</div>
<p style="text-align: center;">
<a href="4-3-ordenar-la-base.html"><button class="btn btn-default">Previous</button></a>
<a href="4-5-renombrar-columnas.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>



</body>
<!-- </html> -->
