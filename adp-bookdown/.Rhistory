modelo_1 <- glm(breakdown ~ shugart,
data   = datos_mp,
family = binomial("logit"))
datos_mp <- read_stata("00-datos/Cap 7_base_mainwaring_perez.dta")
library(tidyverse)
library(haven)
datos_mp <- read_stata("00-datos/Cap 7_base_mainwaring_perez.dta")
modelo_1 <- glm(breakdown ~ shugart,
data   = datos_mp,
family = binomial("logit"))
summary(modelo_1)
qplot(shugart, geom="histogram")
attach(datos_mp)
qplot(shugart, geom="histogram")
source("ac2_lab2_funs.R")
source("ac2_lab2_funs.R")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1, "cntryyear"))
)
library(stargazer)
source("ac2_lab2_funs.R")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1, "cntryyear"))
)
library(stargazer)
source("ac2_lab2_funs.R")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
)
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1, "cntryyear"))
)
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1_se_cl, "cntryyear"))
)
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1_se_cl, "cntryyear")
)
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
)
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1_se_cl, "cntryyear")
)
library(stargazer)
source("ac2_lab2_funs.R")
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = list(rob_cl_se_glm_vctr(modelo_1_se_cl, "cntryyear")
)
modelo_1_se_cl <- list(rob_cl_se_glm_vctr(modelo_1, "cntryyear")
stargazer_easy_binary(modelo_1,
type    = "text",
report  = "vct*",
title   = "Modelo capítulo Mainwaring-Perez Liñan",
se      = modelo_1_se_cl)
)
knitr::include_graphics("images/fig_7_3.png")
knitr::include_graphics("images/fig_7_3.png")
knitr::include_graphics("00-images/fig_7_3.png")
knitr::include_graphics("images/fig_7_1.png")
library(tidyverse)
library(haven)
datos_mp <- read_stata("00-datos/Cap 7_base_mainwaring_perez.dta")
summary(datos_mp)
modelo_1 <- glm(breakdown ~ shugart,
data   = datos_mp,
family = binomial("logit"))
summary(modelo_1)
attach(datos_mp)
qplot(shugart, geom="histogram")
if (!require("pacman"))
install.packages("pacman"); library(pacman)
p_load(haven,    # parte del tidyverse, para cargar bases de datos en formatos foráneos
verification,
janitor,  # nos da la función tabyl(), para hacer tablas tidy
sjPlot,
stargazer, # nos ayuda a hacer tablas de modelos de regresión
tidyverse,
pscl,
separationplot
)
library(stargazer)
source("ac2_lab2_funs.R")
library(stargazer)
source("ADP.R")
modelo_2 <- glm(breakdown ~ shugart+age,
data   = datos_mp,
family = binomial("logit"))
summary(modelo_2)
qplot(fh, geom="histogram")
modelo_3 <- glm(breakdown ~ shugart+age+fh,
data   = datos_mp,
family = binomial("logit"))
summary(modelo_3)
mp_modelos <- list(modelo_1,
modelo_2,
modelo_3)
stargazer_easy_binary(mp_modelos,
type   = "html", # OJO
out    = "output/tabla_mp_modelos.htm", # OJO
report = "vct*",
title  = "Modelos 1-3 en base a Mainwaring y Perez Liñan (2013)",
)
stargazer_easy_binary(mp_modelos,
type   = "html", # OJO
out    = "output/tabla_mp_modelos.htm", # OJO
report = "vct*",
title  = "Modelos 1-3 en base a Mainwaring y Perez Liñan (2013)",
)
stargazer_easy_binary(mp_modelos,
type   = "html", # OJO
out    = "output/tabla_mp_modelos.htm", # OJO
report = "vct*",
title  = "Modelos 1-3 en base a Mainwaring y Perez Liñan (2013)",
align  = TRUE,
dep.var.labels = c("Quiebre de régimen"),
covariate.labels =c ("Indice de Shugart & Carey (1992)","Edad del régimen",
"Freedom House")
)
stargazer_easy_binary(mp_modelos,
type   = "html", # OJO
out    = "output/tabla_mp_modelos.htm", # OJO
report = "vct*",
title  = "Modelos 1-3 en base a Mainwaring y Perez Liñan (2013)",
align  = TRUE,
dep.var.labels = c("Quiebre de régimen"),
covariate.labels =c ("Indice de Shugart & Carey (1992)","Edad del régimen",
"Freedom House"),
no.space = TRUE)
)
stargazer(mp_modelos,
type   = "html", # OJO
out    = "output/tabla_mp_modelos.htm", # OJO
report = "vct*",
title  = "Modelos 1-3 en base a Mainwaring y Perez Liñan (2013)",
align  = TRUE,
dep.var.labels = c("Quiebre de régimen"),
covariate.labels =c ("Indice de Shugart & Carey (1992)","Edad del régimen",
"Freedom House"),
no.space = TRUE)
)
stargazer_easy_binary(mp_modelos,
type   = "html", # OJO
out    = "output/tabla_mp_modelos.htm", # OJO
report = "vct*",
title  = "Modelos 1-3 en base a Mainwaring y Perez Liñan (2013)",
align  = TRUE,
dep.var.labels = c("Quiebre de régimen"),
covariate.labels =c ("Indice de Shugart & Carey (1992)","Edad del régimen",
"Freedom House"),
no.space = TRUE)
)
stargazer_easy_binary(modelo_3,
type   = "text",
report = "vct*",
title  = "Modelo 3 en base Mainwaring y Perez Liñan (2013)",
)
knitr::include_graphics("00-images/fig_3_1.png")
knitr::include_graphics("00-images/fig_3_2.png")
preview_chapter()
bookdown::preview_chapter()
?bookdown::preview_chapter
bookdown::preview_chapter("01-prefacio.Rmd")
?bookdown::tufte_book2
?knitr::opts_chunk
bookdown::preview_chapter("99-créditos.Rmd")
bookdown::preview_chapter("99-créditos.Rmd")
bookdown::preview_chapter("99-créditos.Rmd")
knitr::include_graphics("00-images/bin-invlogit.png")
# Chunk 1
**Lectura de referencia:**
- Box-Steffensmeier, J. M., Brady, H. E., & Collier, D. (Eds.). (2008). *The Oxford Handbook of Political Methodology* (Vol. 10). Oxford Handbooks of Political Science. Oxford: Oxford University Press. Cap. 22 – Discrete Choice Methods.
- Agresti, A. (2007). *An Introduction to Categorical Data Analysis*, 2nd Ed. Hoboken: Wiley. Cap. 3, 4 y 5 – Generalized Linear Models; Logistic Regression; Building and Applying Logistic Regression Models.
- Greenhill, B., Ward, M. D., & Sacks, A. (2011). The separation plot: A new visual method for evaluating the fit of binary models. *American Journal of Political Science*, 55(4), 991-1002.
# Chunk 2: bin-realmuestra
knitr::include_graphics("00-images/bin-realmuestra.png")
# Chunk 3: bin-bernou
knitr::include_graphics("00-images/bin-bernou.png")
install.packages("bookdown")
library(matching)
library(dyplr)
library(haven)
library(dyplr)
library(ggplot2)
library(broom)
library(av.plots)
library(MatchIt)
inequality <- read.csv("c:/Users/user/Dropbox/FRAN/PUC Chile/Summer School/2018/lab/inequality.csv")
attach(inequality)
names(inequality)
modelo1<-lm(gini~polity)
modelo1<-lm(gini~polity, data=inequality)
modelo1<-lm(Gini~Polity, data=inequality)
summary(modelo1)
modelo2<-lm(Gini~Polity+log(GDP), data=inequality)
summary(modelo2)
par(mfrow = c(2, 2))
plot(modelo2)
View(inequality)
View(inequality)
d$predicted <- predict(fit)   # valores predichos
d$residuals <- residuals(fit) # residuos
d$predicted <- predict(modelo2)   # valores predichos
d$residuals <- residuals(modelo2) # residuos
inequality$predicted <- predict(modelo2)   # valores predichos
inequality$residuals <- residuals(modelo2) # residuos
predicted <- predict(modelo2)   # valores predichos
residuals <- residuals(modelo2) # residuos
inequality %>% select(Gini, predicted, residuals) %>% head()
library(dyplr)
library(dplyr)
inequality %>% select(Gini, predicted, residuals) %>% head()
inequality$predicted <- predict(modelo2, na.action=na.omit)   # valores predichos
inequality$residuals <- residuals(modelo2, na.action=na.omit) # residuos
predicted <- predict(lm(Gini~Polity+log(GDP), data=inequality))   # valores predichos
inequality$predicted <- predict(lm(Gini~Polity+log(GDP), data=inequality))   # valores predichos
modelo1<-lm(Gini~Polity, data=inequality na.action=na.omit)
summary(modelo1)
#3
modelo2<-lm(Gini~Polity+log(GDP), data=inequality na.action=na.omit)
summary(modelo2)
inequality$predicted <- predict(modelo2, na.action=na.omit)   # valores predichos
inequality$residuals <- residuals(modelo2, na.action=na.omit) # residuos
ggplot(inequality, aes(x = Polity, y = Gini)) + geom_point()
ggplot(inequality, aes(x = log(GDP), y = Gini)) + geom_point()
ggplot(inequality, aes(x = Polity, y = Gini)) + geom_point() + geom_point(aes(y = predicted), shape = 1)
ggplot(inequality, aes(x = Polity, y = Gini)) + geom_point() + geom_point(aes(y = predicted), shape = 1)
+geom_segment(aes(xend = Polity, yend = predicted))
ggplot(inequality, aes(x = Polity, y = Gini)) + geom_point() + geom_point(aes(y = predicted), shape = 1)
+geom_segment(aes(xend = Polity, yend = predicted))
ggplot(inequality, aes(x = Polity, y = Gini)) + geom_point() + geom_point(aes(y = predicted), shape = 1)+geom_segment(aes(xend = Polity, yend = predicted))
ggplot(inequality, aes(x = Polity, y = Gini)) + geom_point() + geom_point(aes(y = predicted), shape = 1)+
geom_segment(aes(xend = Polity, yend = predicted))
